{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/array/from.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/array/is-array.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/get-iterator.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/is-iterable.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/map.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/object/assign.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/object/create.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/object/define-property.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/object/get-prototype-of.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/object/set-prototype-of.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/parse-float.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/parse-int.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/set.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/symbol.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/core-js/symbol/iterator.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/arrayWithHoles.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/arrayWithoutHoles.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/assertThisInitialized.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/createClass.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/inherits.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/iterableToArray.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/iterableToArrayLimit.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/nonIterableRest.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/nonIterableSpread.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/setPrototypeOf.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/toConsumableArray.js","webpack:////var/www/eventgallery/build/node_modules/@babel/runtime-corejs2/helpers/esm/typeof.js","webpack:////var/www/eventgallery/build/node_modules/@glidejs/glide/dist/glide.modular.esm.js","webpack:////var/www/eventgallery/build/node_modules/@glidejs/glide/src/assets/sass/glide.core.scss?bf28","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/array/from.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/array/is-array.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/get-iterator.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/is-iterable.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/map.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/object/assign.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/object/create.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/object/define-property.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/object/get-prototype-of.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/object/set-prototype-of.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/parse-float.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/parse-int.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/set.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/symbol/index.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/fn/symbol/iterator.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_a-function.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_add-to-unscopables.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_an-instance.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_an-object.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_array-from-iterable.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_array-includes.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_array-methods.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_array-species-constructor.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_array-species-create.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_classof.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_cof.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_collection-strong.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_collection-to-json.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_collection.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_core.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_create-property.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_ctx.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_defined.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_descriptors.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_dom-create.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_enum-bug-keys.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_enum-keys.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_export.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_fails.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_for-of.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_global.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_has.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_hide.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_html.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_ie8-dom-define.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_iobject.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_is-array-iter.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_is-array.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_is-object.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_iter-call.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_iter-create.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_iter-define.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_iter-detect.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_iter-step.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_iterators.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_library.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_meta.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_object-assign.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_object-create.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_object-dp.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_object-dps.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_object-gopd.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_object-gopn-ext.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_object-gopn.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_object-gops.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_object-gpo.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_object-keys-internal.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_object-keys.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_object-pie.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_object-sap.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_parse-float.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_parse-int.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_property-desc.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_redefine-all.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_redefine.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_set-collection-from.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_set-collection-of.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_set-proto.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_set-species.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_set-to-string-tag.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_shared-key.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_shared.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_string-at.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_string-trim.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_string-ws.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_to-absolute-index.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_to-integer.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_to-iobject.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_to-length.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_to-object.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_to-primitive.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_uid.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_validate-collection.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_wks-define.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_wks-ext.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/_wks.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/core.get-iterator-method.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/core.get-iterator.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/core.is-iterable.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es6.array.from.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es6.array.is-array.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es6.array.iterator.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es6.map.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es6.object.assign.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es6.object.create.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es6.object.define-property.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es6.object.get-prototype-of.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es6.object.set-prototype-of.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es6.parse-float.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es6.parse-int.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es6.set.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es6.string.iterator.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es6.symbol.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es7.map.from.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es7.map.of.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es7.map.to-json.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es7.set.from.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es7.set.of.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es7.set.to-json.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/es7.symbol.observable.js","webpack:////var/www/eventgallery/build/node_modules/core-js/library/modules/web.dom.iterable.js","webpack:////var/www/eventgallery/build/node_modules/custom-event-polyfill/polyfill.js","webpack:///./common/js/EventgalleryTools.js","webpack:///./common/js/Helpers.js","webpack:///./eventgallery.js","webpack:///./frontend/js/EventgalleryBehavior.js","webpack:///./frontend/js/EventgalleryCart.js","webpack:///./frontend/js/EventgalleryEventsList.js","webpack:///./frontend/js/EventgalleryEventsTiles.js","webpack:///./frontend/js/EventgalleryGooglePhotosProcessor.js","webpack:///./frontend/js/EventgalleryImage.js","webpack:///./frontend/js/EventgalleryImageList.js","webpack:///./frontend/js/EventgalleryJSGallery2.js","webpack:///./frontend/js/EventgalleryLazyload.js","webpack:///./frontend/js/EventgalleryRow.js","webpack:///./frontend/js/EventgallerySizeCalculator.js","webpack:///./frontend/js/EventgallerySocialShareButton.js","webpack:///./frontend/js/EventgallerySquareList.js","webpack:///./frontend/js/EventgalleryTilesCollection.js","webpack:///./frontend/js/EventgalleryTouch.js","webpack:///./frontend/js/Modules.js","webpack:///./frontend/js/Overlay.js","webpack:///./frontend/js/PhotoSwipeGallery.js","webpack:///./frontend/js/PhotoSwipeGallerySlide.js","webpack:///./frontend/js/Polyfill.ts","webpack:///./frontend/js/SlideShow.js","webpack:///./frontend/js/URLHelper.js","webpack:///./frontend/js/glide_modules/anchor.js","webpack:///./frontend/js/slider/SliderOptions.js","webpack:///./frontend/js/slider/SliderStarter.js","webpack:///./frontend/js/slider/SliderTransformator.js","webpack:///./frontend/js/utils/ElementSize.js","webpack:///./frontend/js/utils/camelCaseConverter.js","webpack:///./frontend/js/utils/eventshandler.js","webpack:///./frontend/js/utils/units.js","webpack:///./frontend/less/eventgallery.less?c970","webpack:///./frontend/less/font-awesome/font-awesome.less","webpack:///./frontend/sass/glide/glide.theme.scss?bcf8","webpack:///./photoswipe/default-skin/default-skin.css","webpack:///./photoswipe/photoswipe-ui-default.js","webpack:///./photoswipe/photoswipe.css","webpack:///./photoswipe/photoswipe.js"],"names":["window","Eventgallery","eventgallery","jQuery","Tools","mergeObjects","calcBorderWidth","addUrlHashParameter","getUrlHashParameterValue","removeUrlHashParameter","addUrlParameter","removeUrlParameter","setCSSStyle","removeElement","array","elm","index","indexOf","splice","defaults","options","key","elements","properties","sum","i","length","j","value","css","isNaN","initialUrl","url","fragments","split","urlpart","hashparts","result","push","encodeURIComponent","join","prefix","replace","newHashParts","urlparts","pars","nodes","style","getParents","node","parents","parentElement","parent","serializeForm","form","serialized","inputElements","querySelectorAll","field","name","disabled","type","n","selected","checked","require","document","ready","each","container","$container","$thumbnails","find","rowHeightPercentage","imagesetContainer","first","imageset","lazyloader","initComplete","lazyLoadOptions","eventgalleryLazyloader","Lazyload","resizeStart","removeClass","addClass","resizeComplete","initialize","trigger","EventsList","eventgalleryTilesCollection","tilesOptions","tiles","tilesContainer","TilesCollection","calculate","load","EventsTiles","adjustMode","gridOptions","thumbSelector","thumbContainerSelector","$imagesetContainer","rowHeight","data","rowHeightJitter","firstImageRowHeight","doFillLastRow","Imagelist","SquareList","click","e","$target","target","closest","prop","on","preventDefault","stopPropagation","link","attr","location","href","lightbox","PhotoSwipeGallery","initPhotoSwipe","item","contentId","getAttribute","overlay","Overlay","openOverlay","getElementById","innerHTML","EventGalleryLightboxConfiguration","doPreventRightClick","googlePhotosProcessor","GooglePhotosProcessor","dispatchEvent","Polyfill","createNewEvent","sliderElements","sliderStarter","SliderStarter","timer","start","addEventListener","clearTimeout","setTimeout","Cart","newOptions","cart","isMultiline","buttonShowType","emptyCartSelector","cartSelector","cartItemContainerSelector","cartItemsSelector","cartItemSelector","cartCountSelector","buttonDownSelector","buttonUpSelector","cartItemsMinHeight","removeUrl","add2cartUrl","getCartUrl","removeLinkTitle","prototype","slideUp","animate","height","slideDown","proxy","event","$document","off","updateQuantity","openCart","quantityPlus","quantityMinus","removeFromCart","populateCart","updateCart","EventGalleryCartConfiguration","add2carturl","$button","tagName","updateCartItemContainer","y","currentObject","posY","position","top","down","up","linksOnly","cartHTML","html","id","folder","file","count","imagetag","lineitemid","undefined","reload","getJSON","json","doRequest","$inputFild","imagetypeid","quantity","val","fieldName","inputField","currentVal","maxOrderQuantity","change","linkElement","iconElement","children","call","constructor","processList","width","images","Math","ceil","setSize","newHeight","round","newWidth","LOADING_MATCHER","MARKER_IMAGE_IS_IN_PROGRESS_ATTRIBUTE","albumUrl","albumsUrl","EventGalleryGooglePhotosConfiguration","processImages","albums","_groupByAlbum","_collectHTMLElements","_markImagesAsInProgress","_getMainImageDataFromServer","htmlCollection","getElementsByTagName","foundImageHTMLElements","filter","img","backgroundImage","longDesc","src","foundLinkHTMLElements","concat","a","rel","foldername","album","forEach","parsedHTMLElement","getHTMLElement","setAttribute","htmlElements","imageHTMLElement","_parseHTMLElement","updateParameters","parameters","get","set","htmlElement","ParsedImageHTMLElement","ParsedLinkHTMLElement","_doAlbumRequest","fetch","then","response","_processAlbumResult","_replaceImages","albumsWithMainImagesOnly","_filterForAlbumsWithMainImageOnly","size","_doAlbumsRequest","delete","_getAlbumDataFromServer","_processAlbumsResult","newAlbums","mainImages","image","isMainImage","serverResult","parsedImageHTMLElement","imageUrl","getFile","replaceElementLinks","isOpen","getCurrentSlide","thumbnailContainer","_gallery","close","ParsedHTMLElement","attributeNames","styleAttributeNames","parameterString","substring","URLHelper","parseURLParameter","updateParametersWithUrl","extractBackgroudUrl","getImageUrl","getWidth","Image","tag","calculatedWidth","calcSize","glueLeft","glueRight","glueTop","glueBottom","getImageTagHeight","getComputedStyle","isFlickr","ratio","sizeCalculator","SizeCalculator","backgroundImageStyle","secret","secret_o","secret_h","secret_k","farm","server","getFlickrURL","googleWidth","getSize","adjustImageURL","minImageWidth","eventgalleryPageWidth","images_tags","resize","eventgalleryTimer","new_width","getRowWidth","rowWidth","floor","imagesToProcess","slice","shift","imageHeight","imageWidth","rowHeightForRightSideImages","maxWidth","maxHeight","adjustHeight","generateRows","heightJitter","numberOfRowsToCreate","finalRows","currentRow","Row","addSuccessfull","add","processRow","isLastRow","JSGallery2","thumbs","bigImageContainer","pageContainer","pages","running","currentPageNumber","blockKeys","imagesPerFirstPage","imagesPerPage","bigImage","convertThumbs","lastPage","initialIndex","createControls","createGallerySlides","gotoPage","unBlockKeys","selectByIndex","slides","thumbContainer","lightboxLinkElement","newSrc","title","decodeURIComponent","slide","w","h","prevLink","bind","prevImage","mouseleave","mouseLeaveHandler","mouseover","focusControl","zoomLink","nextLink","nextImage","append","showBigImage","showCartButton","add2cartLink","showCartConnector","cartConnectorLink","cartConnectorLinkRel","showSocialMediaButton","socialmediabutton","SocialShareButton","openShareDialog","keydown","keyboardHandler","dragLockToAxis","dragBlockHorizontal","swipeVelocityX","swipeleft","swiperight","tabaction","Touch","addTouch","touchContainerSelector","control","keyCode","getDistanceToMouse","element","s","xDiff","abs","clientX","left","yDiff","clientY","sqrt","pow","resetThumbs","select","selectedContainer","convertThumb","forceReload","deselect","history","pushState","targetPage","activeClass","source","setImage","unbind","currentIndex","openPhotoSwipe","setAfterChangeEventListener","gid","getCurrentIndex","gotoSlide","titleTarget","prevPage","nextPage","zoomImage","pageNumber","selectImage","page","updateHandles","dummy","prevHandle","fadeOut","fadeIn","nextHandle","countHandle","updatePagingBar","currentPage","pageCount","createCountLink","pageSpeed","skipFromRight","skipFromLeft","spaceToRight","spaceToLeft","gallery","myAnchor","myListItem","range","startPosition","onScroll","onLoad","onComplete","EventGalleryLazyloadRange","body","$elements","containerDimension","$offset","self","el","$el","action","currentPosition","scrollTop","elPos","offset","random","eventgalleryImage","addThisImage","gap","gapToClose","availableSizes","flickrSizes","originalwidth","originalheight","longSideSize","originalLongSideSize","sizeCode","secretString","sizeString","minSizes","getMinSizes","widthOkay","heightOkay","lastItem","boxWidth","boxHeight","originalWidth","originalHeight","DownloadButton","download","createElement","appendChild","removeChild","ClickableButton","targetPos","myDiv","closeFunction","remove","closeFunction2","mouseenter","myDivs","tilesPerRow","tile","columnHeight","columnWidth","outerWidth","$tile","outerHeight","smallestColumn","getSmallestColumn","getHighestColumn","smallestColumnValue","smallestColumnNumber","columnValue","columnNumber","removeTouch","elementSelector","leftAction","rightAction","tabAction","allowScrolling","hDistance","vDistance","hDistanceLast","vDistanceLast","hDistancePercent","vSwipe","hSwipe","hSwipMinDistance","vSwipMinDistance","startCoords","endCoords","winWidth","innerWidth","$","winHeight","innerHeight","originalEvent","targetTouches","pageX","pageY","background","$body","onClosed","repositionTimer","windowWidth","dataUrl","onclick","closeOverlay","reposition","startsWith","_getRemoteData","_addContent","_setRositionTimer","force","content","getElementsByClassName","hide","show","callback","ajax","done","PSWP_CONTROLS_MAIN_ELEMENT_CLASS","PSW_CONTROLS_SLIDESHOW_BUTTON_ELEMENT_CLASS","PSW_HIDE_CLASS","PSWP_CONTROLS","_isOpen","galleries","getGalleries","values","l","map","hash","thumbnails","getThumbnailContainers","parseThumbnailElement","returnValue","eTarget","srcElement","iconContainer","classList","contains","clickedListItem","toUpperCase","getSlideBy","getIndexOfSlide","disableAnimation","fromURL","pswpElement","galleryPIDs","galleryUID","shareEl","downloadEl","add2cartEl","getThumbBoundsFn","thumbnail","pageYScroll","pageYOffset","documentElement","rect","getBoundingClientRect","x","overlayClass","pinchToClose","closeOnVerticalDrag","closeOnScroll","navigationFadeDelay","timeToIdle","timeToIdleOutside","pid","showAnimationDuration","PhotoSwipe","PhotoSwipeUIDefault","init","initSlideShow","listen","appendControlls","_registerClickEvents","hashData","parseHash","onThumbnailsClick","currItem","afterChangeFunction","goTo","items","pop","invalidateCurrItems","updateSize","next","doUseSlideshow","slideShow","SlideShow","setDelay","slideshowSpeed","doUseAutoplay","toggleSlideShowState","eventName","fn","tc","thumbnailContainerIsAllowed","input","KEY_CLOSE","KEY_SHARE","KEY_DOWNLOAD","KEY_BUY","KEY_ZOOM","KEY_PREVIOUS","KEY_NEXT","KEY_FULLSCREEN","KEY_PLAYSLIDESHOW","KEY_PAUSESLIDESHOW","controllElements","removeHtmlElementNode","div","translate","parentNode","_parseHashString","params","vars","pair","imgEl","nodeType","PhotoSwipeGallerySlide","msrc","photoSwipeGallery","_photoSwipeGallery","_SlideShow_Running","_currentTimer","_SlideShow_Delay","_SlideShow_Button","interactionHandler","ontouchstart","_planNextSwitch","_stopSlideshow","_adjustNavigation","delay","_startSlideshow","isForTheFirstSwitch","_nextSlide","nextSlide","urlParameterString","pairs","splittedPair","urlSring","parts","queryParts","urlString","Glide","Components","Events","Binder","EventsHandler","prevented","isSwiping","Anchors","mount","_a","Html","wrapper","detach","attach","Object","defineProperty","Transition","after","destroy","SliderOptions","autoplay","slidesElementsSelector","numberOfRowsPerSlide","showNav","_parseOptions","attributes","CamelCaseConverter","toCamelCase","sourceGroupElement","sliderTransformator","sliderOptions","_loadOptions","sourceElementSelector","getSlidesElementsSelector","getAutoPlay","doShowNav","numberOfItemsPerSlide","ElementSize","calclateNumberOfFittingItemsPerSlide","querySelector","getNumberOfRowsPerSlide","SliderTransformator","rootElement","transform","glide","perView","keyboard","Swipe","Controls","Breakpoints","Autoplay","Anchor","Images","sliderRootSelector","sliderGroupSelector","basicMarkup","sourceElements","getSourceElements","sliderRoot","sliderMarkup","createRange","createContextualFragment","controlElement","sliderGroupElement","currentSliderElement","className","domRect","computedStyle","marginLeft","marginRight","containerElement","numberOfRows","getOuterWidth","str","m","listeners","events","closure","capture","isString","isNodeList","isArray","listener","removeEventListener","NodeList","isPrototypeOf","pswp","framework","ui","_overlayUIUpdated","_controlsVisible","_fullscrenAPI","_controls","_captionContainer","_fakeCaptionContainer","_indexIndicator","_shareButton","_shareModal","_add2cartButton","_add2cartOverlay","_shareModalHidden","_add2cartModalHidden","_initalCloseOnScrollValue","_isIdle","_listen","_loadingIndicator","_loadingIndicatorHidden","_loadingIndicatorTimeout","_galleryHasOneSlide","_options","_defaultUIOptions","barsSize","bottom","closeElClasses","loadingIndicatorDelay","addCaptionHTMLFn","captionEl","closeEl","fullscreenEl","zoomEl","counterEl","arrowEl","preloaderEl","tapToClose","tapToToggleControls","clickToCloseNonZoomable","shareButtons","label","getImageURLForShare","getPageURLForShare","getTextForShare","indexIndicatorSep","fitControlsWidth","_blockControlsTap","_blockControlsTapTimeout","_onControlsTap","mouseUsed","_onIdleMouseMove","uiElement","clickedClass","found","_uiElements","onTap","tapDelay","features","isOldAndroid","_fitControlsInViewport","likelyTouchDevice","screen","_togglePswpClass","cName","_countNumItems","hasOneSlide","getNumItemsFn","_toggleShareModalClass","_toggleShareModal","_updateShareURLs","_toggleAdd2cartModal","isFullscreen","exit","_updateAdd2cartContent","_openWindowPopup","shout","hasAttribute","open","sharingButtons","sharingButton","add2cartButtons","add2cartButton","_hasCloseClass","hasClass","_idleInterval","_idleTimer","_idleIncrement","setIdle","_onMouseLeaveWindow","from","relatedTarget","toElement","nodeName","_setupFullscreenAPI","getFullscreenAPI","eventK","updateFullscreen","template","_setupLoadingIndicator","_toggleLoadingIndicator","loading","allowProgressiveImg","naturalWidth","_applyNavBarGaps","vGap","bars","createEl","insertBefore","captionSize","clientHeight","_setupIdle","setInterval","_setupHidingControlsDuringGestures","now","hideControls","showControls","pinchControlsHidden","option","onInit","downloadButtons","toggleDesktopZoom","prev","enter","_setupUIElements","classAttr","loopThroughChildElements","sChildren","topBar","getChildByClass","extend","scrollWrap","update","point","initialZoomLevel","getZoomLevel","zoomTo","getDoubleTapZoom","isDown","preventObj","t","test","prevent","onGlobalTap","onMouseOver","clearInterval","hideAnimationDuration","isIdle","updateIndexIndicator","setScrollOffset","getScrollY","detail","pointerType","fitRatio","releasePoint","supportsFullscreen","d","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","dE","api","tF","requestFullscreen","enterK","exitK","elementK","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","UiClass","methodName","obj","Array","classes","yOffset","reg","RegExp","parentEl","childClassName","firstChild","nextSibling","arraySearch","o1","o2","preventOverwrite","hasOwnProperty","easing","sine","out","k","sin","PI","inOut","cos","cubic","detectFeatures","helperEl","helperStyle","vendor","oldIE","all","touch","requestAnimationFrame","raf","caf","cancelAnimationFrame","pointerEvent","PointerEvent","navigator","msPointerEnabled","ua","userAgent","platform","v","appVersion","match","isOldIOSPhone","androidversion","androidVersion","isMobileOpera","styleChecks","vendors","styleCheckItem","styleName","charAt","toLowerCase","lastTime","currTime","Date","getTime","timeToCall","max","svg","createElementNS","createSVGRect","evName","_handleEv","handleEvent","DOUBLE_TAP_RADIUS","NUM_HOLDERS","allowPanToNext","spacing","bgOpacity","loop","verticalDragRange","showHideOpacity","focus","escKey","arrowKeys","mainScrollEndFriction","panEndFriction","isClickableElement","isMouseClick","maxSpreadZoom","modal","scaleMode","_getEmptyPoint","_isDestroying","_closedByScroll","_currentItemIndex","_containerStyle","_containerShiftIndex","_currPanDist","_startPanOffset","_panOffset","_upMoveEvents","_downEvents","_globalEventHandlers","_viewportSize","_currZoomLevel","_startZoomLevel","_translatePrefix","_translateSufix","_updateSizeInterval","_itemsNeedUpdate","_currPositionIndex","_offset","_slideSize","_itemHolders","_prevItemIndex","_indexDiff","_dragStartEvent","_dragMoveEvent","_dragEndEvent","_dragCancelEvent","_transformKey","_pointerEventEnabled","_isFixedPosition","_likelyTouchDevice","_modules","_requestAF","_cancelAF","_initalClassName","_initalWindowScrollY","_oldIE","_currentWindowScrollY","_features","_windowVisibleSize","_renderMaxResolution","_orientationChangeTimeout","_registerModule","module","publicMethods","_getLoopedId","numSlides","_getNumItems","_listeners","_shout","args","arguments","apply","_getCurrentTime","_applyBgOpacity","opacity","_bgOpacity","bg","_applyZoomTransform","styleObj","zoom","_applyCurrentZoomPan","allowRenderResolution","_currZoomElementStyle","_setImageSize","_applyZoomPanToItem","initialPosition","_setTranslateX","elStyle","_moveMainScroll","dragging","newSlideIndexOffset","delta","_mainScrollPos","_calculatePanOffset","axis","zoomLevel","_midZoomPoint","_equalizePoints","p1","p2","_roundPoint","p","_mouseMoveTimeout","_onFirstMouseMove","_bindEvents","_unbindEvents","scroll","_isDragging","_calculatePanBounds","bounds","_calculateItemSize","_currPanBounds","_getMinZoomLevel","_getMaxZoomLevel","_modifyDestPanOffset","destPanBounds","destPanOffset","destZoomLevel","min","_setupTransforms","allow3dTransform","perspective","zoomRatio","_onKeyDown","keydownAction","ctrlKey","altKey","shiftKey","metaKey","_onGlobalClick","_moved","_zoomStarted","_mainScrollAnimating","_verticalDragInitiated","_updatePageScrollOffset","_animations","_numAnimations","_stopAnimation","_registerStartAnimation","_stopAllAnimations","_animateProp","b","endProp","easingFn","onUpdate","startAnimTime","animloop","viewportSize","isMainScrollAnimating","isDragging","isZooming","_isZooming","applyZoomPan","panX","panY","itemHolders","wrap","display","orientationchange","clientWidth","oldPhone","animationName","_getItemAt","rootClasses","mainClass","setContent","updateCurrItem","_showOrHide","_showOrHideTimeout","_stopDragUpdateLoop","panTo","diff","updateCurrZoomItem","emulateSetContent","zoomElement","center","needsUpdate","beforeAnimation","diffAbs","tempHolder","unshift","prevItem","windowScrollY","holder","hIndex","cleanSlide","centerPoint","speed","updateFn","initialPanOffset","MIN_SWIPE_DISTANCE","DIRECTION_CHECK_OFFSET","_gestureStartTime","_gestureCheckSpeedTime","_currPoint","_startPoint","_currPointers","_startMainScrollPos","_releaseAnimData","_posPoints","_tempPoint","_isZoomingIn","_oldAndroidTouchEndTimeout","_currZoomedItemIndex","_centerPoint","_lastReleaseTime","_isMultitouch","_dragAnimFrame","_mainScrollShifted","_currentPoints","_currPointsDistance","_startPointsDistance","_currCenterPoint","_direction","_isFirstMove","_opacityChanged","_wasOverInitialZoom","_isEqualPoints","_isNearbyPoints","touch0","touch1","_calculatePointsDistance","_dragUpdateLoop","_renderMovement","_canPan","_closestElement","_preventObj","_preventDefaultEventBehaviour","_convertTouchToPoint","identifier","_findCenterOfPoints","pCenter","_pushPosPoint","time","o","_calculateVerticalDragOpacityRatio","_ePoint1","_ePoint2","_tempPointsArr","_tempCounter","_getTouchPoints","touches","_panOrMoveMainScroll","panFriction","overDiff","newOffset","startOverDiff","dir","newMainScrollPosition","mainScrollDiff","newPanPos","newMainScrollPos","_onDragStart","button","_initialZoomRunning","pointerIndex","pointerId","startPointsList","numPoints","_onDragMove","touchesList","pointsDistance","_calculateZoomLevel","zoomFriction","minZoomLevel","maxZoomLevel","minusDiff","percent","opacityRatio","mainScrollChanged","_onDragRelease","MSPOINTER_TYPES","touchList","gestureType","changedTouches","releaseTimeDiff","_initDragReleaseAnimationData","calculateSwipeSpeed","initalPanY","initialBgOpacity","itemChanged","_finishSwipeMainScrollGesture","_completeZoomGesture","_completePanGesture","lastFlickDuration","tempReleasePos","lastFlickOffset","lastFlickDist","lastFlickSpeed","slowDownRatio","slowDownRatioReverse","speedDecelerationRatio","speedDecelerationRatioAbs","distanceOffset","backAnimDestination","backAnimStarted","calculateOverBoundsAnimOffset","pos","calculateAnimOffset","timeDiff","panAnimLoop","zoomPan","lastNow","animData","itemsDiff","totalShiftDist","isFastLastFlick","nextCircle","animateToX","animateToDist","finishAnimDuration","touchesDistance","destOpacity","initialOpacity","initGestures","addEventNames","pref","move","cancel","maxTouchPoints","msMaxTouchPoints","mousedown","mousemove","mouseup","completeFn","_initialContentSet","thumbBounds","initialLayout","duration","removeAttribute","startAnimation","closeWithRaf","fadeEverything","loadError","miniImg","webkitBackfaceVisibility","initalBgOpacity","_items","_tempPanAreaSize","_imagesToAppendPool","_controllerDefaultOptions","errorMsg","forceProgressiveLoading","preload","_initialIsLoop","_getZeroBounds","_calculateSingleItemPanBounds","realPanElementW","realPanElementH","isInitial","hRatio","vRatio","_appendImage","baseDiv","preventAnimation","keepPlaceholder","imageAppended","loaded","placeholder","_preloadImage","loadComplete","onload","onerror","_checkForError","cleanUp","maxRes","lastChild","_appendImagesPool","poolItem","clearPlaceholder","lazyLoadItem","initController","getItemAt","isNext","preloadBefore","preloadAfter","preloader","placeholderClassName","tapTimer","tapReleasePoint","_dispatchTapEvent","origEvent","createEvent","eDetail","initCustomEvent","initTap","onTapStart","onTapRelease","p0","clickedTagName","_wheelDelta","initDesktopZoom","setupDesktopZoom","handleMouseWheel","mouseZoomedIn","hasDraggingClass","updateZoomable","removeDraggingClass","deltaY","deltaMode","deltaX","wheelDeltaX","wheelDeltaY","wheelDelta","newPanX","newPanY","doubleTapZoomLevel","zoomOut","_historyDefaultOptions","_historyUpdateTimeout","_hashChangeTimeout","_hashAnimCheckTimeout","_hashChangedByScript","_hashChangedByHistory","_hashReseted","_initialHash","_historyChanged","_closedFromURL","_urlChangedOnce","_windowLoc","_supportsPushState","_getHash","_cleanHistoryTimeouts","_parseItemIndexFromURL","searchfor","_updateHash","newHash","newURL","initHistory","updateURL","onHashChange","returnToOriginal","back","pathname","search"],"mappings":"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A;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,yBAAyB;AAC/B;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA,yEAAyE,2BAA2B;AACpG,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,iBAAiB,sBAAsB;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,EAAE;AACd,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,EAAE;AACd,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA,6DAA6D;AAC7D;;AAEA;AACA;AACA;AACA,YAAY,EAAE;AACd,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,EAAE;AACd,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,EAAE;AACd,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,EAAE;AACd,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA,GAAG,IAAI;AACP;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA,2BAA2B;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;AACA,6CAA6C;AAC7C;AACA;;AAEA;AACA,qCAAqC;AACrC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,aAAa;AAC1B,aAAa,SAAS;AACtB;;;AAGA;AACA;AACA;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,aAAa;AAC5B,eAAe,QAAQ;AACvB;;AAEA,GAAG;AACH;AACA;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,0BAA0B;AAC1B,OAAO;AACP;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,MAAM;AACtB,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAU,EAAE,WAAW,EAAE;AACzB;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B,gBAAgB,SAAS;AACzB,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,eAAe;AAC9B,gBAAgB;AAChB;AACA;AACA,0CAA0C,SAAS;AACnD;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,eAAe;AAC9B,iBAAiB;AACjB;AACA;AACA,0CAA0C,SAAS;AACnD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA,UAAU,GAAG;AACb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,cAAc;AAC7B,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA,qBAAqB,mBAAmB;AACxC;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA,qBAAqB,mBAAmB;AACxC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,qBAAqB,sDAAsD;AAC3E,uBAAuB,kBAAkB;AACzC;;AAEA;;AAEA;AACA;;AAEA,wBAAwB,iBAAiB;AACzC;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,qBAAqB,mBAAmB;AACxC;AACA;;AAEA,uBAAuB,sBAAsB;AAC7C;AACA;;AAEA,uBAAuB,oBAAoB;AAC3C;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;;AAGA,qBAAqB,kBAAkB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAc,aAAa;AAC3B,cAAc,wBAAwB;AACtC,cAAc,SAAS;AACvB,cAAc,eAAe;AAC7B,cAAc;AACd;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,mBAAmB;AACxC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB,aAAa;AAC7B,gBAAgB,wBAAwB;AACxC,gBAAgB,eAAe;AAC/B,gBAAgB;AAChB;;AAEA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,mBAAmB;AACxC;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;;AAEA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,OAAO;AACnB,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA,qBAAqB,yBAAyB;AAC9C;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;;AAEA;AACA,OAAO;;AAEP;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,QAAQ;AACvB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB,SAAS;AACzB,gBAAgB;AAChB;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,qCAAqC;AACrC;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC,gBAAgB;;AAErD;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA,uBAAuB,uBAAuB;AAC9C;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA,uBAAuB,uBAAuB;AAC9C;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA,qCAAqC,gBAAgB;;AAErD;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;;AAEA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,eAAe;AAC9B,gBAAgB;AAChB;AACA;AACA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,eAAe;AAC9B,gBAAgB;AAChB;AACA;AACA,qBAAqB,qBAAqB;AAC1C;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB,OAAO;AACvB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,eAAe,eAAe;AAC9B,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,WAAW;AACX;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;;;AAGL;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA,OAAO;AACP,KAAK;;;AAGL;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA,YAAY;AACZ;AACA,4BAA4B;;AAE5B;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA,0BAA0B;AAC1B,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;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;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC,qBAAqB;AACrB,0BAA0B;AAC1B,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;;;;;;;;;;;AC/IA;AACA,cAAc,mBAAO,CAAC,sFAAY;AAClC,WAAW,mBAAO,CAAC,8GAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRa;AACb,aAAa,mBAAO,CAAC,oFAAW;AAChC,cAAc,mBAAO,CAAC,oFAAW;AACjC,WAAW,mBAAO,CAAC,gFAAS;AAC5B,YAAY,mBAAO,CAAC,kFAAU;AAC9B,WAAW,mBAAO,CAAC,gFAAS;AAC5B,kBAAkB,mBAAO,CAAC,gGAAiB;AAC3C,YAAY,mBAAO,CAAC,oFAAW;AAC/B,iBAAiB,mBAAO,CAAC,8FAAgB;AACzC,eAAe,mBAAO,CAAC,0FAAc;AACrC,qBAAqB,mBAAO,CAAC,0GAAsB;AACnD,SAAS,mBAAO,CAAC,0FAAc;AAC/B,WAAW,mBAAO,CAAC,kGAAkB;AACrC,kBAAkB,mBAAO,CAAC,8FAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;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","file":"eventgallery-debug.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./eventgallery.js\");\n","module.exports = require(\"core-js/library/fn/array/from\");","module.exports = require(\"core-js/library/fn/array/is-array\");","module.exports = require(\"core-js/library/fn/get-iterator\");","module.exports = require(\"core-js/library/fn/is-iterable\");","module.exports = require(\"core-js/library/fn/map\");","module.exports = require(\"core-js/library/fn/object/assign\");","module.exports = require(\"core-js/library/fn/object/create\");","module.exports = require(\"core-js/library/fn/object/define-property\");","module.exports = require(\"core-js/library/fn/object/get-prototype-of\");","module.exports = require(\"core-js/library/fn/object/set-prototype-of\");","module.exports = require(\"core-js/library/fn/parse-float\");","module.exports = require(\"core-js/library/fn/parse-int\");","module.exports = require(\"core-js/library/fn/set\");","module.exports = require(\"core-js/library/fn/symbol\");","module.exports = require(\"core-js/library/fn/symbol/iterator\");","import _Array$isArray from \"../../core-js/array/is-array\";\nexport default function _arrayWithHoles(arr) {\n  if (_Array$isArray(arr)) return arr;\n}","import _Array$isArray from \"../../core-js/array/is-array\";\nexport default function _arrayWithoutHoles(arr) {\n  if (_Array$isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import _Object$defineProperty from \"../../core-js/object/define-property\";\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n\n    _Object$defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import _Object$getPrototypeOf from \"../../core-js/object/get-prototype-of\";\nimport _Object$setPrototypeOf from \"../../core-js/object/set-prototype-of\";\nexport default function _getPrototypeOf(o) {\n  _getPrototypeOf = _Object$setPrototypeOf ? _Object$getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || _Object$getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import _Object$create from \"../../core-js/object/create\";\nimport setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = _Object$create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _Array$from from \"../../core-js/array/from\";\nimport _isIterable from \"../../core-js/is-iterable\";\nexport default function _iterableToArray(iter) {\n  if (_isIterable(Object(iter)) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return _Array$from(iter);\n}","import _getIterator from \"../../core-js/get-iterator\";\nexport default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = _getIterator(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","import _Object$setPrototypeOf from \"../../core-js/object/set-prototype-of\";\nexport default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = _Object$setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","import _Symbol$iterator from \"../../core-js/symbol/iterator\";\nimport _Symbol from \"../../core-js/symbol\";\n\nfunction _typeof2(obj) { if (typeof _Symbol === \"function\" && typeof _Symbol$iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nexport default function _typeof(obj) {\n  if (typeof _Symbol === \"function\" && _typeof2(_Symbol$iterator) === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof _Symbol === \"function\" && obj.constructor === _Symbol && obj !== _Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}","/*!\n * Glide.js v3.4.1\n * (c) 2013-2019 Jdrzej Chaubek <jedrzej.chalubek@gmail.com> (http://jedrzejchalubek.com/)\n * Released under the MIT License.\n */\n\nvar defaults = {\n  /**\n   * Type of the movement.\n   *\n   * Available types:\n   * `slider` - Rewinds slider to the start/end when it reaches the first or last slide.\n   * `carousel` - Changes slides without starting over when it reaches the first or last slide.\n   *\n   * @type {String}\n   */\n  type: 'slider',\n\n  /**\n   * Start at specific slide number defined with zero-based index.\n   *\n   * @type {Number}\n   */\n  startAt: 0,\n\n  /**\n   * A number of slides visible on the single viewport.\n   *\n   * @type {Number}\n   */\n  perView: 1,\n\n  /**\n   * Focus currently active slide at a specified position in the track.\n   *\n   * Available inputs:\n   * `center` - Current slide will be always focused at the center of a track.\n   * `0,1,2,3...` - Current slide will be focused on the specified zero-based index.\n   *\n   * @type {String|Number}\n   */\n  focusAt: 0,\n\n  /**\n   * A size of the gap added between slides.\n   *\n   * @type {Number}\n   */\n  gap: 10,\n\n  /**\n   * Change slides after a specified interval. Use `false` for turning off autoplay.\n   *\n   * @type {Number|Boolean}\n   */\n  autoplay: false,\n\n  /**\n   * Stop autoplay on mouseover event.\n   *\n   * @type {Boolean}\n   */\n  hoverpause: true,\n\n  /**\n   * Allow for changing slides with left and right keyboard arrows.\n   *\n   * @type {Boolean}\n   */\n  keyboard: true,\n\n  /**\n   * Stop running `perView` number of slides from the end. Use this\n   * option if you don't want to have an empty space after\n   * a slider. Works only with `slider` type and a\n   * non-centered `focusAt` setting.\n   *\n   * @type {Boolean}\n   */\n  bound: false,\n\n  /**\n   * Minimal swipe distance needed to change the slide. Use `false` for turning off a swiping.\n   *\n   * @type {Number|Boolean}\n   */\n  swipeThreshold: 80,\n\n  /**\n   * Minimal mouse drag distance needed to change the slide. Use `false` for turning off a dragging.\n   *\n   * @type {Number|Boolean}\n   */\n  dragThreshold: 120,\n\n  /**\n   * A maximum number of slides to which movement will be made on swiping or dragging. Use `false` for unlimited.\n   *\n   * @type {Number|Boolean}\n   */\n  perTouch: false,\n\n  /**\n   * Moving distance ratio of the slides on a swiping and dragging.\n   *\n   * @type {Number}\n   */\n  touchRatio: 0.5,\n\n  /**\n   * Angle required to activate slides moving on swiping or dragging.\n   *\n   * @type {Number}\n   */\n  touchAngle: 45,\n\n  /**\n   * Duration of the animation in milliseconds.\n   *\n   * @type {Number}\n   */\n  animationDuration: 400,\n\n  /**\n   * Allows looping the `slider` type. Slider will rewind to the first/last slide when it's at the start/end.\n   *\n   * @type {Boolean}\n   */\n  rewind: true,\n\n  /**\n   * Duration of the rewinding animation of the `slider` type in milliseconds.\n   *\n   * @type {Number}\n   */\n  rewindDuration: 800,\n\n  /**\n   * Easing function for the animation.\n   *\n   * @type {String}\n   */\n  animationTimingFunc: 'cubic-bezier(.165, .840, .440, 1)',\n\n  /**\n   * Throttle costly events at most once per every wait milliseconds.\n   *\n   * @type {Number}\n   */\n  throttle: 10,\n\n  /**\n   * Moving direction mode.\n   *\n   * Available inputs:\n   * - 'ltr' - left to right movement,\n   * - 'rtl' - right to left movement.\n   *\n   * @type {String}\n   */\n  direction: 'ltr',\n\n  /**\n   * The distance value of the next and previous viewports which\n   * have to peek in the current view. Accepts number and\n   * pixels as a string. Left and right peeking can be\n   * set up separately with a directions object.\n   *\n   * For example:\n   * `100` - Peek 100px on the both sides.\n   * { before: 100, after: 50 }` - Peek 100px on the left side and 50px on the right side.\n   *\n   * @type {Number|String|Object}\n   */\n  peek: 0,\n\n  /**\n   * Collection of options applied at specified media breakpoints.\n   * For example: display two slides per view under 800px.\n   * `{\n   *   '800px': {\n   *     perView: 2\n   *   }\n   * }`\n   */\n  breakpoints: {},\n\n  /**\n   * Collection of internally used HTML classes.\n   *\n   * @todo Refactor `slider` and `carousel` properties to single `type: { slider: '', carousel: '' }` object\n   * @type {Object}\n   */\n  classes: {\n    direction: {\n      ltr: 'glide--ltr',\n      rtl: 'glide--rtl'\n    },\n    slider: 'glide--slider',\n    carousel: 'glide--carousel',\n    swipeable: 'glide--swipeable',\n    dragging: 'glide--dragging',\n    cloneSlide: 'glide__slide--clone',\n    activeNav: 'glide__bullet--active',\n    activeSlide: 'glide__slide--active',\n    disabledArrow: 'glide__arrow--disabled'\n  }\n};\n\n/**\n * Outputs warning message to the bowser console.\n *\n * @param  {String} msg\n * @return {Void}\n */\nfunction warn(msg) {\n  console.error(\"[Glide warn]: \" + msg);\n}\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n/**\n * Converts value entered as number\n * or string to integer value.\n *\n * @param {String} value\n * @returns {Number}\n */\nfunction toInt(value) {\n  return parseInt(value);\n}\n\n/**\n * Converts value entered as number\n * or string to flat value.\n *\n * @param {String} value\n * @returns {Number}\n */\nfunction toFloat(value) {\n  return parseFloat(value);\n}\n\n/**\n * Indicates whether the specified value is a string.\n *\n * @param  {*}   value\n * @return {Boolean}\n */\nfunction isString(value) {\n  return typeof value === 'string';\n}\n\n/**\n * Indicates whether the specified value is an object.\n *\n * @param  {*} value\n * @return {Boolean}\n *\n * @see https://github.com/jashkenas/underscore\n */\nfunction isObject(value) {\n  var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\n  return type === 'function' || type === 'object' && !!value; // eslint-disable-line no-mixed-operators\n}\n\n/**\n * Indicates whether the specified value is a number.\n *\n * @param  {*} value\n * @return {Boolean}\n */\nfunction isNumber(value) {\n  return typeof value === 'number';\n}\n\n/**\n * Indicates whether the specified value is a function.\n *\n * @param  {*} value\n * @return {Boolean}\n */\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n\n/**\n * Indicates whether the specified value is undefined.\n *\n * @param  {*} value\n * @return {Boolean}\n */\nfunction isUndefined(value) {\n  return typeof value === 'undefined';\n}\n\n/**\n * Indicates whether the specified value is an array.\n *\n * @param  {*} value\n * @return {Boolean}\n */\nfunction isArray(value) {\n  return value.constructor === Array;\n}\n\n/**\n * Creates and initializes specified collection of extensions.\n * Each extension receives access to instance of glide and rest of components.\n *\n * @param {Object} glide\n * @param {Object} extensions\n *\n * @returns {Object}\n */\nfunction mount(glide, extensions, events) {\n  var components = {};\n\n  for (var name in extensions) {\n    if (isFunction(extensions[name])) {\n      components[name] = extensions[name](glide, components, events);\n    } else {\n      warn('Extension must be a function');\n    }\n  }\n\n  for (var _name in components) {\n    if (isFunction(components[_name].mount)) {\n      components[_name].mount();\n    }\n  }\n\n  return components;\n}\n\n/**\n * Defines getter and setter property on the specified object.\n *\n * @param  {Object} obj         Object where property has to be defined.\n * @param  {String} prop        Name of the defined property.\n * @param  {Object} definition  Get and set definitions for the property.\n * @return {Void}\n */\nfunction define(obj, prop, definition) {\n  Object.defineProperty(obj, prop, definition);\n}\n\n/**\n * Sorts aphabetically object keys.\n *\n * @param  {Object} obj\n * @return {Object}\n */\nfunction sortKeys(obj) {\n  return Object.keys(obj).sort().reduce(function (r, k) {\n    r[k] = obj[k];\n\n    return r[k], r;\n  }, {});\n}\n\n/**\n * Merges passed settings object with default options.\n *\n * @param  {Object} defaults\n * @param  {Object} settings\n * @return {Object}\n */\nfunction mergeOptions(defaults, settings) {\n  var options = _extends({}, defaults, settings);\n\n  // `Object.assign` do not deeply merge objects, so we\n  // have to do it manually for every nested object\n  // in options. Although it does not look smart,\n  // it's smaller and faster than some fancy\n  // merging deep-merge algorithm script.\n  if (settings.hasOwnProperty('classes')) {\n    options.classes = _extends({}, defaults.classes, settings.classes);\n\n    if (settings.classes.hasOwnProperty('direction')) {\n      options.classes.direction = _extends({}, defaults.classes.direction, settings.classes.direction);\n    }\n  }\n\n  if (settings.hasOwnProperty('breakpoints')) {\n    options.breakpoints = _extends({}, defaults.breakpoints, settings.breakpoints);\n  }\n\n  return options;\n}\n\nvar EventsBus = function () {\n  /**\n   * Construct a EventBus instance.\n   *\n   * @param {Object} events\n   */\n  function EventsBus() {\n    var events = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    classCallCheck(this, EventsBus);\n\n    this.events = events;\n    this.hop = events.hasOwnProperty;\n  }\n\n  /**\n   * Adds listener to the specifed event.\n   *\n   * @param {String|Array} event\n   * @param {Function} handler\n   */\n\n\n  createClass(EventsBus, [{\n    key: 'on',\n    value: function on(event, handler) {\n      if (isArray(event)) {\n        for (var i = 0; i < event.length; i++) {\n          this.on(event[i], handler);\n        }\n      }\n\n      // Create the event's object if not yet created\n      if (!this.hop.call(this.events, event)) {\n        this.events[event] = [];\n      }\n\n      // Add the handler to queue\n      var index = this.events[event].push(handler) - 1;\n\n      // Provide handle back for removal of event\n      return {\n        remove: function remove() {\n          delete this.events[event][index];\n        }\n      };\n    }\n\n    /**\n     * Runs registered handlers for specified event.\n     *\n     * @param {String|Array} event\n     * @param {Object=} context\n     */\n\n  }, {\n    key: 'emit',\n    value: function emit(event, context) {\n      if (isArray(event)) {\n        for (var i = 0; i < event.length; i++) {\n          this.emit(event[i], context);\n        }\n      }\n\n      // If the event doesn't exist, or there's no handlers in queue, just leave\n      if (!this.hop.call(this.events, event)) {\n        return;\n      }\n\n      // Cycle through events queue, fire!\n      this.events[event].forEach(function (item) {\n        item(context || {});\n      });\n    }\n  }]);\n  return EventsBus;\n}();\n\nvar Glide = function () {\n  /**\r\n   * Construct glide.\r\n   *\r\n   * @param  {String} selector\r\n   * @param  {Object} options\r\n   */\n  function Glide(selector) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    classCallCheck(this, Glide);\n\n    this._c = {};\n    this._t = [];\n    this._e = new EventsBus();\n\n    this.disabled = false;\n    this.selector = selector;\n    this.settings = mergeOptions(defaults, options);\n    this.index = this.settings.startAt;\n  }\n\n  /**\r\n   * Initializes glide.\r\n   *\r\n   * @param {Object} extensions Collection of extensions to initialize.\r\n   * @return {Glide}\r\n   */\n\n\n  createClass(Glide, [{\n    key: 'mount',\n    value: function mount$$1() {\n      var extensions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this._e.emit('mount.before');\n\n      if (isObject(extensions)) {\n        this._c = mount(this, extensions, this._e);\n      } else {\n        warn('You need to provide a object on `mount()`');\n      }\n\n      this._e.emit('mount.after');\n\n      return this;\n    }\n\n    /**\r\n     * Collects an instance `translate` transformers.\r\n     *\r\n     * @param  {Array} transformers Collection of transformers.\r\n     * @return {Void}\r\n     */\n\n  }, {\n    key: 'mutate',\n    value: function mutate() {\n      var transformers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n      if (isArray(transformers)) {\n        this._t = transformers;\n      } else {\n        warn('You need to provide a array on `mutate()`');\n      }\n\n      return this;\n    }\n\n    /**\r\n     * Updates glide with specified settings.\r\n     *\r\n     * @param {Object} settings\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: 'update',\n    value: function update() {\n      var settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      this.settings = mergeOptions(this.settings, settings);\n\n      if (settings.hasOwnProperty('startAt')) {\n        this.index = settings.startAt;\n      }\n\n      this._e.emit('update');\n\n      return this;\n    }\n\n    /**\r\n     * Change slide with specified pattern. A pattern must be in the special format:\r\n     * `>` - Move one forward\r\n     * `<` - Move one backward\r\n     * `={i}` - Go to {i} zero-based slide (eq. '=1', will go to second slide)\r\n     * `>>` - Rewinds to end (last slide)\r\n     * `<<` - Rewinds to start (first slide)\r\n     *\r\n     * @param {String} pattern\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: 'go',\n    value: function go(pattern) {\n      this._c.Run.make(pattern);\n\n      return this;\n    }\n\n    /**\r\n     * Move track by specified distance.\r\n     *\r\n     * @param {String} distance\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: 'move',\n    value: function move(distance) {\n      this._c.Transition.disable();\n      this._c.Move.make(distance);\n\n      return this;\n    }\n\n    /**\r\n     * Destroy instance and revert all changes done by this._c.\r\n     *\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this._e.emit('destroy');\n\n      return this;\n    }\n\n    /**\r\n     * Start instance autoplaying.\r\n     *\r\n     * @param {Boolean|Number} interval Run autoplaying with passed interval regardless of `autoplay` settings\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: 'play',\n    value: function play() {\n      var interval = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (interval) {\n        this.settings.autoplay = interval;\n      }\n\n      this._e.emit('play');\n\n      return this;\n    }\n\n    /**\r\n     * Stop instance autoplaying.\r\n     *\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: 'pause',\n    value: function pause() {\n      this._e.emit('pause');\n\n      return this;\n    }\n\n    /**\r\n     * Sets glide into a idle status.\r\n     *\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: 'disable',\n    value: function disable() {\n      this.disabled = true;\n\n      return this;\n    }\n\n    /**\r\n     * Sets glide into a active status.\r\n     *\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: 'enable',\n    value: function enable() {\n      this.disabled = false;\n\n      return this;\n    }\n\n    /**\r\n     * Adds cuutom event listener with handler.\r\n     *\r\n     * @param  {String|Array} event\r\n     * @param  {Function} handler\r\n     * @return {Glide}\r\n     */\n\n  }, {\n    key: 'on',\n    value: function on(event, handler) {\n      this._e.on(event, handler);\n\n      return this;\n    }\n\n    /**\r\n     * Checks if glide is a precised type.\r\n     *\r\n     * @param  {String} name\r\n     * @return {Boolean}\r\n     */\n\n  }, {\n    key: 'isType',\n    value: function isType(name) {\n      return this.settings.type === name;\n    }\n\n    /**\r\n     * Gets value of the core options.\r\n     *\r\n     * @return {Object}\r\n     */\n\n  }, {\n    key: 'settings',\n    get: function get$$1() {\n      return this._o;\n    }\n\n    /**\r\n     * Sets value of the core options.\r\n     *\r\n     * @param  {Object} o\r\n     * @return {Void}\r\n     */\n    ,\n    set: function set$$1(o) {\n      if (isObject(o)) {\n        this._o = o;\n      } else {\n        warn('Options must be an `object` instance.');\n      }\n    }\n\n    /**\r\n     * Gets current index of the slider.\r\n     *\r\n     * @return {Object}\r\n     */\n\n  }, {\n    key: 'index',\n    get: function get$$1() {\n      return this._i;\n    }\n\n    /**\r\n     * Sets current index a slider.\r\n     *\r\n     * @return {Object}\r\n     */\n    ,\n    set: function set$$1(i) {\n      this._i = toInt(i);\n    }\n\n    /**\r\n     * Gets type name of the slider.\r\n     *\r\n     * @return {String}\r\n     */\n\n  }, {\n    key: 'type',\n    get: function get$$1() {\n      return this.settings.type;\n    }\n\n    /**\r\n     * Gets value of the idle status.\r\n     *\r\n     * @return {Boolean}\r\n     */\n\n  }, {\n    key: 'disabled',\n    get: function get$$1() {\n      return this._d;\n    }\n\n    /**\r\n     * Sets value of the idle status.\r\n     *\r\n     * @return {Boolean}\r\n     */\n    ,\n    set: function set$$1(status) {\n      this._d = !!status;\n    }\n  }]);\n  return Glide;\n}();\n\nfunction Run (Glide, Components, Events) {\n  var Run = {\n    /**\n     * Initializes autorunning of the glide.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      this._o = false;\n    },\n\n\n    /**\n     * Makes glides running based on the passed moving schema.\n     *\n     * @param {String} move\n     */\n    make: function make(move) {\n      var _this = this;\n\n      if (!Glide.disabled) {\n        Glide.disable();\n\n        this.move = move;\n\n        Events.emit('run.before', this.move);\n\n        this.calculate();\n\n        Events.emit('run', this.move);\n\n        Components.Transition.after(function () {\n          if (_this.isStart()) {\n            Events.emit('run.start', _this.move);\n          }\n\n          if (_this.isEnd()) {\n            Events.emit('run.end', _this.move);\n          }\n\n          if (_this.isOffset('<') || _this.isOffset('>')) {\n            _this._o = false;\n\n            Events.emit('run.offset', _this.move);\n          }\n\n          Events.emit('run.after', _this.move);\n\n          Glide.enable();\n        });\n      }\n    },\n\n\n    /**\n     * Calculates current index based on defined move.\n     *\n     * @return {Void}\n     */\n    calculate: function calculate() {\n      var move = this.move,\n          length = this.length;\n      var steps = move.steps,\n          direction = move.direction;\n\n\n      var countableSteps = isNumber(toInt(steps)) && toInt(steps) !== 0;\n\n      switch (direction) {\n        case '>':\n          if (steps === '>') {\n            Glide.index = length;\n          } else if (this.isEnd()) {\n            if (!(Glide.isType('slider') && !Glide.settings.rewind)) {\n              this._o = true;\n\n              Glide.index = 0;\n            }\n          } else if (countableSteps) {\n            Glide.index += Math.min(length - Glide.index, -toInt(steps));\n          } else {\n            Glide.index++;\n          }\n          break;\n\n        case '<':\n          if (steps === '<') {\n            Glide.index = 0;\n          } else if (this.isStart()) {\n            if (!(Glide.isType('slider') && !Glide.settings.rewind)) {\n              this._o = true;\n\n              Glide.index = length;\n            }\n          } else if (countableSteps) {\n            Glide.index -= Math.min(Glide.index, toInt(steps));\n          } else {\n            Glide.index--;\n          }\n          break;\n\n        case '=':\n          Glide.index = steps;\n          break;\n\n        default:\n          warn('Invalid direction pattern [' + direction + steps + '] has been used');\n          break;\n      }\n    },\n\n\n    /**\n     * Checks if we are on the first slide.\n     *\n     * @return {Boolean}\n     */\n    isStart: function isStart() {\n      return Glide.index === 0;\n    },\n\n\n    /**\n     * Checks if we are on the last slide.\n     *\n     * @return {Boolean}\n     */\n    isEnd: function isEnd() {\n      return Glide.index === this.length;\n    },\n\n\n    /**\n     * Checks if we are making a offset run.\n     *\n     * @param {String} direction\n     * @return {Boolean}\n     */\n    isOffset: function isOffset(direction) {\n      return this._o && this.move.direction === direction;\n    }\n  };\n\n  define(Run, 'move', {\n    /**\n     * Gets value of the move schema.\n     *\n     * @returns {Object}\n     */\n    get: function get() {\n      return this._m;\n    },\n\n\n    /**\n     * Sets value of the move schema.\n     *\n     * @returns {Object}\n     */\n    set: function set(value) {\n      var step = value.substr(1);\n\n      this._m = {\n        direction: value.substr(0, 1),\n        steps: step ? toInt(step) ? toInt(step) : step : 0\n      };\n    }\n  });\n\n  define(Run, 'length', {\n    /**\n     * Gets value of the running distance based\n     * on zero-indexing number of slides.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      var settings = Glide.settings;\n      var length = Components.Html.slides.length;\n\n      // If the `bound` option is acitve, a maximum running distance should be\n      // reduced by `perView` and `focusAt` settings. Running distance\n      // should end before creating an empty space after instance.\n\n      if (Glide.isType('slider') && settings.focusAt !== 'center' && settings.bound) {\n        return length - 1 - (toInt(settings.perView) - 1) + toInt(settings.focusAt);\n      }\n\n      return length - 1;\n    }\n  });\n\n  define(Run, 'offset', {\n    /**\n     * Gets status of the offsetting flag.\n     *\n     * @return {Boolean}\n     */\n    get: function get() {\n      return this._o;\n    }\n  });\n\n  return Run;\n}\n\n/**\n * Returns a current time.\n *\n * @return {Number}\n */\nfunction now() {\n  return new Date().getTime();\n}\n\n/**\n * Returns a function, that, when invoked, will only be triggered\n * at most once during a given window of time.\n *\n * @param {Function} func\n * @param {Number} wait\n * @param {Object=} options\n * @return {Function}\n *\n * @see https://github.com/jashkenas/underscore\n */\nfunction throttle(func, wait, options) {\n  var timeout = void 0,\n      context = void 0,\n      args = void 0,\n      result = void 0;\n  var previous = 0;\n  if (!options) options = {};\n\n  var later = function later() {\n    previous = options.leading === false ? 0 : now();\n    timeout = null;\n    result = func.apply(context, args);\n    if (!timeout) context = args = null;\n  };\n\n  var throttled = function throttled() {\n    var at = now();\n    if (!previous && options.leading === false) previous = at;\n    var remaining = wait - (at - previous);\n    context = this;\n    args = arguments;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = at;\n      result = func.apply(context, args);\n      if (!timeout) context = args = null;\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(later, remaining);\n    }\n    return result;\n  };\n\n  throttled.cancel = function () {\n    clearTimeout(timeout);\n    previous = 0;\n    timeout = context = args = null;\n  };\n\n  return throttled;\n}\n\nvar MARGIN_TYPE = {\n  ltr: ['marginLeft', 'marginRight'],\n  rtl: ['marginRight', 'marginLeft']\n};\n\nfunction Gaps (Glide, Components, Events) {\n  var Gaps = {\n    /**\n     * Applies gaps between slides. First and last\n     * slides do not receive it's edge margins.\n     *\n     * @param {HTMLCollection} slides\n     * @return {Void}\n     */\n    apply: function apply(slides) {\n      for (var i = 0, len = slides.length; i < len; i++) {\n        var style = slides[i].style;\n        var direction = Components.Direction.value;\n\n        if (i !== 0) {\n          style[MARGIN_TYPE[direction][0]] = this.value / 2 + 'px';\n        } else {\n          style[MARGIN_TYPE[direction][0]] = '';\n        }\n\n        if (i !== slides.length - 1) {\n          style[MARGIN_TYPE[direction][1]] = this.value / 2 + 'px';\n        } else {\n          style[MARGIN_TYPE[direction][1]] = '';\n        }\n      }\n    },\n\n\n    /**\n     * Removes gaps from the slides.\n     *\n     * @param {HTMLCollection} slides\n     * @returns {Void}\n    */\n    remove: function remove(slides) {\n      for (var i = 0, len = slides.length; i < len; i++) {\n        var style = slides[i].style;\n\n        style.marginLeft = '';\n        style.marginRight = '';\n      }\n    }\n  };\n\n  define(Gaps, 'value', {\n    /**\n     * Gets value of the gap.\n     *\n     * @returns {Number}\n     */\n    get: function get() {\n      return toInt(Glide.settings.gap);\n    }\n  });\n\n  define(Gaps, 'grow', {\n    /**\n     * Gets additional dimentions value caused by gaps.\n     * Used to increase width of the slides wrapper.\n     *\n     * @returns {Number}\n     */\n    get: function get() {\n      return Gaps.value * (Components.Sizes.length - 1);\n    }\n  });\n\n  define(Gaps, 'reductor', {\n    /**\n     * Gets reduction value caused by gaps.\n     * Used to subtract width of the slides.\n     *\n     * @returns {Number}\n     */\n    get: function get() {\n      var perView = Glide.settings.perView;\n\n      return Gaps.value * (perView - 1) / perView;\n    }\n  });\n\n  /**\n   * Apply calculated gaps:\n   * - after building, so slides (including clones) will receive proper margins\n   * - on updating via API, to recalculate gaps with new options\n   */\n  Events.on(['build.after', 'update'], throttle(function () {\n    Gaps.apply(Components.Html.wrapper.children);\n  }, 30));\n\n  /**\n   * Remove gaps:\n   * - on destroying to bring markup to its inital state\n   */\n  Events.on('destroy', function () {\n    Gaps.remove(Components.Html.wrapper.children);\n  });\n\n  return Gaps;\n}\n\n/**\n * Finds siblings nodes of the passed node.\n *\n * @param  {Element} node\n * @return {Array}\n */\nfunction siblings(node) {\n  if (node && node.parentNode) {\n    var n = node.parentNode.firstChild;\n    var matched = [];\n\n    for (; n; n = n.nextSibling) {\n      if (n.nodeType === 1 && n !== node) {\n        matched.push(n);\n      }\n    }\n\n    return matched;\n  }\n\n  return [];\n}\n\n/**\n * Checks if passed node exist and is a valid element.\n *\n * @param  {Element} node\n * @return {Boolean}\n */\nfunction exist(node) {\n  if (node && node instanceof window.HTMLElement) {\n    return true;\n  }\n\n  return false;\n}\n\nvar TRACK_SELECTOR = '[data-glide-el=\"track\"]';\n\nfunction Html (Glide, Components) {\n  var Html = {\n    /**\n     * Setup slider HTML nodes.\n     *\n     * @param {Glide} glide\n     */\n    mount: function mount() {\n      this.root = Glide.selector;\n      this.track = this.root.querySelector(TRACK_SELECTOR);\n      this.slides = Array.prototype.slice.call(this.wrapper.children).filter(function (slide) {\n        return !slide.classList.contains(Glide.settings.classes.cloneSlide);\n      });\n    }\n  };\n\n  define(Html, 'root', {\n    /**\n     * Gets node of the glide main element.\n     *\n     * @return {Object}\n     */\n    get: function get() {\n      return Html._r;\n    },\n\n\n    /**\n     * Sets node of the glide main element.\n     *\n     * @return {Object}\n     */\n    set: function set(r) {\n      if (isString(r)) {\n        r = document.querySelector(r);\n      }\n\n      if (exist(r)) {\n        Html._r = r;\n      } else {\n        warn('Root element must be a existing Html node');\n      }\n    }\n  });\n\n  define(Html, 'track', {\n    /**\n     * Gets node of the glide track with slides.\n     *\n     * @return {Object}\n     */\n    get: function get() {\n      return Html._t;\n    },\n\n\n    /**\n     * Sets node of the glide track with slides.\n     *\n     * @return {Object}\n     */\n    set: function set(t) {\n      if (exist(t)) {\n        Html._t = t;\n      } else {\n        warn('Could not find track element. Please use ' + TRACK_SELECTOR + ' attribute.');\n      }\n    }\n  });\n\n  define(Html, 'wrapper', {\n    /**\n     * Gets node of the slides wrapper.\n     *\n     * @return {Object}\n     */\n    get: function get() {\n      return Html.track.children[0];\n    }\n  });\n\n  return Html;\n}\n\nfunction Peek (Glide, Components, Events) {\n  var Peek = {\n    /**\n     * Setups how much to peek based on settings.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      this.value = Glide.settings.peek;\n    }\n  };\n\n  define(Peek, 'value', {\n    /**\n     * Gets value of the peek.\n     *\n     * @returns {Number|Object}\n     */\n    get: function get() {\n      return Peek._v;\n    },\n\n\n    /**\n     * Sets value of the peek.\n     *\n     * @param {Number|Object} value\n     * @return {Void}\n     */\n    set: function set(value) {\n      if (isObject(value)) {\n        value.before = toInt(value.before);\n        value.after = toInt(value.after);\n      } else {\n        value = toInt(value);\n      }\n\n      Peek._v = value;\n    }\n  });\n\n  define(Peek, 'reductor', {\n    /**\n     * Gets reduction value caused by peek.\n     *\n     * @returns {Number}\n     */\n    get: function get() {\n      var value = Peek.value;\n      var perView = Glide.settings.perView;\n\n      if (isObject(value)) {\n        return value.before / perView + value.after / perView;\n      }\n\n      return value * 2 / perView;\n    }\n  });\n\n  /**\n   * Recalculate peeking sizes on:\n   * - when resizing window to update to proper percents\n   */\n  Events.on(['resize', 'update'], function () {\n    Peek.mount();\n  });\n\n  return Peek;\n}\n\nfunction Move (Glide, Components, Events) {\n  var Move = {\n    /**\n     * Constructs move component.\n     *\n     * @returns {Void}\n     */\n    mount: function mount() {\n      this._o = 0;\n    },\n\n\n    /**\n     * Calculates a movement value based on passed offset and currently active index.\n     *\n     * @param  {Number} offset\n     * @return {Void}\n     */\n    make: function make() {\n      var _this = this;\n\n      var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n      this.offset = offset;\n\n      Events.emit('move', {\n        movement: this.value\n      });\n\n      Components.Transition.after(function () {\n        Events.emit('move.after', {\n          movement: _this.value\n        });\n      });\n    }\n  };\n\n  define(Move, 'offset', {\n    /**\n     * Gets an offset value used to modify current translate.\n     *\n     * @return {Object}\n     */\n    get: function get() {\n      return Move._o;\n    },\n\n\n    /**\n     * Sets an offset value used to modify current translate.\n     *\n     * @return {Object}\n     */\n    set: function set(value) {\n      Move._o = !isUndefined(value) ? toInt(value) : 0;\n    }\n  });\n\n  define(Move, 'translate', {\n    /**\n     * Gets a raw movement value.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      return Components.Sizes.slideWidth * Glide.index;\n    }\n  });\n\n  define(Move, 'value', {\n    /**\n     * Gets an actual movement value corrected by offset.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      var offset = this.offset;\n      var translate = this.translate;\n\n      if (Components.Direction.is('rtl')) {\n        return translate + offset;\n      }\n\n      return translate - offset;\n    }\n  });\n\n  /**\n   * Make movement to proper slide on:\n   * - before build, so glide will start at `startAt` index\n   * - on each standard run to move to newly calculated index\n   */\n  Events.on(['build.before', 'run'], function () {\n    Move.make();\n  });\n\n  return Move;\n}\n\nfunction Sizes (Glide, Components, Events) {\n  var Sizes = {\n    /**\n     * Setups dimentions of slides.\n     *\n     * @return {Void}\n     */\n    setupSlides: function setupSlides() {\n      var width = this.slideWidth + 'px';\n      var slides = Components.Html.slides;\n\n      for (var i = 0; i < slides.length; i++) {\n        slides[i].style.width = width;\n      }\n    },\n\n\n    /**\n     * Setups dimentions of slides wrapper.\n     *\n     * @return {Void}\n     */\n    setupWrapper: function setupWrapper(dimention) {\n      Components.Html.wrapper.style.width = this.wrapperSize + 'px';\n    },\n\n\n    /**\n     * Removes applied styles from HTML elements.\n     *\n     * @returns {Void}\n     */\n    remove: function remove() {\n      var slides = Components.Html.slides;\n\n      for (var i = 0; i < slides.length; i++) {\n        slides[i].style.width = '';\n      }\n\n      Components.Html.wrapper.style.width = '';\n    }\n  };\n\n  define(Sizes, 'length', {\n    /**\n     * Gets count number of the slides.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      return Components.Html.slides.length;\n    }\n  });\n\n  define(Sizes, 'width', {\n    /**\n     * Gets width value of the glide.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      return Components.Html.root.offsetWidth;\n    }\n  });\n\n  define(Sizes, 'wrapperSize', {\n    /**\n     * Gets size of the slides wrapper.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      return Sizes.slideWidth * Sizes.length + Components.Gaps.grow + Components.Clones.grow;\n    }\n  });\n\n  define(Sizes, 'slideWidth', {\n    /**\n     * Gets width value of the single slide.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      return Sizes.width / Glide.settings.perView - Components.Peek.reductor - Components.Gaps.reductor;\n    }\n  });\n\n  /**\n   * Apply calculated glide's dimensions:\n   * - before building, so other dimentions (e.g. translate) will be calculated propertly\n   * - when resizing window to recalculate sildes dimensions\n   * - on updating via API, to calculate dimensions based on new options\n   */\n  Events.on(['build.before', 'resize', 'update'], function () {\n    Sizes.setupSlides();\n    Sizes.setupWrapper();\n  });\n\n  /**\n   * Remove calculated glide's dimensions:\n   * - on destoting to bring markup to its inital state\n   */\n  Events.on('destroy', function () {\n    Sizes.remove();\n  });\n\n  return Sizes;\n}\n\nfunction Build (Glide, Components, Events) {\n  var Build = {\n    /**\n     * Init glide building. Adds classes, sets\n     * dimensions and setups initial state.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      Events.emit('build.before');\n\n      this.typeClass();\n      this.activeClass();\n\n      Events.emit('build.after');\n    },\n\n\n    /**\n     * Adds `type` class to the glide element.\n     *\n     * @return {Void}\n     */\n    typeClass: function typeClass() {\n      Components.Html.root.classList.add(Glide.settings.classes[Glide.settings.type]);\n    },\n\n\n    /**\n     * Sets active class to current slide.\n     *\n     * @return {Void}\n     */\n    activeClass: function activeClass() {\n      var classes = Glide.settings.classes;\n      var slide = Components.Html.slides[Glide.index];\n\n      if (slide) {\n        slide.classList.add(classes.activeSlide);\n\n        siblings(slide).forEach(function (sibling) {\n          sibling.classList.remove(classes.activeSlide);\n        });\n      }\n    },\n\n\n    /**\n     * Removes HTML classes applied at building.\n     *\n     * @return {Void}\n     */\n    removeClasses: function removeClasses() {\n      var classes = Glide.settings.classes;\n\n      Components.Html.root.classList.remove(classes[Glide.settings.type]);\n\n      Components.Html.slides.forEach(function (sibling) {\n        sibling.classList.remove(classes.activeSlide);\n      });\n    }\n  };\n\n  /**\n   * Clear building classes:\n   * - on destroying to bring HTML to its initial state\n   * - on updating to remove classes before remounting component\n   */\n  Events.on(['destroy', 'update'], function () {\n    Build.removeClasses();\n  });\n\n  /**\n   * Remount component:\n   * - on resizing of the window to calculate new dimentions\n   * - on updating settings via API\n   */\n  Events.on(['resize', 'update'], function () {\n    Build.mount();\n  });\n\n  /**\n   * Swap active class of current slide:\n   * - after each move to the new index\n   */\n  Events.on('move.after', function () {\n    Build.activeClass();\n  });\n\n  return Build;\n}\n\nfunction Clones (Glide, Components, Events) {\n  var Clones = {\n    /**\n     * Create pattern map and collect slides to be cloned.\n     */\n    mount: function mount() {\n      this.items = [];\n\n      if (Glide.isType('carousel')) {\n        this.items = this.collect();\n      }\n    },\n\n\n    /**\n     * Collect clones with pattern.\n     *\n     * @return {Void}\n     */\n    collect: function collect() {\n      var items = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var slides = Components.Html.slides;\n      var _Glide$settings = Glide.settings,\n          perView = _Glide$settings.perView,\n          classes = _Glide$settings.classes;\n\n\n      var peekIncrementer = +!!Glide.settings.peek;\n      var part = perView + peekIncrementer;\n      var start = slides.slice(0, part);\n      var end = slides.slice(-part);\n\n      for (var r = 0; r < Math.max(1, Math.floor(perView / slides.length)); r++) {\n        for (var i = 0; i < start.length; i++) {\n          var clone = start[i].cloneNode(true);\n\n          clone.classList.add(classes.cloneSlide);\n\n          items.push(clone);\n        }\n\n        for (var _i = 0; _i < end.length; _i++) {\n          var _clone = end[_i].cloneNode(true);\n\n          _clone.classList.add(classes.cloneSlide);\n\n          items.unshift(_clone);\n        }\n      }\n\n      return items;\n    },\n\n\n    /**\n     * Append cloned slides with generated pattern.\n     *\n     * @return {Void}\n     */\n    append: function append() {\n      var items = this.items;\n      var _Components$Html = Components.Html,\n          wrapper = _Components$Html.wrapper,\n          slides = _Components$Html.slides;\n\n\n      var half = Math.floor(items.length / 2);\n      var prepend = items.slice(0, half).reverse();\n      var append = items.slice(half, items.length);\n      var width = Components.Sizes.slideWidth + 'px';\n\n      for (var i = 0; i < append.length; i++) {\n        wrapper.appendChild(append[i]);\n      }\n\n      for (var _i2 = 0; _i2 < prepend.length; _i2++) {\n        wrapper.insertBefore(prepend[_i2], slides[0]);\n      }\n\n      for (var _i3 = 0; _i3 < items.length; _i3++) {\n        items[_i3].style.width = width;\n      }\n    },\n\n\n    /**\n     * Remove all cloned slides.\n     *\n     * @return {Void}\n     */\n    remove: function remove() {\n      var items = this.items;\n\n\n      for (var i = 0; i < items.length; i++) {\n        Components.Html.wrapper.removeChild(items[i]);\n      }\n    }\n  };\n\n  define(Clones, 'grow', {\n    /**\n     * Gets additional dimentions value caused by clones.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      return (Components.Sizes.slideWidth + Components.Gaps.value) * Clones.items.length;\n    }\n  });\n\n  /**\n   * Append additional slide's clones:\n   * - while glide's type is `carousel`\n   */\n  Events.on('update', function () {\n    Clones.remove();\n    Clones.mount();\n    Clones.append();\n  });\n\n  /**\n   * Append additional slide's clones:\n   * - while glide's type is `carousel`\n   */\n  Events.on('build.before', function () {\n    if (Glide.isType('carousel')) {\n      Clones.append();\n    }\n  });\n\n  /**\n   * Remove clones HTMLElements:\n   * - on destroying, to bring HTML to its initial state\n   */\n  Events.on('destroy', function () {\n    Clones.remove();\n  });\n\n  return Clones;\n}\n\nvar EventsBinder = function () {\n  /**\n   * Construct a EventsBinder instance.\n   */\n  function EventsBinder() {\n    var listeners = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    classCallCheck(this, EventsBinder);\n\n    this.listeners = listeners;\n  }\n\n  /**\n   * Adds events listeners to arrows HTML elements.\n   *\n   * @param  {String|Array} events\n   * @param  {Element|Window|Document} el\n   * @param  {Function} closure\n   * @param  {Boolean|Object} capture\n   * @return {Void}\n   */\n\n\n  createClass(EventsBinder, [{\n    key: 'on',\n    value: function on(events, el, closure) {\n      var capture = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      if (isString(events)) {\n        events = [events];\n      }\n\n      for (var i = 0; i < events.length; i++) {\n        this.listeners[events[i]] = closure;\n\n        el.addEventListener(events[i], this.listeners[events[i]], capture);\n      }\n    }\n\n    /**\n     * Removes event listeners from arrows HTML elements.\n     *\n     * @param  {String|Array} events\n     * @param  {Element|Window|Document} el\n     * @param  {Boolean|Object} capture\n     * @return {Void}\n     */\n\n  }, {\n    key: 'off',\n    value: function off(events, el) {\n      var capture = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (isString(events)) {\n        events = [events];\n      }\n\n      for (var i = 0; i < events.length; i++) {\n        el.removeEventListener(events[i], this.listeners[events[i]], capture);\n      }\n    }\n\n    /**\n     * Destroy collected listeners.\n     *\n     * @returns {Void}\n     */\n\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      delete this.listeners;\n    }\n  }]);\n  return EventsBinder;\n}();\n\nfunction Resize (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n\n  var Resize = {\n    /**\n     * Initializes window bindings.\n     */\n    mount: function mount() {\n      this.bind();\n    },\n\n\n    /**\n     * Binds `rezsize` listener to the window.\n     * It's a costly event, so we are debouncing it.\n     *\n     * @return {Void}\n     */\n    bind: function bind() {\n      Binder.on('resize', window, throttle(function () {\n        Events.emit('resize');\n      }, Glide.settings.throttle));\n    },\n\n\n    /**\n     * Unbinds listeners from the window.\n     *\n     * @return {Void}\n     */\n    unbind: function unbind() {\n      Binder.off('resize', window);\n    }\n  };\n\n  /**\n   * Remove bindings from window:\n   * - on destroying, to remove added EventListener\n   */\n  Events.on('destroy', function () {\n    Resize.unbind();\n    Binder.destroy();\n  });\n\n  return Resize;\n}\n\nvar VALID_DIRECTIONS = ['ltr', 'rtl'];\nvar FLIPED_MOVEMENTS = {\n  '>': '<',\n  '<': '>',\n  '=': '='\n};\n\nfunction Direction (Glide, Components, Events) {\n  var Direction = {\n    /**\n     * Setups gap value based on settings.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      this.value = Glide.settings.direction;\n    },\n\n\n    /**\n     * Resolves pattern based on direction value\n     *\n     * @param {String} pattern\n     * @returns {String}\n     */\n    resolve: function resolve(pattern) {\n      var token = pattern.slice(0, 1);\n\n      if (this.is('rtl')) {\n        return pattern.split(token).join(FLIPED_MOVEMENTS[token]);\n      }\n\n      return pattern;\n    },\n\n\n    /**\n     * Checks value of direction mode.\n     *\n     * @param {String} direction\n     * @returns {Boolean}\n     */\n    is: function is(direction) {\n      return this.value === direction;\n    },\n\n\n    /**\n     * Applies direction class to the root HTML element.\n     *\n     * @return {Void}\n     */\n    addClass: function addClass() {\n      Components.Html.root.classList.add(Glide.settings.classes.direction[this.value]);\n    },\n\n\n    /**\n     * Removes direction class from the root HTML element.\n     *\n     * @return {Void}\n     */\n    removeClass: function removeClass() {\n      Components.Html.root.classList.remove(Glide.settings.classes.direction[this.value]);\n    }\n  };\n\n  define(Direction, 'value', {\n    /**\n     * Gets value of the direction.\n     *\n     * @returns {Number}\n     */\n    get: function get() {\n      return Direction._v;\n    },\n\n\n    /**\n     * Sets value of the direction.\n     *\n     * @param {String} value\n     * @return {Void}\n     */\n    set: function set(value) {\n      if (VALID_DIRECTIONS.indexOf(value) > -1) {\n        Direction._v = value;\n      } else {\n        warn('Direction value must be `ltr` or `rtl`');\n      }\n    }\n  });\n\n  /**\n   * Clear direction class:\n   * - on destroy to bring HTML to its initial state\n   * - on update to remove class before reappling bellow\n   */\n  Events.on(['destroy', 'update'], function () {\n    Direction.removeClass();\n  });\n\n  /**\n   * Remount component:\n   * - on update to reflect changes in direction value\n   */\n  Events.on('update', function () {\n    Direction.mount();\n  });\n\n  /**\n   * Apply direction class:\n   * - before building to apply class for the first time\n   * - on updating to reapply direction class that may changed\n   */\n  Events.on(['build.before', 'update'], function () {\n    Direction.addClass();\n  });\n\n  return Direction;\n}\n\n/**\n * Reflects value of glide movement.\n *\n * @param  {Object} Glide\n * @param  {Object} Components\n * @return {Object}\n */\nfunction Rtl (Glide, Components) {\n  return {\n    /**\n     * Negates the passed translate if glide is in RTL option.\n     *\n     * @param  {Number} translate\n     * @return {Number}\n     */\n    modify: function modify(translate) {\n      if (Components.Direction.is('rtl')) {\n        return -translate;\n      }\n\n      return translate;\n    }\n  };\n}\n\n/**\n * Updates glide movement with a `gap` settings.\n *\n * @param  {Object} Glide\n * @param  {Object} Components\n * @return {Object}\n */\nfunction Gap (Glide, Components) {\n  return {\n    /**\n     * Modifies passed translate value with number in the `gap` settings.\n     *\n     * @param  {Number} translate\n     * @return {Number}\n     */\n    modify: function modify(translate) {\n      return translate + Components.Gaps.value * Glide.index;\n    }\n  };\n}\n\n/**\n * Updates glide movement with width of additional clones width.\n *\n * @param  {Object} Glide\n * @param  {Object} Components\n * @return {Object}\n */\nfunction Grow (Glide, Components) {\n  return {\n    /**\n     * Adds to the passed translate width of the half of clones.\n     *\n     * @param  {Number} translate\n     * @return {Number}\n     */\n    modify: function modify(translate) {\n      return translate + Components.Clones.grow / 2;\n    }\n  };\n}\n\n/**\n * Updates glide movement with a `peek` settings.\n *\n * @param  {Object} Glide\n * @param  {Object} Components\n * @return {Object}\n */\nfunction Peeking (Glide, Components) {\n  return {\n    /**\n     * Modifies passed translate value with a `peek` setting.\n     *\n     * @param  {Number} translate\n     * @return {Number}\n     */\n    modify: function modify(translate) {\n      if (Glide.settings.focusAt >= 0) {\n        var peek = Components.Peek.value;\n\n        if (isObject(peek)) {\n          return translate - peek.before;\n        }\n\n        return translate - peek;\n      }\n\n      return translate;\n    }\n  };\n}\n\n/**\n * Updates glide movement with a `focusAt` settings.\n *\n * @param  {Object} Glide\n * @param  {Object} Components\n * @return {Object}\n */\nfunction Focusing (Glide, Components) {\n  return {\n    /**\n     * Modifies passed translate value with index in the `focusAt` setting.\n     *\n     * @param  {Number} translate\n     * @return {Number}\n     */\n    modify: function modify(translate) {\n      var gap = Components.Gaps.value;\n      var width = Components.Sizes.width;\n      var focusAt = Glide.settings.focusAt;\n      var slideWidth = Components.Sizes.slideWidth;\n\n      if (focusAt === 'center') {\n        return translate - (width / 2 - slideWidth / 2);\n      }\n\n      return translate - slideWidth * focusAt - gap * focusAt;\n    }\n  };\n}\n\n/**\n * Applies diffrent transformers on translate value.\n *\n * @param  {Object} Glide\n * @param  {Object} Components\n * @return {Object}\n */\nfunction mutator (Glide, Components, Events) {\n  /**\n   * Merge instance transformers with collection of default transformers.\n   * It's important that the Rtl component be last on the list,\n   * so it reflects all previous transformations.\n   *\n   * @type {Array}\n   */\n  var TRANSFORMERS = [Gap, Grow, Peeking, Focusing].concat(Glide._t, [Rtl]);\n\n  return {\n    /**\n     * Piplines translate value with registered transformers.\n     *\n     * @param  {Number} translate\n     * @return {Number}\n     */\n    mutate: function mutate(translate) {\n      for (var i = 0; i < TRANSFORMERS.length; i++) {\n        var transformer = TRANSFORMERS[i];\n\n        if (isFunction(transformer) && isFunction(transformer().modify)) {\n          translate = transformer(Glide, Components, Events).modify(translate);\n        } else {\n          warn('Transformer should be a function that returns an object with `modify()` method');\n        }\n      }\n\n      return translate;\n    }\n  };\n}\n\nfunction Translate (Glide, Components, Events) {\n  var Translate = {\n    /**\n     * Sets value of translate on HTML element.\n     *\n     * @param {Number} value\n     * @return {Void}\n     */\n    set: function set(value) {\n      var transform = mutator(Glide, Components).mutate(value);\n\n      Components.Html.wrapper.style.transform = 'translate3d(' + -1 * transform + 'px, 0px, 0px)';\n    },\n\n\n    /**\n     * Removes value of translate from HTML element.\n     *\n     * @return {Void}\n     */\n    remove: function remove() {\n      Components.Html.wrapper.style.transform = '';\n    }\n  };\n\n  /**\n   * Set new translate value:\n   * - on move to reflect index change\n   * - on updating via API to reflect possible changes in options\n   */\n  Events.on('move', function (context) {\n    var gap = Components.Gaps.value;\n    var length = Components.Sizes.length;\n    var width = Components.Sizes.slideWidth;\n\n    if (Glide.isType('carousel') && Components.Run.isOffset('<')) {\n      Components.Transition.after(function () {\n        Events.emit('translate.jump');\n\n        Translate.set(width * (length - 1));\n      });\n\n      return Translate.set(-width - gap * length);\n    }\n\n    if (Glide.isType('carousel') && Components.Run.isOffset('>')) {\n      Components.Transition.after(function () {\n        Events.emit('translate.jump');\n\n        Translate.set(0);\n      });\n\n      return Translate.set(width * length + gap * length);\n    }\n\n    return Translate.set(context.movement);\n  });\n\n  /**\n   * Remove translate:\n   * - on destroying to bring markup to its inital state\n   */\n  Events.on('destroy', function () {\n    Translate.remove();\n  });\n\n  return Translate;\n}\n\nfunction Transition (Glide, Components, Events) {\n  /**\n   * Holds inactivity status of transition.\n   * When true transition is not applied.\n   *\n   * @type {Boolean}\n   */\n  var disabled = false;\n\n  var Transition = {\n    /**\n     * Composes string of the CSS transition.\n     *\n     * @param {String} property\n     * @return {String}\n     */\n    compose: function compose(property) {\n      var settings = Glide.settings;\n\n      if (!disabled) {\n        return property + ' ' + this.duration + 'ms ' + settings.animationTimingFunc;\n      }\n\n      return property + ' 0ms ' + settings.animationTimingFunc;\n    },\n\n\n    /**\n     * Sets value of transition on HTML element.\n     *\n     * @param {String=} property\n     * @return {Void}\n     */\n    set: function set() {\n      var property = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'transform';\n\n      Components.Html.wrapper.style.transition = this.compose(property);\n    },\n\n\n    /**\n     * Removes value of transition from HTML element.\n     *\n     * @return {Void}\n     */\n    remove: function remove() {\n      Components.Html.wrapper.style.transition = '';\n    },\n\n\n    /**\n     * Runs callback after animation.\n     *\n     * @param  {Function} callback\n     * @return {Void}\n     */\n    after: function after(callback) {\n      setTimeout(function () {\n        callback();\n      }, this.duration);\n    },\n\n\n    /**\n     * Enable transition.\n     *\n     * @return {Void}\n     */\n    enable: function enable() {\n      disabled = false;\n\n      this.set();\n    },\n\n\n    /**\n     * Disable transition.\n     *\n     * @return {Void}\n     */\n    disable: function disable() {\n      disabled = true;\n\n      this.set();\n    }\n  };\n\n  define(Transition, 'duration', {\n    /**\n     * Gets duration of the transition based\n     * on currently running animation type.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      var settings = Glide.settings;\n\n      if (Glide.isType('slider') && Components.Run.offset) {\n        return settings.rewindDuration;\n      }\n\n      return settings.animationDuration;\n    }\n  });\n\n  /**\n   * Set transition `style` value:\n   * - on each moving, because it may be cleared by offset move\n   */\n  Events.on('move', function () {\n    Transition.set();\n  });\n\n  /**\n   * Disable transition:\n   * - before initial build to avoid transitioning from `0` to `startAt` index\n   * - while resizing window and recalculating dimentions\n   * - on jumping from offset transition at start and end edges in `carousel` type\n   */\n  Events.on(['build.before', 'resize', 'translate.jump'], function () {\n    Transition.disable();\n  });\n\n  /**\n   * Enable transition:\n   * - on each running, because it may be disabled by offset move\n   */\n  Events.on('run', function () {\n    Transition.enable();\n  });\n\n  /**\n   * Remove transition:\n   * - on destroying to bring markup to its inital state\n   */\n  Events.on('destroy', function () {\n    Transition.remove();\n  });\n\n  return Transition;\n}\n\n/**\n * Test via a getter in the options object to see\n * if the passive property is accessed.\n *\n * @see https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n */\n\nvar supportsPassive = false;\n\ntry {\n  var opts = Object.defineProperty({}, 'passive', {\n    get: function get() {\n      supportsPassive = true;\n    }\n  });\n\n  window.addEventListener('testPassive', null, opts);\n  window.removeEventListener('testPassive', null, opts);\n} catch (e) {}\n\nvar supportsPassive$1 = supportsPassive;\n\nvar START_EVENTS = ['touchstart', 'mousedown'];\nvar MOVE_EVENTS = ['touchmove', 'mousemove'];\nvar END_EVENTS = ['touchend', 'touchcancel', 'mouseup', 'mouseleave'];\nvar MOUSE_EVENTS = ['mousedown', 'mousemove', 'mouseup', 'mouseleave'];\n\nfunction swipe (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n\n  var swipeSin = 0;\n  var swipeStartX = 0;\n  var swipeStartY = 0;\n  var disabled = false;\n  var capture = supportsPassive$1 ? { passive: true } : false;\n\n  var Swipe = {\n    /**\n     * Initializes swipe bindings.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      this.bindSwipeStart();\n    },\n\n\n    /**\n     * Handler for `swipestart` event. Calculates entry points of the user's tap.\n     *\n     * @param {Object} event\n     * @return {Void}\n     */\n    start: function start(event) {\n      if (!disabled && !Glide.disabled) {\n        this.disable();\n\n        var swipe = this.touches(event);\n\n        swipeSin = null;\n        swipeStartX = toInt(swipe.pageX);\n        swipeStartY = toInt(swipe.pageY);\n\n        this.bindSwipeMove();\n        this.bindSwipeEnd();\n\n        Events.emit('swipe.start');\n      }\n    },\n\n\n    /**\n     * Handler for `swipemove` event. Calculates user's tap angle and distance.\n     *\n     * @param {Object} event\n     */\n    move: function move(event) {\n      if (!Glide.disabled) {\n        var _Glide$settings = Glide.settings,\n            touchAngle = _Glide$settings.touchAngle,\n            touchRatio = _Glide$settings.touchRatio,\n            classes = _Glide$settings.classes;\n\n\n        var swipe = this.touches(event);\n\n        var subExSx = toInt(swipe.pageX) - swipeStartX;\n        var subEySy = toInt(swipe.pageY) - swipeStartY;\n        var powEX = Math.abs(subExSx << 2);\n        var powEY = Math.abs(subEySy << 2);\n        var swipeHypotenuse = Math.sqrt(powEX + powEY);\n        var swipeCathetus = Math.sqrt(powEY);\n\n        swipeSin = Math.asin(swipeCathetus / swipeHypotenuse);\n\n        if (swipeSin * 180 / Math.PI < touchAngle) {\n          event.stopPropagation();\n\n          Components.Move.make(subExSx * toFloat(touchRatio));\n\n          Components.Html.root.classList.add(classes.dragging);\n\n          Events.emit('swipe.move');\n        } else {\n          return false;\n        }\n      }\n    },\n\n\n    /**\n     * Handler for `swipeend` event. Finitializes user's tap and decides about glide move.\n     *\n     * @param {Object} event\n     * @return {Void}\n     */\n    end: function end(event) {\n      if (!Glide.disabled) {\n        var settings = Glide.settings;\n\n        var swipe = this.touches(event);\n        var threshold = this.threshold(event);\n\n        var swipeDistance = swipe.pageX - swipeStartX;\n        var swipeDeg = swipeSin * 180 / Math.PI;\n        var steps = Math.round(swipeDistance / Components.Sizes.slideWidth);\n\n        this.enable();\n\n        if (swipeDistance > threshold && swipeDeg < settings.touchAngle) {\n          // While swipe is positive and greater than threshold move backward.\n          if (settings.perTouch) {\n            steps = Math.min(steps, toInt(settings.perTouch));\n          }\n\n          if (Components.Direction.is('rtl')) {\n            steps = -steps;\n          }\n\n          Components.Run.make(Components.Direction.resolve('<' + steps));\n        } else if (swipeDistance < -threshold && swipeDeg < settings.touchAngle) {\n          // While swipe is negative and lower than negative threshold move forward.\n          if (settings.perTouch) {\n            steps = Math.max(steps, -toInt(settings.perTouch));\n          }\n\n          if (Components.Direction.is('rtl')) {\n            steps = -steps;\n          }\n\n          Components.Run.make(Components.Direction.resolve('>' + steps));\n        } else {\n          // While swipe don't reach distance apply previous transform.\n          Components.Move.make();\n        }\n\n        Components.Html.root.classList.remove(settings.classes.dragging);\n\n        this.unbindSwipeMove();\n        this.unbindSwipeEnd();\n\n        Events.emit('swipe.end');\n      }\n    },\n\n\n    /**\n     * Binds swipe's starting event.\n     *\n     * @return {Void}\n     */\n    bindSwipeStart: function bindSwipeStart() {\n      var _this = this;\n\n      var settings = Glide.settings;\n\n      if (settings.swipeThreshold) {\n        Binder.on(START_EVENTS[0], Components.Html.wrapper, function (event) {\n          _this.start(event);\n        }, capture);\n      }\n\n      if (settings.dragThreshold) {\n        Binder.on(START_EVENTS[1], Components.Html.wrapper, function (event) {\n          _this.start(event);\n        }, capture);\n      }\n    },\n\n\n    /**\n     * Unbinds swipe's starting event.\n     *\n     * @return {Void}\n     */\n    unbindSwipeStart: function unbindSwipeStart() {\n      Binder.off(START_EVENTS[0], Components.Html.wrapper, capture);\n      Binder.off(START_EVENTS[1], Components.Html.wrapper, capture);\n    },\n\n\n    /**\n     * Binds swipe's moving event.\n     *\n     * @return {Void}\n     */\n    bindSwipeMove: function bindSwipeMove() {\n      var _this2 = this;\n\n      Binder.on(MOVE_EVENTS, Components.Html.wrapper, throttle(function (event) {\n        _this2.move(event);\n      }, Glide.settings.throttle), capture);\n    },\n\n\n    /**\n     * Unbinds swipe's moving event.\n     *\n     * @return {Void}\n     */\n    unbindSwipeMove: function unbindSwipeMove() {\n      Binder.off(MOVE_EVENTS, Components.Html.wrapper, capture);\n    },\n\n\n    /**\n     * Binds swipe's ending event.\n     *\n     * @return {Void}\n     */\n    bindSwipeEnd: function bindSwipeEnd() {\n      var _this3 = this;\n\n      Binder.on(END_EVENTS, Components.Html.wrapper, function (event) {\n        _this3.end(event);\n      });\n    },\n\n\n    /**\n     * Unbinds swipe's ending event.\n     *\n     * @return {Void}\n     */\n    unbindSwipeEnd: function unbindSwipeEnd() {\n      Binder.off(END_EVENTS, Components.Html.wrapper);\n    },\n\n\n    /**\n     * Normalizes event touches points accorting to different types.\n     *\n     * @param {Object} event\n     */\n    touches: function touches(event) {\n      if (MOUSE_EVENTS.indexOf(event.type) > -1) {\n        return event;\n      }\n\n      return event.touches[0] || event.changedTouches[0];\n    },\n\n\n    /**\n     * Gets value of minimum swipe distance settings based on event type.\n     *\n     * @return {Number}\n     */\n    threshold: function threshold(event) {\n      var settings = Glide.settings;\n\n      if (MOUSE_EVENTS.indexOf(event.type) > -1) {\n        return settings.dragThreshold;\n      }\n\n      return settings.swipeThreshold;\n    },\n\n\n    /**\n     * Enables swipe event.\n     *\n     * @return {self}\n     */\n    enable: function enable() {\n      disabled = false;\n\n      Components.Transition.enable();\n\n      return this;\n    },\n\n\n    /**\n     * Disables swipe event.\n     *\n     * @return {self}\n     */\n    disable: function disable() {\n      disabled = true;\n\n      Components.Transition.disable();\n\n      return this;\n    }\n  };\n\n  /**\n   * Add component class:\n   * - after initial building\n   */\n  Events.on('build.after', function () {\n    Components.Html.root.classList.add(Glide.settings.classes.swipeable);\n  });\n\n  /**\n   * Remove swiping bindings:\n   * - on destroying, to remove added EventListeners\n   */\n  Events.on('destroy', function () {\n    Swipe.unbindSwipeStart();\n    Swipe.unbindSwipeMove();\n    Swipe.unbindSwipeEnd();\n    Binder.destroy();\n  });\n\n  return Swipe;\n}\n\nfunction images (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n\n  var Images = {\n    /**\n     * Binds listener to glide wrapper.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      this.bind();\n    },\n\n\n    /**\n     * Binds `dragstart` event on wrapper to prevent dragging images.\n     *\n     * @return {Void}\n     */\n    bind: function bind() {\n      Binder.on('dragstart', Components.Html.wrapper, this.dragstart);\n    },\n\n\n    /**\n     * Unbinds `dragstart` event on wrapper.\n     *\n     * @return {Void}\n     */\n    unbind: function unbind() {\n      Binder.off('dragstart', Components.Html.wrapper);\n    },\n\n\n    /**\n     * Event handler. Prevents dragging.\n     *\n     * @return {Void}\n     */\n    dragstart: function dragstart(event) {\n      event.preventDefault();\n    }\n  };\n\n  /**\n   * Remove bindings from images:\n   * - on destroying, to remove added EventListeners\n   */\n  Events.on('destroy', function () {\n    Images.unbind();\n    Binder.destroy();\n  });\n\n  return Images;\n}\n\nfunction anchors (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n\n  /**\n   * Holds detaching status of anchors.\n   * Prevents detaching of already detached anchors.\n   *\n   * @private\n   * @type {Boolean}\n   */\n  var detached = false;\n\n  /**\n   * Holds preventing status of anchors.\n   * If `true` redirection after click will be disabled.\n   *\n   * @private\n   * @type {Boolean}\n   */\n  var prevented = false;\n\n  var Anchors = {\n    /**\n     * Setups a initial state of anchors component.\n     *\n     * @returns {Void}\n     */\n    mount: function mount() {\n      /**\n       * Holds collection of anchors elements.\n       *\n       * @private\n       * @type {HTMLCollection}\n       */\n      this._a = Components.Html.wrapper.querySelectorAll('a');\n\n      this.bind();\n    },\n\n\n    /**\n     * Binds events to anchors inside a track.\n     *\n     * @return {Void}\n     */\n    bind: function bind() {\n      Binder.on('click', Components.Html.wrapper, this.click);\n    },\n\n\n    /**\n     * Unbinds events attached to anchors inside a track.\n     *\n     * @return {Void}\n     */\n    unbind: function unbind() {\n      Binder.off('click', Components.Html.wrapper);\n    },\n\n\n    /**\n     * Handler for click event. Prevents clicks when glide is in `prevent` status.\n     *\n     * @param  {Object} event\n     * @return {Void}\n     */\n    click: function click(event) {\n      if (prevented) {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n    },\n\n\n    /**\n     * Detaches anchors click event inside glide.\n     *\n     * @return {self}\n     */\n    detach: function detach() {\n      prevented = true;\n\n      if (!detached) {\n        for (var i = 0; i < this.items.length; i++) {\n          this.items[i].draggable = false;\n\n          this.items[i].setAttribute('data-href', this.items[i].getAttribute('href'));\n\n          this.items[i].removeAttribute('href');\n        }\n\n        detached = true;\n      }\n\n      return this;\n    },\n\n\n    /**\n     * Attaches anchors click events inside glide.\n     *\n     * @return {self}\n     */\n    attach: function attach() {\n      prevented = false;\n\n      if (detached) {\n        for (var i = 0; i < this.items.length; i++) {\n          this.items[i].draggable = true;\n\n          this.items[i].setAttribute('href', this.items[i].getAttribute('data-href'));\n        }\n\n        detached = false;\n      }\n\n      return this;\n    }\n  };\n\n  define(Anchors, 'items', {\n    /**\n     * Gets collection of the arrows HTML elements.\n     *\n     * @return {HTMLElement[]}\n     */\n    get: function get() {\n      return Anchors._a;\n    }\n  });\n\n  /**\n   * Detach anchors inside slides:\n   * - on swiping, so they won't redirect to its `href` attributes\n   */\n  Events.on('swipe.move', function () {\n    Anchors.detach();\n  });\n\n  /**\n   * Attach anchors inside slides:\n   * - after swiping and transitions ends, so they can redirect after click again\n   */\n  Events.on('swipe.end', function () {\n    Components.Transition.after(function () {\n      Anchors.attach();\n    });\n  });\n\n  /**\n   * Unbind anchors inside slides:\n   * - on destroying, to bring anchors to its initial state\n   */\n  Events.on('destroy', function () {\n    Anchors.attach();\n    Anchors.unbind();\n    Binder.destroy();\n  });\n\n  return Anchors;\n}\n\nvar NAV_SELECTOR = '[data-glide-el=\"controls[nav]\"]';\nvar CONTROLS_SELECTOR = '[data-glide-el^=\"controls\"]';\n\nfunction controls (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n\n  var capture = supportsPassive$1 ? { passive: true } : false;\n\n  var Controls = {\n    /**\n     * Inits arrows. Binds events listeners\n     * to the arrows HTML elements.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      /**\n       * Collection of navigation HTML elements.\n       *\n       * @private\n       * @type {HTMLCollection}\n       */\n      this._n = Components.Html.root.querySelectorAll(NAV_SELECTOR);\n\n      /**\n       * Collection of controls HTML elements.\n       *\n       * @private\n       * @type {HTMLCollection}\n       */\n      this._c = Components.Html.root.querySelectorAll(CONTROLS_SELECTOR);\n\n      this.addBindings();\n    },\n\n\n    /**\n     * Sets active class to current slide.\n     *\n     * @return {Void}\n     */\n    setActive: function setActive() {\n      for (var i = 0; i < this._n.length; i++) {\n        this.addClass(this._n[i].children);\n      }\n    },\n\n\n    /**\n     * Removes active class to current slide.\n     *\n     * @return {Void}\n     */\n    removeActive: function removeActive() {\n      for (var i = 0; i < this._n.length; i++) {\n        this.removeClass(this._n[i].children);\n      }\n    },\n\n\n    /**\n     * Toggles active class on items inside navigation.\n     *\n     * @param  {HTMLElement} controls\n     * @return {Void}\n     */\n    addClass: function addClass(controls) {\n      var settings = Glide.settings;\n      var item = controls[Glide.index];\n\n      if (item) {\n        item.classList.add(settings.classes.activeNav);\n\n        siblings(item).forEach(function (sibling) {\n          sibling.classList.remove(settings.classes.activeNav);\n        });\n      }\n    },\n\n\n    /**\n     * Removes active class from active control.\n     *\n     * @param  {HTMLElement} controls\n     * @return {Void}\n     */\n    removeClass: function removeClass(controls) {\n      var item = controls[Glide.index];\n\n      if (item) {\n        item.classList.remove(Glide.settings.classes.activeNav);\n      }\n    },\n\n\n    /**\n     * Adds handles to the each group of controls.\n     *\n     * @return {Void}\n     */\n    addBindings: function addBindings() {\n      for (var i = 0; i < this._c.length; i++) {\n        this.bind(this._c[i].children);\n      }\n    },\n\n\n    /**\n     * Removes handles from the each group of controls.\n     *\n     * @return {Void}\n     */\n    removeBindings: function removeBindings() {\n      for (var i = 0; i < this._c.length; i++) {\n        this.unbind(this._c[i].children);\n      }\n    },\n\n\n    /**\n     * Binds events to arrows HTML elements.\n     *\n     * @param {HTMLCollection} elements\n     * @return {Void}\n     */\n    bind: function bind(elements) {\n      for (var i = 0; i < elements.length; i++) {\n        Binder.on('click', elements[i], this.click);\n        Binder.on('touchstart', elements[i], this.click, capture);\n      }\n    },\n\n\n    /**\n     * Unbinds events binded to the arrows HTML elements.\n     *\n     * @param {HTMLCollection} elements\n     * @return {Void}\n     */\n    unbind: function unbind(elements) {\n      for (var i = 0; i < elements.length; i++) {\n        Binder.off(['click', 'touchstart'], elements[i]);\n      }\n    },\n\n\n    /**\n     * Handles `click` event on the arrows HTML elements.\n     * Moves slider in driection precised in\n     * `data-glide-dir` attribute.\n     *\n     * @param {Object} event\n     * @return {Void}\n     */\n    click: function click(event) {\n      event.preventDefault();\n\n      Components.Run.make(Components.Direction.resolve(event.currentTarget.getAttribute('data-glide-dir')));\n    }\n  };\n\n  define(Controls, 'items', {\n    /**\n     * Gets collection of the controls HTML elements.\n     *\n     * @return {HTMLElement[]}\n     */\n    get: function get() {\n      return Controls._c;\n    }\n  });\n\n  /**\n   * Swap active class of current navigation item:\n   * - after mounting to set it to initial index\n   * - after each move to the new index\n   */\n  Events.on(['mount.after', 'move.after'], function () {\n    Controls.setActive();\n  });\n\n  /**\n   * Remove bindings and HTML Classes:\n   * - on destroying, to bring markup to its initial state\n   */\n  Events.on('destroy', function () {\n    Controls.removeBindings();\n    Controls.removeActive();\n    Binder.destroy();\n  });\n\n  return Controls;\n}\n\nfunction keyboard (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n\n  var Keyboard = {\n    /**\n     * Binds keyboard events on component mount.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      if (Glide.settings.keyboard) {\n        this.bind();\n      }\n    },\n\n\n    /**\n     * Adds keyboard press events.\n     *\n     * @return {Void}\n     */\n    bind: function bind() {\n      Binder.on('keyup', document, this.press);\n    },\n\n\n    /**\n     * Removes keyboard press events.\n     *\n     * @return {Void}\n     */\n    unbind: function unbind() {\n      Binder.off('keyup', document);\n    },\n\n\n    /**\n     * Handles keyboard's arrows press and moving glide foward and backward.\n     *\n     * @param  {Object} event\n     * @return {Void}\n     */\n    press: function press(event) {\n      if (event.keyCode === 39) {\n        Components.Run.make(Components.Direction.resolve('>'));\n      }\n\n      if (event.keyCode === 37) {\n        Components.Run.make(Components.Direction.resolve('<'));\n      }\n    }\n  };\n\n  /**\n   * Remove bindings from keyboard:\n   * - on destroying to remove added events\n   * - on updating to remove events before remounting\n   */\n  Events.on(['destroy', 'update'], function () {\n    Keyboard.unbind();\n  });\n\n  /**\n   * Remount component\n   * - on updating to reflect potential changes in settings\n   */\n  Events.on('update', function () {\n    Keyboard.mount();\n  });\n\n  /**\n   * Destroy binder:\n   * - on destroying to remove listeners\n   */\n  Events.on('destroy', function () {\n    Binder.destroy();\n  });\n\n  return Keyboard;\n}\n\nfunction autoplay (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n\n  var Autoplay = {\n    /**\n     * Initializes autoplaying and events.\n     *\n     * @return {Void}\n     */\n    mount: function mount() {\n      this.start();\n\n      if (Glide.settings.hoverpause) {\n        this.bind();\n      }\n    },\n\n\n    /**\n     * Starts autoplaying in configured interval.\n     *\n     * @param {Boolean|Number} force Run autoplaying with passed interval regardless of `autoplay` settings\n     * @return {Void}\n     */\n    start: function start() {\n      var _this = this;\n\n      if (Glide.settings.autoplay) {\n        if (isUndefined(this._i)) {\n          this._i = setInterval(function () {\n            _this.stop();\n\n            Components.Run.make('>');\n\n            _this.start();\n          }, this.time);\n        }\n      }\n    },\n\n\n    /**\n     * Stops autorunning of the glide.\n     *\n     * @return {Void}\n     */\n    stop: function stop() {\n      this._i = clearInterval(this._i);\n    },\n\n\n    /**\n     * Stops autoplaying while mouse is over glide's area.\n     *\n     * @return {Void}\n     */\n    bind: function bind() {\n      var _this2 = this;\n\n      Binder.on('mouseover', Components.Html.root, function () {\n        _this2.stop();\n      });\n\n      Binder.on('mouseout', Components.Html.root, function () {\n        _this2.start();\n      });\n    },\n\n\n    /**\n     * Unbind mouseover events.\n     *\n     * @returns {Void}\n     */\n    unbind: function unbind() {\n      Binder.off(['mouseover', 'mouseout'], Components.Html.root);\n    }\n  };\n\n  define(Autoplay, 'time', {\n    /**\n     * Gets time period value for the autoplay interval. Prioritizes\n     * times in `data-glide-autoplay` attrubutes over options.\n     *\n     * @return {Number}\n     */\n    get: function get() {\n      var autoplay = Components.Html.slides[Glide.index].getAttribute('data-glide-autoplay');\n\n      if (autoplay) {\n        return toInt(autoplay);\n      }\n\n      return toInt(Glide.settings.autoplay);\n    }\n  });\n\n  /**\n   * Stop autoplaying and unbind events:\n   * - on destroying, to clear defined interval\n   * - on updating via API to reset interval that may changed\n   */\n  Events.on(['destroy', 'update'], function () {\n    Autoplay.unbind();\n  });\n\n  /**\n   * Stop autoplaying:\n   * - before each run, to restart autoplaying\n   * - on pausing via API\n   * - on destroying, to clear defined interval\n   * - while starting a swipe\n   * - on updating via API to reset interval that may changed\n   */\n  Events.on(['run.before', 'pause', 'destroy', 'swipe.start', 'update'], function () {\n    Autoplay.stop();\n  });\n\n  /**\n   * Start autoplaying:\n   * - after each run, to restart autoplaying\n   * - on playing via API\n   * - while ending a swipe\n   */\n  Events.on(['run.after', 'play', 'swipe.end'], function () {\n    Autoplay.start();\n  });\n\n  /**\n   * Remount autoplaying:\n   * - on updating via API to reset interval that may changed\n   */\n  Events.on('update', function () {\n    Autoplay.mount();\n  });\n\n  /**\n   * Destroy a binder:\n   * - on destroying glide instance to clearup listeners\n   */\n  Events.on('destroy', function () {\n    Binder.destroy();\n  });\n\n  return Autoplay;\n}\n\n/**\n * Sorts keys of breakpoint object so they will be ordered from lower to bigger.\n *\n * @param {Object} points\n * @returns {Object}\n */\nfunction sortBreakpoints(points) {\n  if (isObject(points)) {\n    return sortKeys(points);\n  } else {\n    warn('Breakpoints option must be an object');\n  }\n\n  return {};\n}\n\nfunction breakpoints (Glide, Components, Events) {\n  /**\n   * Instance of the binder for DOM Events.\n   *\n   * @type {EventsBinder}\n   */\n  var Binder = new EventsBinder();\n\n  /**\n   * Holds reference to settings.\n   *\n   * @type {Object}\n   */\n  var settings = Glide.settings;\n\n  /**\n   * Holds reference to breakpoints object in settings. Sorts breakpoints\n   * from smaller to larger. It is required in order to proper\n   * matching currently active breakpoint settings.\n   *\n   * @type {Object}\n   */\n  var points = sortBreakpoints(settings.breakpoints);\n\n  /**\n   * Cache initial settings before overwritting.\n   *\n   * @type {Object}\n   */\n  var defaults = _extends({}, settings);\n\n  var Breakpoints = {\n    /**\n     * Matches settings for currectly matching media breakpoint.\n     *\n     * @param {Object} points\n     * @returns {Object}\n     */\n    match: function match(points) {\n      if (typeof window.matchMedia !== 'undefined') {\n        for (var point in points) {\n          if (points.hasOwnProperty(point)) {\n            if (window.matchMedia('(max-width: ' + point + 'px)').matches) {\n              return points[point];\n            }\n          }\n        }\n      }\n\n      return defaults;\n    }\n  };\n\n  /**\n   * Overwrite instance settings with currently matching breakpoint settings.\n   * This happens right after component initialization.\n   */\n  _extends(settings, Breakpoints.match(points));\n\n  /**\n   * Update glide with settings of matched brekpoint:\n   * - window resize to update slider\n   */\n  Binder.on('resize', window, throttle(function () {\n    Glide.settings = mergeOptions(settings, Breakpoints.match(points));\n  }, Glide.settings.throttle));\n\n  /**\n   * Resort and update default settings:\n   * - on reinit via API, so breakpoint matching will be performed with options\n   */\n  Events.on('update', function () {\n    points = sortBreakpoints(points);\n\n    defaults = _extends({}, settings);\n  });\n\n  /**\n   * Unbind resize listener:\n   * - on destroying, to bring markup to its initial state\n   */\n  Events.on('destroy', function () {\n    Binder.off('resize', window);\n  });\n\n  return Breakpoints;\n}\n\nvar COMPONENTS = {\n  Html: Html,\n  Translate: Translate,\n  Transition: Transition,\n  Direction: Direction,\n  Peek: Peek,\n  Sizes: Sizes,\n  Gaps: Gaps,\n  Move: Move,\n  Clones: Clones,\n  Resize: Resize,\n  Build: Build,\n  Run: Run\n};\n\nvar Glide$1 = function (_Core) {\n  inherits(Glide$$1, _Core);\n\n  function Glide$$1() {\n    classCallCheck(this, Glide$$1);\n    return possibleConstructorReturn(this, (Glide$$1.__proto__ || Object.getPrototypeOf(Glide$$1)).apply(this, arguments));\n  }\n\n  createClass(Glide$$1, [{\n    key: 'mount',\n    value: function mount() {\n      var extensions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      return get(Glide$$1.prototype.__proto__ || Object.getPrototypeOf(Glide$$1.prototype), 'mount', this).call(this, _extends({}, COMPONENTS, extensions));\n    }\n  }]);\n  return Glide$$1;\n}(Glide);\n\nexport default Glide$1;\nexport { swipe as Swipe, images as Images, anchors as Anchors, controls as Controls, keyboard as Keyboard, autoplay as Autoplay, breakpoints as Breakpoints };\n","// extracted by mini-css-extract-plugin","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","require('../../modules/es6.array.is-array');\nmodule.exports = require('../../modules/_core').Array.isArray;\n","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.is-iterable');\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.map');\nrequire('../modules/es7.map.to-json');\nrequire('../modules/es7.map.of');\nrequire('../modules/es7.map.from');\nmodule.exports = require('../modules/_core').Map;\n","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","require('../../modules/es6.object.get-prototype-of');\nmodule.exports = require('../../modules/_core').Object.getPrototypeOf;\n","require('../../modules/es6.object.set-prototype-of');\nmodule.exports = require('../../modules/_core').Object.setPrototypeOf;\n","require('../modules/es6.parse-float');\nmodule.exports = require('../modules/_core').parseFloat;\n","require('../modules/es6.parse-int');\nmodule.exports = require('../modules/_core').parseInt;\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.set');\nrequire('../modules/es7.set.to-json');\nrequire('../modules/es7.set.of');\nrequire('../modules/es7.set.from');\nmodule.exports = require('../modules/_core').Set;\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","require('../../modules/es6.string.iterator');\nrequire('../../modules/web.dom.iterable');\nmodule.exports = require('../../modules/_wks-ext').f('iterator');\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","module.exports = function () { /* empty */ };\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar meta = require('./_meta');\nvar fails = require('./_fails');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar setToStringTag = require('./_set-to-string-tag');\nvar dP = require('./_object-dp').f;\nvar each = require('./_array-methods')(0);\nvar DESCRIPTORS = require('./_descriptors');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  if (!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function (target, iterable) {\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base();\n      if (iterable != undefined) forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in proto && !(IS_WEAK && KEY == 'clear')) hide(C.prototype, KEY, function (a, b) {\n        anInstance(this, C, KEY);\n        if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    IS_WEAK || dP(C.prototype, 'size', {\n      get: function () {\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","var core = module.exports = { version: '2.6.11' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","module.exports = true;\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var $parseFloat = require('./_global').parseFloat;\nvar $trim = require('./_string-trim').trim;\n\nmodule.exports = 1 / $parseFloat(require('./_string-ws') + '-0') !== -Infinity ? function parseFloat(str) {\n  var string = $trim(String(str), 3);\n  var result = $parseFloat(string);\n  return result === 0 && string.charAt(0) == '-' ? -0 : result;\n} : $parseFloat;\n","var $parseInt = require('./_global').parseInt;\nvar $trim = require('./_string-trim').trim;\nvar ws = require('./_string-ws');\nvar hex = /^[-+]?0[xX]/;\n\nmodule.exports = $parseInt(ws + '08') !== 8 || $parseInt(ws + '0x16') !== 22 ? function parseInt(str, radix) {\n  var string = $trim(String(str), 3);\n  return $parseInt(string, (radix >>> 0) || (hex.test(string) ? 16 : 10));\n} : $parseInt;\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","module.exports = require('./_hide');\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = new Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2019 Denis Pushkarev (zloirock.ru)'\n});\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","var $export = require('./_export');\nvar defined = require('./_defined');\nvar fails = require('./_fails');\nvar spaces = require('./_string-ws');\nvar space = '[' + spaces + ']';\nvar non = '\\u200b\\u0085';\nvar ltrim = RegExp('^' + space + space + '*');\nvar rtrim = RegExp(space + space + '*$');\n\nvar exporter = function (KEY, exec, ALIAS) {\n  var exp = {};\n  var FORCE = fails(function () {\n    return !!spaces[KEY]() || non[KEY]() != non;\n  });\n  var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];\n  if (ALIAS) exp[ALIAS] = fn;\n  $export($export.P + $export.F * FORCE, 'String', exp);\n};\n\n// 1 -> String#trimLeft\n// 2 -> String#trimRight\n// 3 -> String#trim\nvar trim = exporter.trim = function (string, TYPE) {\n  string = String(defined(string));\n  if (TYPE & 1) string = string.replace(ltrim, '');\n  if (TYPE & 2) string = string.replace(rtrim, '');\n  return string;\n};\n\nmodule.exports = exporter;\n","module.exports = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003' +\n  '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF';\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').isIterable = function (it) {\n  var O = Object(it);\n  return O[ITERATOR] !== undefined\n    || '@@iterator' in O\n    // eslint-disable-next-line no-prototype-builtins\n    || Iterators.hasOwnProperty(classof(O));\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","// 22.1.2.2 / 15.4.3.2 Array.isArray(arg)\nvar $export = require('./_export');\n\n$export($export.S, 'Array', { isArray: require('./_is-array') });\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","// 19.1.2.9 Object.getPrototypeOf(O)\nvar toObject = require('./_to-object');\nvar $getPrototypeOf = require('./_object-gpo');\n\nrequire('./_object-sap')('getPrototypeOf', function () {\n  return function getPrototypeOf(it) {\n    return $getPrototypeOf(toObject(it));\n  };\n});\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","var $export = require('./_export');\nvar $parseFloat = require('./_parse-float');\n// 18.2.4 parseFloat(string)\n$export($export.G + $export.F * (parseFloat != $parseFloat), { parseFloat: $parseFloat });\n","var $export = require('./_export');\nvar $parseInt = require('./_parse-int');\n// 18.2.5 parseInt(string, radix)\n$export($export.G + $export.F * (parseInt != $parseInt), { parseInt: $parseInt });\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\nrequire('./_set-collection-from')('Map');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\nrequire('./_set-collection-of')('Map');\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Map', { toJSON: require('./_collection-to-json')('Map') });\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.from\nrequire('./_set-collection-from')('Set');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-set.of\nrequire('./_set-collection-of')('Set');\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Set', { toJSON: require('./_collection-to-json')('Set') });\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","// Polyfill for creating CustomEvents on IE9/10/11\n\n// code pulled from:\n// https://github.com/d4tocchini/customevent-polyfill\n// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent#Polyfill\n\n(function() {\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  try {\n    var ce = new window.CustomEvent('test', { cancelable: true });\n    ce.preventDefault();\n    if (ce.defaultPrevented !== true) {\n      // IE has problems with .preventDefault() on custom events\n      // http://stackoverflow.com/questions/23349191\n      throw new Error('Could not prevent default');\n    }\n  } catch (e) {\n    var CustomEvent = function(event, params) {\n      var evt, origPrevent;\n      params = params || {\n        bubbles: false,\n        cancelable: false,\n        detail: undefined\n      };\n\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(\n        event,\n        params.bubbles,\n        params.cancelable,\n        params.detail\n      );\n      origPrevent = evt.preventDefault;\n      evt.preventDefault = function() {\n        origPrevent.call(this);\n        try {\n          Object.defineProperty(this, 'defaultPrevented', {\n            get: function() {\n              return true;\n            }\n          });\n        } catch (e) {\n          this.defaultPrevented = true;\n        }\n      };\n      return evt;\n    };\n\n    CustomEvent.prototype = window.Event.prototype;\n    window.CustomEvent = CustomEvent; // expose definition to window\n  }\n})();\n","import { addUrlHashParameter,\r\n    calcBorderWidth,\r\n    mergeObjects,\r\n    addUrlParameter,\r\n    getUrlHashParameterValue,\r\n    removeUrlHashParameter,\r\n    removeUrlParameter,\r\n    setCSSStyle\r\n} from './Helpers';\r\n\r\nwindow.Eventgallery = window.Eventgallery || {};\r\nif (typeof eventgallery !== 'undefined') {\r\n    Eventgallery.jQuery = eventgallery.jQuery;\r\n}\r\n\r\nEventgallery.Tools = {};\r\nEventgallery.Tools.mergeObjects = mergeObjects;\r\nEventgallery.Tools.calcBorderWidth = calcBorderWidth;\r\nEventgallery.Tools.addUrlHashParameter = addUrlHashParameter;\r\nEventgallery.Tools.getUrlHashParameterValue = getUrlHashParameterValue;\r\nEventgallery.Tools.removeUrlHashParameter = removeUrlHashParameter;\r\nEventgallery.Tools.addUrlParameter = addUrlParameter;\r\nEventgallery.Tools.removeUrlParameter = removeUrlParameter;\r\nEventgallery.Tools.setCSSStyle = setCSSStyle;\r\n","function removeElement(array, elm) {\r\n    const index = array.indexOf(elm);\r\n    if (index > -1) {\r\n        array.splice(index, 1);\r\n    }\r\n}\r\n\r\nfunction mergeObjects(defaults, options) {\r\n    if (options === null || defaults === null) {\r\n        return defaults;\r\n    }\r\n\r\n    for (let key in options) {\r\n        defaults[key] = options[key];\r\n    }\r\n\r\n    return defaults;\r\n}\r\n\r\n/**\r\n * calculates the border of the given elements with the given properties\r\n */\r\nfunction calcBorderWidth(elements, properties) {\r\n    let sum = 0;\r\n\r\n    for (let i=0; i<elements.length; i++) {\r\n        for (let j=0; j<properties.length; j++) {\r\n            let value = parseFloat( elements[i].css(properties[j]) );\r\n            if (!isNaN(value)) {\r\n                sum += value;\r\n            }\r\n        }\r\n    }\r\n\r\n    return sum;\r\n}\r\n\r\nfunction addUrlHashParameter(initialUrl, key, value) {\r\n    let url = removeUrlHashParameter(initialUrl, key),\r\n        fragments = url.split('#'),\r\n        urlpart = fragments[0],\r\n        hashparts = fragments.length>1? fragments[1].split(\"&\") : [],\r\n        result;\r\n\r\n    hashparts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(value));\r\n\r\n    if (hashparts.length>0) {\r\n        result = urlpart + '#' + hashparts.join('&');\r\n    } else {\r\n        result = urlpart;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction getUrlHashParameterValue(url, key) {\r\n    let fragments=url.split('#'),\r\n        hashparts = fragments.length>1? fragments[1].split(\"&\") : [],\r\n        result;\r\n\r\n    if (hashparts.length>0)\r\n    {\r\n        let prefix= encodeURIComponent(key)+'=';\r\n\r\n        for (let i=0; i<hashparts.length; i++) {\r\n            if (hashparts[i].indexOf(prefix, 0) === 0) {\r\n                result = hashparts[i].replace(prefix, '');\r\n            }\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction removeUrlHashParameter(url, key) {\r\n    let fragments=url.split('#'),\r\n        urlpart= fragments[0],\r\n        hashparts = fragments.length>1? fragments[1].split(\"&\") : [],\r\n        result;\r\n\r\n    if (hashparts.length>0)\r\n    {\r\n        let prefix= encodeURIComponent(key)+'=',\r\n            newHashParts = [];\r\n\r\n        for (let i=0; i<hashparts.length; i++) {\r\n            if (hashparts[i].indexOf(prefix, 0) === 0) {\r\n\r\n            } else {\r\n                newHashParts.push(hashparts[i]);\r\n            }\r\n        }\r\n        hashparts = newHashParts;\r\n    }\r\n\r\n    if (hashparts.length>0) {\r\n        result = urlpart + '#' + hashparts.join('&');\r\n    } else {\r\n        result = urlpart;\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction addUrlParameter(initialUrl, key, value) {\r\n    let url = removeUrlParameter(initialUrl, key),\r\n        fragments = url.split('#'),\r\n        urlparts= fragments[0].split('?'),\r\n        result;\r\n\r\n    if (urlparts.length === 1) {\r\n        result = urlparts[0] + '?' + encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\r\n    } else {\r\n        result = urlparts.join('?') + '&' + encodeURIComponent(key) + \"=\" + encodeURIComponent(value);\r\n    }\r\n\r\n    if (fragments.length>1) {\r\n        return result + '#' + fragments[1];\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction removeUrlParameter(url, key) {\r\n    let fragments=url.split('#'),\r\n        urlparts= fragments[0].split('?'),\r\n        result;\r\n\r\n    if (urlparts.length>1)\r\n    {\r\n        let prefix= encodeURIComponent(key)+'=';\r\n        let pars= urlparts[1].split('&');\r\n\r\n        for (let i=0; i<pars.length; i++) {\r\n            if (pars[i].indexOf(prefix, 0) === 0) {\r\n                pars.splice(i, 1);\r\n            }\r\n        }\r\n        if (pars.length > 0) {\r\n            result = urlparts[0] + '?' + pars.join('&');\r\n        }\r\n        else {\r\n            result = urlparts[0];\r\n        }\r\n    }\r\n    else {\r\n        result =  urlparts[0];\r\n    }\r\n\r\n    if (fragments.length>1) {\r\n        return result + '#' + fragments[1];\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction setCSSStyle (nodes, style, value) {\r\n    for (let i=0; i<nodes.length; i++) {\r\n        nodes[i].style[style] = value;\r\n    }\r\n}\r\n\r\n/**\r\n *\r\n * @param node HTMLElement\r\n */\r\nfunction getParents(node) {\r\n    let parents = [];\r\n\r\n    if (node === null) {\r\n        return parents;\r\n    }\r\n\r\n    while(node.parentElement != null) {\r\n        let parent = node.parentElement;\r\n        parents.push(parent);\r\n        node = parent;\r\n    }\r\n    return parents;\r\n}\r\n\r\n/*!\r\n * Serialize all form data into a query string\r\n * (c) 2018 Chris Ferdinandi, MIT License, https://gomakethings.com\r\n * Modified to use any HTML element instead of a form element.\r\n * @param  {Node}   form The form container to serialize\r\n * @return {String}      The serialized form data\r\n */\r\nvar serializeForm = function (form) {\r\n\r\n    // Setup our serialized data\r\n    var serialized = [];\r\n\r\n    let inputElements = form.querySelectorAll('input,select,textarea');\r\n    // Loop through each field in the form\r\n    for (var i = 0; i < inputElements.length; i++) {\r\n\r\n        var field = inputElements[i];\r\n\r\n        // Don't serialize fields without a name, submits, buttons, file and reset inputs, and disabled fields\r\n        if (!field.name || field.disabled || field.type === 'file' || field.type === 'reset' || field.type === 'submit' || field.type === 'button') continue;\r\n\r\n        // If a multi-select, get all selections\r\n        if (field.type === 'select-multiple') {\r\n            for (var n = 0; n < field.options.length; n++) {\r\n                if (!field.options[n].selected) continue;\r\n                serialized.push(encodeURIComponent(field.name) + \"=\" + encodeURIComponent(field.options[n].value));\r\n            }\r\n        }\r\n\r\n        // Convert field data to a query string\r\n        else if ((field.type !== 'checkbox' && field.type !== 'radio') || field.checked) {\r\n            serialized.push(encodeURIComponent(field.name) + \"=\" + encodeURIComponent(field.value));\r\n        }\r\n    }\r\n\r\n    return serialized.join('&');\r\n\r\n};\r\n\r\nexport { removeElement, addUrlHashParameter, calcBorderWidth, mergeObjects, addUrlParameter, getUrlHashParameterValue, removeUrlHashParameter, removeUrlParameter, setCSSStyle, getParents, serializeForm };","//import \"@babel/polyfill\";\r\nimport \"custom-event-polyfill\";\r\n\r\n\r\nrequire('./common/js/EventgalleryTools.js');\r\n\r\nrequire('./frontend/js/EventgalleryCart.js');\r\nrequire('./frontend/js/EventgalleryBehavior.js');\r\nrequire('./frontend/js/EventgalleryImage.js');\r\nrequire('./frontend/js/EventgalleryRow.js');\r\nrequire('./frontend/js/EventgalleryImageList.js');\r\nrequire('./frontend/js/EventgalleryCart.js');\r\nrequire('./frontend/js/EventgalleryEventsList.js');\r\nrequire('./frontend/js/EventgalleryEventsTiles.js');\r\nrequire('./frontend/js/EventgalleryJSGallery2.js');\r\nrequire('./frontend/js/EventgalleryLazyload.js');\r\nrequire('./frontend/js/EventgallerySizeCalculator.js');\r\nrequire('./frontend/js/EventgallerySocialShareButton.js');\r\nrequire('./frontend/js/EventgallerySquareList.js');\r\nrequire('./frontend/js/EventgalleryTilesCollection.js');\r\nrequire('./frontend/js/EventgalleryTouch.js');\r\nrequire('./frontend/js/EventgalleryGooglePhotosProcessor.js');\r\n\r\nrequire('./frontend/js/Modules.js');\r\n\r\nrequire('./frontend/js/PhotoSwipeGallery.js');\r\nrequire('./frontend/js/PhotoSwipeGallerySlide.js');\r\n\r\nrequire('./frontend/less/eventgallery.less');\r\nrequire('./frontend/less/font-awesome/font-awesome.less');\r\n\r\nrequire(\"./photoswipe/photoswipe.css\");\r\nrequire(\"./photoswipe/default-skin/default-skin.css\");\r\n\r\n\r\n\r\n// Required Core Stylesheet\r\nimport \"@glidejs/glide/src/assets/sass/glide.core.scss\";\r\nimport \"./frontend/sass/glide/glide.theme.scss\";\r\n\r\n\r\n\r\n","import PhotoSwipeGallery from \"./PhotoSwipeGallery\";\r\nimport Overlay from \"./Overlay\";\r\nimport SliderStarter from \"./slider/SliderStarter\";\r\nimport Polyfill from \"./Polyfill\";\r\n\r\n(function(Eventgallery, jQuery){\r\n\t\"use strict\";\r\n    jQuery( document ).ready(function() {\r\n\r\n\t\t/*\r\n\t\t* GRID LIST OF EVENTS\r\n\t\t*/\r\n\r\n        jQuery('.eventgallery-events-gridlist').each(function(index, container){\r\n        \tvar $container = jQuery(container);\r\n\t    \tvar $thumbnails = $container.find('.event-thumbnails .event-thumbnail');\r\n\r\n\t        var options = {\r\n\t            rowHeightPercentage: 100,\r\n\t            imagesetContainer: $container.find('.event-thumbnails').first(),\r\n\t            imageset: $thumbnails,\r\n\t            lazyloader: null,\r\n\t            initComplete: function () {\r\n\t                var lazyLoadOptions = {container: container};\r\n                    options.eventgalleryLazyloader = new Eventgallery.Lazyload(lazyLoadOptions);\r\n\t            },\r\n\t            resizeStart: function () {\r\n\t                $container.find('.event-thumbnails .event-thumbnail img.eventgallery-lazyme').removeClass('eventgallery-lazyload-loaded').addClass('eventgallery-lazyload-loading');\r\n\t            },\r\n\t            resizeComplete: function () {\r\n\t                options.eventgalleryLazyloader.initialize();\r\n\t                jQuery(window).trigger('scroll');\r\n\t            }\r\n\t        };\r\n\r\n\t        // initialize the imagelist\r\n\r\n\t        if ($thumbnails.length>0) {\r\n\t        \tnew Eventgallery.EventsList(options);\r\n\t        }\r\n        });\r\n\r\n\r\n\t\t/*\r\n\t\t* TILE LIST OF EVENTS\r\n\t\t*/\r\n\r\n\t    jQuery('.eventgallery-events-tiles-list').each(function(index, container){\r\n\t    \tvar $container = jQuery(container);\r\n\r\n\t        var options = {\r\n\t            imagesetContainer: $container.find('.event-thumbnails').first(),\r\n\t            imageset: $container.find('.event-thumbnail'),\r\n\t            eventgalleryTilesCollection: null,\r\n\t            eventgalleryLazyloader: null,\r\n\t            initComplete: function () {\r\n\t                var lazyLoadOptions = {container: container};\r\n                    options.eventgalleryLazyloader = new Eventgallery.Lazyload(lazyLoadOptions);\r\n\r\n\t                var tilesOptions = {\r\n\t                    tiles: $container.find('.eventgallery-tiles .eventgallery-tile'),\r\n\t                    tilesContainer: $container.find('.eventgallery-tiles')\r\n\t                };\r\n\t                options.eventgalleryTilesCollection = new Eventgallery.TilesCollection(tilesOptions);\r\n\t                options.eventgalleryTilesCollection.calculate();\r\n\t                // we need to recalculate the whole thing because it might happen that a font loads\r\n\t                // and the size of a tile changes.\r\n\t                jQuery(window).load( function(){\r\n\t                    options.eventgalleryTilesCollection.calculate();\r\n\t                });\r\n\r\n\t            },\r\n\t            resizeStart: function () {\r\n\t                $container.find('.event-thumbnails .event-thumbnail img.eventgallery-lazyme').removeClass('eventgallery-lazyload-loaded').addClass('eventgallery-lazyload-loading');\r\n\t            },\r\n\t            resizeComplete: function () {\r\n\t                options.eventgalleryLazyloader.initialize();\r\n\t                options.eventgalleryTilesCollection.calculate();\r\n\t                jQuery(window).trigger('scroll');\r\n\t            }\r\n\t        };\r\n\r\n\t        // initialize the imagelist\r\n\t        new Eventgallery.EventsTiles(options);\r\n\r\n\t    });\r\n\r\n\t\t/*\r\n\t\t* TILES LIST OF IMAGES\r\n\t\t*/\r\n\r\n\t    jQuery('.eventgallery-event-tiles-list').each(function(index, container){\r\n\t    \tvar $container = jQuery(container);\r\n\t        var options = {\r\n\t            imagesetContainer: $container.find('.event-thumbnails').first(),\r\n\t            imageset: $container.find('.event-thumbnail'),\r\n\t            adjustMode: 'width',\r\n\t            eventgalleryLazyloader: null,\r\n\t            eventgalleryTilesCollection: null,\r\n\t            initComplete: function () {\r\n\t                var lazyLoadOptions = {container: container};\r\n\t                var tilesOptions = {\r\n\t                    tiles: $container.find('.eventgallery-tiles .eventgallery-tile'),\r\n\t                    tilesContainer: $container.find('.eventgallery-tiles')\r\n\t                };\r\n\r\n                    options.eventgalleryTilesCollection = new Eventgallery.TilesCollection(tilesOptions);\r\n                    options.eventgalleryTilesCollection.calculate();\r\n                    options.eventgalleryLazyloader = new Eventgallery.Lazyload(lazyLoadOptions);\r\n\r\n\t                // we need to recalculate the whole thing because it might happen that a font loads\r\n\t                // and the size of a tile changes.\r\n\t                jQuery(window).load( function(){\r\n\t                    options.eventgalleryTilesCollection.calculate();\r\n                        options.eventgalleryLazyloader = new Eventgallery.Lazyload(lazyLoadOptions);\r\n\t                });\r\n\r\n\t            },\r\n\t            resizeStart: function () {\r\n\t                $container.find('.event-thumbnails .event-thumbnail img.eventgallery-lazyme').removeClass('eventgallery-lazyload-loaded').addClass('eventgallery-lazyload-loading');\r\n\t            },\r\n\t            resizeComplete: function () {\r\n\t                options.eventgalleryLazyloader.initialize();\r\n\t                options.eventgalleryTilesCollection.calculate();\r\n\t                jQuery(window).trigger('scroll');\r\n\t            }\r\n\t        };\r\n\r\n\t        // initialize the imagelist\r\n\t        new Eventgallery.EventsTiles(options);\r\n    \t});\r\n\r\n\t\t/*\r\n\t\t* SIMPLE IMAGE LIST\r\n\t\t*/\r\n\t\tjQuery('.eventgallery-event-gridlist').each(function(index, container){\r\n\t\t\tvar $container = jQuery(container);\r\n\t\t\tvar options = {\r\n                imagesetContainer: $container.find('.event-thumbnails').first(),\r\n                imageset: $container.find('.event-thumbnail'),\r\n                adjustMode: 'height',\r\n            \teventgalleryLazyloader: null,\r\n                initComplete: function () {\r\n                \tvar lazyLoadOptions = {container: container};\r\n                    var gridOptions = {\r\n                        tiles: $container.find('.eventgallery-simplelist .eventgallery-simplelist-tile'),\r\n                        tilesContainer: $container.find('.eventgallery-simplelist'),\r\n                        thumbSelector: '.event-thumbnail',\r\n                        thumbContainerSelector: '.event-thumbnails'\r\n                    };\r\n\r\n                    options.eventgalleryLazyloader = new Eventgallery.Lazyload(lazyLoadOptions);\r\n                    // we need to recalculate the whole thing because it might happen that a font loads\r\n                    // and the size of a tile changes.\r\n                    jQuery(window).load( function(){\r\n\r\n                        options.eventgalleryLazyloader = new Eventgallery.Lazyload(lazyLoadOptions);\r\n                    });\r\n\r\n                },\r\n                resizeStart: function () {\r\n                    $container.find('.event-thumbnails .event-thumbnail img.eventgallery-lazyme').removeClass('eventgallery-lazyload-loaded').addClass('eventgallery-lazyload-loading');\r\n                },\r\n                resizeComplete: function () {\r\n                    options.eventgalleryLazyloader.initialize();\r\n                    jQuery(window).trigger('scroll');\r\n                }\r\n            };\r\n\r\n            // initialize the imagelist\r\n            new Eventgallery.EventsTiles(options);\r\n\t\t});\r\n\r\n\t\t/*\r\n\t\t* IMAGE LIST\r\n\t\t*/\r\n\r\n        jQuery('.eventgallery-imagelist').each(function(index, imagesetContainer){\r\n\t\t\tvar $imagesetContainer = jQuery(imagesetContainer);\r\n            var options = {\r\n                rowHeight: $imagesetContainer.data('rowheight'),\r\n                rowHeightJitter: $imagesetContainer.data('rowheightjitter'),\r\n                firstImageRowHeight: $imagesetContainer.data('firstimagerowheight'),\r\n                doFillLastRow: $imagesetContainer.data('dofilllastrow') === true,\r\n                imagesetContainer: imagesetContainer,\r\n                imageset: $imagesetContainer.find('.thumbnail'),\r\n                eventgalleryLazyloader: null,\r\n\r\n                initComplete: function () {\r\n                \tvar lazyLoadOptions = {container: imagesetContainer};\r\n                    options.eventgalleryLazyloader = new Eventgallery.Lazyload(lazyLoadOptions);\r\n                },\r\n                resizeStart: function () {\r\n                    $imagesetContainer.find('.thumbnail img.eventgallery-lazyme').removeClass('eventgallery-lazyload-loaded').addClass('eventgallery-lazyload-loading');\r\n                },\r\n                resizeComplete: function () {\r\n                    options.eventgalleryLazyloader.initialize();\r\n                    jQuery(window).trigger('scroll');\r\n                }\r\n            };\r\n\r\n            // initialize the imagelist\r\n            new Eventgallery.Imagelist(options);\r\n        });\r\n\r\n\t\t/*\r\n\t\t * SQUARE SIZED LIST OF IMAGES\r\n\t\t */\r\n\r\n\t\tjQuery('.eventgallery-event-square-list').each(function(index, container){\r\n\t\t\tvar $container = jQuery(container);\r\n\t\t\tvar options = {\r\n\t\t\t\timagesetContainer: $container.find('.event-thumbnails').first(),\r\n\t\t\t\timageset: $container.find('.event-thumbnail'),\r\n\t\t\t\tadjustMode: 'width',\r\n\t\t\t\teventgalleryLazyloader: null,\r\n\t\t\t\tinitComplete: function () {\r\n\t\t\t\t\tvar lazyLoadOptions = {container: container};\r\n\t\t\t\t\toptions.eventgalleryLazyloader = new Eventgallery.Lazyload(lazyLoadOptions);\r\n\r\n\t\t\t\t},\r\n\t\t\t\tresizeStart: function () {\r\n\t\t\t\t\t$container.find('.event-thumbnails .event-thumbnail img.eventgallery-lazyme').removeClass('eventgallery-lazyload-loaded').addClass('eventgallery-lazyload-loading');\r\n\t\t\t\t},\r\n\t\t\t\tresizeComplete: function () {\r\n\t\t\t\t\toptions.eventgalleryLazyloader.initialize();\r\n\t\t\t\t\tjQuery(window).trigger('scroll');\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\t// initialize the imagelist\r\n\t\t\tnew Eventgallery.SquareList(options);\r\n\t\t});\r\n\r\n\r\n\t\t/**\r\n\t\t * sets the radio button if one clicks in a table row.\r\n\t\t */\r\n\t\tjQuery('.eventgallery-imagetype-selection-row').click(function(e){\r\n\t\t\tvar $target = jQuery(e.target);\r\n\t\t\t$target.closest('tr').find('input').prop(\"checked\", true);\r\n\t\t});\r\n\r\n\t\tjQuery( document ).on('touchend click', '.eventgallery-cart-connector', function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\t\t\tvar link = jQuery(e.target);\r\n\r\n\t\t\tif (!link.attr('data-href')) {\r\n\t\t\t\tlink = link.parent('SPAN');\r\n\t\t\t}\r\n\r\n\t\t\twindow.location.href = link.attr('data-href');\r\n\t\t});\r\n\r\n        /**\r\n\t\t * Lightbox init\r\n         * @type {PhotoSwipeGallery}\r\n         */\r\n        Eventgallery.lightbox = new PhotoSwipeGallery();\r\n        Eventgallery.lightbox.initPhotoSwipe();\r\n\r\n        /**\r\n\t\t * Single Image Page\r\n         */\r\n        jQuery('.singleimage-zoom').click(function(e){\r\n            e.preventDefault();\r\n            jQuery('#bigimagelink').click();\r\n        });\r\n\r\n        /**\r\n\t\t * content overlay\r\n         */\r\n        jQuery('a[data-eventgallery-overlay]').each(function(item){\r\n        \tlet contentId = this.getAttribute('href');\r\n        \tjQuery(this).click(function(e){\r\n                let overlay = new Overlay();\r\n\r\n                overlay.openOverlay(document.getElementById(contentId.replace(\"#\",\"\")).innerHTML);\r\n            })\r\n        });\r\n\r\n        if (window.EventGalleryLightboxConfiguration && window.EventGalleryLightboxConfiguration.doPreventRightClick) {\r\n            jQuery(document).on(\"contextmenu\", 'a[data-eg-lightbox] img, img.pswp__img', function(){\r\n                return false;\r\n            });\r\n        }\r\n\r\n        let googlePhotosProcessor = new Eventgallery.GooglePhotosProcessor();\r\n        document.dispatchEvent(Polyfill.createNewEvent('eventgallery-images-added'));\r\n\r\n\r\n        let sliderElements = document.querySelectorAll('div[data-slider=\"1\"]');\r\n\r\n\r\n        for(let i=0; i<sliderElements.length; i++) {\r\n            let sliderStarter = new SliderStarter(sliderElements[i]);\r\n            let timer = null;\r\n            sliderStarter.start();\r\n\r\n            window.addEventListener(\"resize\", () => {\r\n            \tif (timer != null) {\r\n            \t\tclearTimeout(timer);\r\n\t\t\t\t}\r\n            \ttimer = setTimeout(() => sliderStarter.start(), 1000);\r\n            }, false);\r\n        }\r\n\r\n\r\n\r\n    }); //end domready\r\n})(Eventgallery, Eventgallery.jQuery);\r\n\r\n","import Overlay from \"./Overlay\";\r\nimport Polyfill from \"./Polyfill\";\r\n\r\n(function(Eventgallery, jQuery){\r\n\r\n\r\n    Eventgallery.Cart = function(newOptions) {\r\n        this.cart = [];\r\n        this.isMultiline = false;\r\n        this.options = {\r\n            buttonShowType: 'block',\r\n            emptyCartSelector: '.eventgallery-cart-empty',\r\n            cartSelector: '.eventgallery-ajaxcart',\r\n            cartItemContainerSelector: '.cart-items-container',\r\n            cartItemsSelector: '.eventgallery-ajaxcart .cart-items',\r\n            cartItemSelector: '.eventgallery-ajaxcart .cart-items .cart-item',\r\n            cartCountSelector: '.itemscount',\r\n            buttonDownSelector: '.toggle-down',\r\n            buttonUpSelector: '.toggle-up',\r\n            cartItemsMinHeight: null,\r\n            removeUrl: \"\",\r\n            add2cartUrl: \"\",\r\n            getCartUrl: \"\",\r\n            removeLinkTitle: \"Remove\"\r\n        };\r\n        this.options = Eventgallery.Tools.mergeObjects(this.options, newOptions);\r\n        this.initialize();\r\n    };\r\n\r\n    Eventgallery.Cart.prototype.slideUp = function() {\r\n        jQuery(this.options.cartItemContainerSelector).animate({height: this.options.cartItemsMinHeight});\r\n        jQuery(this.options.buttonUpSelector).css('display', 'none');\r\n        if (this.isMultiline) {\r\n            jQuery(this.options.buttonDownSelector).css('display', this.options.buttonShowType);\r\n        } else {\r\n            jQuery(this.options.buttonDownSelector).css('display', 'none');\r\n        }\r\n    };\r\n\r\n    Eventgallery.Cart.prototype.slideDown = function() {\r\n        jQuery(this.options.cartItemContainerSelector).animate({height: jQuery(this.options.cartItemsSelector).height()});\r\n        jQuery(this.options.buttonDownSelector).css('display', 'none');\r\n        jQuery(this.options.buttonUpSelector).css('display', this.options.buttonShowType);\r\n    };\r\n\r\n    Eventgallery.Cart.prototype.initialize = function() {\r\n\r\n        jQuery(this.options.buttonDownSelector).click(jQuery.proxy(function (event) {\r\n            event.preventDefault();\r\n            this.slideDown();\r\n        }, this));\r\n\r\n        jQuery(this.options.buttonUpSelector).click(jQuery.proxy(function (event) {\r\n            event.preventDefault();\r\n            this.slideUp();\r\n        }, this));\r\n\r\n        let $document = jQuery( document );\r\n\r\n        $document.off('change', '.eventgallery-cartquantity');\r\n        $document.on ('change', '.eventgallery-cartquantity', jQuery.proxy(this.updateQuantity, this));\r\n\r\n\r\n        $document.off('click', '.eventgallery-openAdd2cart');\r\n        $document.on ('click', '.eventgallery-openAdd2cart', jQuery.proxy(this.openOverlay, this));\r\n\r\n        $document.off('touchend click', '.eventgallery-opencart');\r\n        $document.on ('touchend click', '.eventgallery-opencart', jQuery.proxy(this.openCart, this));\r\n\r\n        $document.off('touchend click', '.eventgallery-qtyplus');\r\n        $document.on ('touchend click', '.eventgallery-qtyplus', jQuery.proxy(this.quantityPlus, this));\r\n\r\n        $document.off('touchend click', '.eventgallery-qtyminus');\r\n        $document.on ('touchend click', '.eventgallery-qtyminus', jQuery.proxy(this.quantityMinus, this));\r\n\r\n        $document.off('touchend click', '.eventgallery-removeFromCart');\r\n        $document.on ('touchend click', '.eventgallery-removeFromCart', jQuery.proxy(this.removeFromCart, this));\r\n\r\n        $document.on('updatecartlinks', jQuery.proxy(function (event) {\r\n            this.populateCart(true);\r\n        }, this));\r\n\r\n        $document.on('updatecart', jQuery.proxy(function (event, cart) {\r\n            this.cart = cart;\r\n            this.populateCart(false);\r\n        }, this));\r\n\r\n        this.updateCart();\r\n    };\r\n\r\n    Eventgallery.Cart.prototype.openOverlay = function(e) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        var link = jQuery(e.target);\r\n        if (!link.attr('data-id')) {\r\n            link = link.parent('[data-id]');\r\n        }\r\n\r\n        let overlay = new Overlay();\r\n        overlay.openOverlay(EventGalleryCartConfiguration.add2carturl + '&' + link.attr('data-id'));\r\n\r\n        return false;\r\n    };\r\n\r\n    Eventgallery.Cart.prototype.openCart = function(e) {\r\n        let $button;\r\n        if (e.target.tagName !== 'BUTTON') {\r\n            $button = jQuery(e.target).parent('button');\r\n        } else {\r\n            $button = jQuery(e.target);\r\n        }\r\n        e.preventDefault();\r\n        window.location.href = $button.attr('data-href');\r\n    };\r\n\r\n    Eventgallery.Cart.prototype.updateCartItemContainer = function () {\r\n\r\n        // detect multiple rows\r\n\r\n        this.isMultiline = false;\r\n        var y = -1;\r\n        var currentObject =  this;\r\n\r\n        jQuery(this.options.cartItemSelector).each(function () {\r\n            var posY = jQuery(this).position().top;\r\n            if (y < 0) {\r\n                y = posY;\r\n            } else if (y != posY) {\r\n                currentObject.isMultiline = true;\r\n            }\r\n        });\r\n\r\n        if (this.isMultiline) {\r\n            // prevent showing the wrong button. Basically this is an inital action if a second row is created.\r\n            var down = jQuery(this.options.buttonDownSelector);\r\n            var up = jQuery(this.options.buttonUpSelector);\r\n\r\n            if (down.css('display') == 'none' && up.css('display') == 'none') {\r\n                down.css('display', this.options.buttonShowType);\r\n            } else {\r\n                // update if a third or more row is created\r\n                if (up.css('display') != 'none') {\r\n                    // timeout to avoid any size issues because of a slow browser\r\n                    setTimeout(jQuery.proxy(function() {\r\n                        this.slideDown();\r\n                    }, this), 1000);\r\n                }\r\n            }\r\n        } else {\r\n            this.slideUp();\r\n        }\r\n    };\r\n\r\n    Eventgallery.Cart.prototype.populateCart = function (linksOnly) {\r\n\r\n        if (this.cart.length === 0) {\r\n            jQuery(this.options.cartSelector).slideUp();\r\n            jQuery(this.options.emptyCartSelector).slideDown();\r\n        } else {\r\n            jQuery(this.options.cartSelector).slideDown();\r\n            jQuery(this.options.emptyCartSelector).slideUp();\r\n        }\r\n        // define where all the cart html items are located\r\n\r\n        var cartHTML = jQuery(this.options.cartItemsSelector);\r\n        if (cartHTML === null) {\r\n            return;\r\n        }\r\n        // clear the html showing the current cart\r\n        if (!linksOnly) {\r\n            cartHTML.html(\"\");\r\n        }\r\n\r\n        // reset cart button icons\r\n        jQuery('.eventgallery-add2cart i.egfa').addClass('egfa-cart-plus').removeClass('egfa-shopping-cart');\r\n\r\n\r\n        for (var i = this.cart.length - 1; i >= 0; i--) {\r\n            //create the id. It's always folder=foo&file=bar\r\n            var id = 'folder=' + encodeURIComponent(this.cart[i].folder) + '&file=' + encodeURIComponent(this.cart[i].file);\r\n            //add the item to the cart. Currently we simple refresh the whole cart.\r\n            if (!linksOnly) {\r\n                cartHTML.html(cartHTML.html() +\r\n                    '<div class=\"cart-item\"><span class=\"badge\">'+this.cart[i].count+'</span>' +\r\n                    this.cart[i].imagetag +\r\n                    '<a href=\"#\" title=\"' + this.options.removeLinkTitle + '\" class=\"button-removeFromCart eventgallery-removeFromCart\" data-id=\"lineitemid=' + this.cart[i].lineitemid + '\">'+\r\n                    '<i class=\"egfa egfa-2x egfa-remove\"></i>' +\r\n                    '</a></div>');\r\n            }\r\n            // mark the add2cart link to show the item is already in the cart\r\n            jQuery('.eventgallery-add2cart[data-id*=\\'' + id + '\\'] i.egfa').addClass('egfa-shopping-cart').removeClass('egfa-cart-plus');\r\n        }\r\n\r\n        if (!linksOnly) {\r\n            cartHTML.html(cartHTML.html() + '<div style=\"clear:both\"></div>');\r\n            if (null === this.options.cartItemsMinHeight) {\r\n                this.options.cartItemsMinHeight = jQuery(this.options.cartItemContainerSelector).height();\r\n            }\r\n            this.updateCartItemContainer();\r\n        }\r\n\r\n        jQuery('.itemscount').html(this.cart.length);\r\n\r\n        if (Eventgallery !== undefined && Eventgallery.lightbox !== undefined) {\r\n            Eventgallery.lightbox.reload();\r\n        }\r\n\r\n        // tigger the loading of Google Photos images for example.\r\n        document.dispatchEvent(Polyfill.createNewEvent('eventgallery-images-added'));\r\n    };\r\n\r\n    Eventgallery.Cart.prototype.updateCart = function () {\r\n        jQuery.getJSON(\r\n            this.options.getCartUrl,\r\n            {json: 'yes'},\r\n            function (data) {\r\n                if (data !== undefined) {\r\n                    jQuery(document).trigger( 'updatecart', [data] );\r\n                }\r\n            }\r\n        );\r\n    };\r\n\r\n    Eventgallery.Cart.prototype.removeFromCart = function (event) {\r\n        return this.doRequest(event, this.options.removeUrl);\r\n    };\r\n\r\n    Eventgallery.Cart.prototype.updateQuantity = function (event) {\r\n\r\n        var $inputFild = jQuery(event.target),\r\n            imagetypeid = $inputFild.data('imagetypeid'),\r\n            quantity = parseInt($inputFild.val()),\r\n            data = $inputFild.data('id');\r\n\r\n        event.preventDefault();\r\n        data = data + '&quantity=' + quantity;\r\n        return this.doRequest(event, this.options.add2cartUrl, data);\r\n\r\n    };\r\n\r\n    Eventgallery.Cart.prototype.quantityPlus = function(e) {\r\n        e.preventDefault();\r\n\r\n        var fieldName = jQuery(e.target).attr('field'),\r\n            inputField = jQuery('input[name='+fieldName+']'),\r\n            currentVal = parseInt(inputField.val());\r\n\r\n        if (!isNaN(currentVal)) {\r\n            var maxOrderQuantity = inputField.data('maxorderquantity');\r\n            if (maxOrderQuantity === 0 || inputField.val()<maxOrderQuantity) {\r\n                inputField.val(currentVal + 1);\r\n            }\r\n            inputField.change();\r\n        } else {\r\n            inputField.val(0);\r\n        }\r\n    };\r\n\r\n    Eventgallery.Cart.prototype.quantityMinus = function(e) {\r\n        e.preventDefault();\r\n\r\n        var fieldName = jQuery(e.target).attr('field'),\r\n            inputField = jQuery('input[name='+fieldName+']'),\r\n            currentVal = parseInt(inputField.val());\r\n\r\n        if (!isNaN(currentVal) && currentVal > 0) {\r\n            inputField.val(currentVal - 1).change();\r\n        } else {\r\n            inputField.val(0);\r\n        }\r\n    };\r\n\r\n    Eventgallery.Cart.prototype.doRequest = function (event, url, data) {\r\n\r\n        event.preventDefault();\r\n\r\n        var linkElement = jQuery(event.target);\r\n\r\n        if (!linkElement.attr('data-id')) {\r\n            linkElement = linkElement.parent('[data-id]');\r\n        }\r\n\r\n        var iconElement = linkElement.children('i');\r\n        if (data === undefined) {\r\n            data = linkElement.attr('data-id');\r\n        }\r\n\r\n        iconElement.removeClass(\"egfa-cart-plus\").removeClass(\"egfa-shopping-cart\").addClass('egfa-spin egfa-gear');\r\n\r\n        jQuery.getJSON(\r\n            url,\r\n            data,\r\n            function (data) {\r\n\r\n                if (data !== undefined) {\r\n                    jQuery(document).trigger( 'updatecart', [data] );\r\n                }\r\n\r\n                iconElement.removeClass('egfa-spin').removeClass('egfa-gear').addClass('');\r\n\r\n            }\r\n        );\r\n\r\n        return true;\r\n    };\r\n\r\n})(Eventgallery, Eventgallery.jQuery);\r\n\r\n","(function(Eventgallery, jQuery){\r\n\r\nEventgallery.EventsList = function(newOptions) {\r\n    Eventgallery.Imagelist.call(this, newOptions);\r\n};\r\n\r\nEventgallery.EventsList.prototype = new Eventgallery.Imagelist();\r\nEventgallery.EventsList.prototype.constructor = Eventgallery.EventsList;\r\n\r\n\r\nEventgallery.EventsList.prototype.processList = function() {\r\n    /* processes the image list*/    \r\n    var width = this.width;\r\n    var currentObject = this;\r\n    jQuery.each(this.images, function () {\r\n        var height = Math.ceil(width * currentObject.options.rowHeightPercentage / 100);\r\n        this.setSize(width, height);\r\n    });\r\n};\r\n\r\n})(Eventgallery, Eventgallery.jQuery);\r\n","(function(Eventgallery, jQuery){\r\n\r\n/* processes a list of images and tries to resize separately*/\r\nEventgallery.EventsTiles = function(newOptions) {\r\n    Eventgallery.Imagelist.call(this, newOptions);\r\n};\r\n\r\nEventgallery.EventsTiles.prototype = new Eventgallery.Imagelist();\r\nEventgallery.EventsTiles.prototype.constructor = Eventgallery.EventsTiles;\r\n\r\nEventgallery.EventsTiles.prototype.processList = function() {\r\n    var width = this.width;\r\n    var currentObject = this;\r\n      \t \r\n    jQuery.each(this.images, function () {\r\n        var newHeight = Math.round(this.height / this.width * width);\r\n        var newWidth = width;\r\n        if (currentObject.options.adjustMode == \"height\" && this.height>this.width) {\r\n            newHeight = width;\r\n            newWidth = Math.round(this.width / this.height * newHeight);\r\n        }\r\n\r\n        this.setSize(newWidth, newHeight);\r\n        \r\n    });\r\n};\r\n\r\n})(Eventgallery, Eventgallery.jQuery);\r\n\r\n","import URLHelper from \"./URLHelper\";\r\n\r\n(function(Eventgallery){\r\n\r\n    const LOADING_MATCHER = 'gp.svg';\r\n    const MARKER_IMAGE_IS_IN_PROGRESS_ATTRIBUTE = 'data-eg-gp-processing';\r\n\r\nEventgallery.GooglePhotosProcessor = class {\r\n\r\n\r\n\r\n    constructor() {\r\n\r\n        this.albumUrl = \"\";\r\n        this.albumsUrl = \"\";\r\n\r\n        // noinspection JSUnresolvedVariable\r\n        if (window.EventGalleryGooglePhotosConfiguration) {\r\n            this.albumUrl = window.EventGalleryGooglePhotosConfiguration.albumUrl;\r\n            this.albumsUrl = window.EventGalleryGooglePhotosConfiguration.albumsUrl;\r\n        }\r\n\r\n        document.addEventListener(\"eventgallery-images-added\", () => this.processImages());\r\n\r\n    };\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    processImages() {\r\n\r\n        let albums = this._groupByAlbum(this._collectHTMLElements());\r\n        this._markImagesAsInProgress(albums);\r\n        this._getMainImageDataFromServer(albums);\r\n\r\n    }\r\n\r\n    // noinspection JSMethodCanBeStatic\r\n    /**\r\n     * Grabs IMG tag items from the DOM for Google Photos image placeholder.\r\n     *\r\n     * @returns <Element>[]\r\n     * @private\r\n     */\r\n     _collectHTMLElements() {\r\n        let htmlCollection = document.getElementsByTagName('IMG');\r\n\r\n        let foundImageHTMLElements = /** @type {HTMLElement} */[...htmlCollection];\r\n\r\n        let result = foundImageHTMLElements.filter(img => {\r\n            let backgroundImage = img.style.backgroundImage;\r\n            let longDesc = img.getAttribute('longdesc');\r\n            let src = img.src;\r\n\r\n            if (img.getAttribute(MARKER_IMAGE_IS_IN_PROGRESS_ATTRIBUTE) === '1') {\r\n                return false;\r\n            }\r\n\r\n            return (backgroundImage && backgroundImage.indexOf(LOADING_MATCHER)>0)\r\n                || (longDesc && longDesc.indexOf(LOADING_MATCHER)>0)\r\n                || (src && src.indexOf(LOADING_MATCHER)>0);\r\n        });\r\n\r\n        htmlCollection = document.getElementsByTagName('A');\r\n        let foundLinkHTMLElements = /** @type {HTMLElement} */[...htmlCollection];\r\n        result = result.concat(foundLinkHTMLElements.filter(a => {\r\n            let longDesc = a.getAttribute('longdesc');\r\n            let rel = a.getAttribute('rel');\r\n            let href = a.getAttribute('href');\r\n\r\n            if (a.getAttribute(MARKER_IMAGE_IS_IN_PROGRESS_ATTRIBUTE) === '1') {\r\n                return false;\r\n            }\r\n            return (href && href.indexOf(LOADING_MATCHER)>0)\r\n                || (longDesc && longDesc.indexOf(LOADING_MATCHER)>0)\r\n                || (rel && rel.indexOf(LOADING_MATCHER)>0);\r\n        }));\r\n\r\n        return result;\r\n\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param albums {Map<any, any>}\r\n     * @private\r\n     */\r\n    _markImagesAsInProgress(albums) {\r\n        for (let [foldername, album] of albums) {\r\n            /**\r\n             * @var ParsedHTMLElement parsedHTMLElement\r\n             */\r\n            album.forEach(parsedHTMLElement => {\r\n              parsedHTMLElement.getHTMLElement().setAttribute(MARKER_IMAGE_IS_IN_PROGRESS_ATTRIBUTE, 1);\r\n            })\r\n        }\r\n    }\r\n\r\n    /**\r\n     * sorts all found images into a map: key=folder, value=array of\r\n     *\r\n     * @param htmlElements\r\n     * @returns {Map<any, any>}\r\n     * @private\r\n     */\r\n    _groupByAlbum(htmlElements) {\r\n        let albums = new Map();\r\n        htmlElements.forEach((imageHTMLElement) => {\r\n           let parsedHTMLElement = this._parseHTMLElement(imageHTMLElement);\r\n            parsedHTMLElement.updateParameters();\r\n           let folder = parsedHTMLElement.parameters.get('folder');\r\n\r\n           if (!albums.get(folder)) {\r\n             albums.set(folder, []);\r\n           }\r\n\r\n           albums.get(folder).push(parsedHTMLElement);\r\n        });\r\n\r\n        return albums;\r\n    }\r\n\r\n    // noinspection JSMethodCanBeStatic\r\n    /**\r\n     *\r\n     * @param htmlElement\r\n     * @returns {ParsedHTMLElement}\r\n     * @private\r\n     */\r\n    _parseHTMLElement(htmlElement) {\r\n        if (htmlElement.tagName === 'IMG') {\r\n            return new ParsedImageHTMLElement(htmlElement);\r\n        }\r\n        return new ParsedLinkHTMLElement(htmlElement);\r\n    }\r\n\r\n\r\n    /**\r\n     * starts several requests to the server to determine\r\n     *\r\n     * @param albums\r\n     * @private\r\n     */\r\n    _getAlbumDataFromServer(albums) {\r\n        for (let [foldername, album] of albums) {\r\n            this._doAlbumRequest(foldername, album);\r\n        }\r\n    }\r\n\r\n    _doAlbumRequest(foldername, album) {\r\n        fetch(this.albumUrl + '&folder=' + foldername)\r\n            .then(response => response.json())\r\n            .then(data => this._processAlbumResult(album, data));\r\n    }\r\n\r\n    _processAlbumResult(album, data) {\r\n        this._replaceImages(album, data);\r\n    }\r\n\r\n    _getMainImageDataFromServer(albums) {\r\n        let albumsWithMainImagesOnly = this._filterForAlbumsWithMainImageOnly(albums);\r\n\r\n        if (albumsWithMainImagesOnly.size > 0) {\r\n            this._doAlbumsRequest(albumsWithMainImagesOnly, albums);\r\n            for (let [foldername, album] of albumsWithMainImagesOnly) {\r\n                albums.delete(foldername);\r\n            }\r\n        }\r\n\r\n        this._getAlbumDataFromServer(albums);\r\n    }\r\n\r\n    _doAlbumsRequest(albumsWithMainImagesOnly, albums) {\r\n        fetch(this.albumsUrl)\r\n            .then(response => response.json())\r\n            .then(data => this._processAlbumsResult(albumsWithMainImagesOnly, albums, data));\r\n    }\r\n\r\n    _processAlbumsResult(albumsWithMainImagesOnly, albums, data) {\r\n        for (let [key, album] of albumsWithMainImagesOnly) {\r\n            this._replaceImages(album, data[key]);\r\n        }\r\n        this._getAlbumDataFromServer(albums);\r\n    }\r\n\r\n    // noinspection JSMethodCanBeStatic\r\n    _filterForAlbumsWithMainImageOnly(albums) {\r\n        let newAlbums = new Map();\r\n        for(let [key, album] of albums) {\r\n            let mainImages = album.filter(image => image.isMainImage());\r\n\r\n            if (mainImages.length> 0 && mainImages.length === album.length) {\r\n                newAlbums.set(key, album);\r\n            }\r\n        }\r\n        return newAlbums;\r\n    }\r\n\r\n    _replaceImages(album, serverResult) {\r\n        if (album === undefined || serverResult === undefined) {\r\n            return;\r\n        }\r\n\r\n        album.forEach(parsedImageHTMLElement => {\r\n            let imageUrl = serverResult[parsedImageHTMLElement.getFile()];\r\n            if (imageUrl === undefined) {\r\n                return false;\r\n            }\r\n\r\n            parsedImageHTMLElement.updateParameters();\r\n            parsedImageHTMLElement.replaceElementLinks(imageUrl);\r\n            parsedImageHTMLElement.getHTMLElement().setAttribute(MARKER_IMAGE_IS_IN_PROGRESS_ATTRIBUTE, 0);\r\n\r\n        });\r\n\r\n        if (Eventgallery.lightbox) {\r\n            if (Eventgallery.lightbox.isOpen()) {\r\n                let link = Eventgallery.lightbox.getCurrentSlide().thumbnailContainer;\r\n                Eventgallery.lightbox._gallery.close();\r\n                setTimeout(()=>link.click(),500);\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nclass ParsedHTMLElement {\r\n    constructor(htmlElement) {\r\n        this.htmlElement = htmlElement;\r\n        this.parameters = null;\r\n        this.attributeNames = new Set();\r\n        this.styleAttributeNames = new Set();\r\n    }\r\n\r\n    updateParametersWithUrl(url) {\r\n        let parameterString = url.substring(url.indexOf('#')+1);\r\n        this.parameters = URLHelper.parseURLParameter(parameterString);\r\n    }\r\n\r\n    updateParameters() {\r\n        for(let n of this.attributeNames) {\r\n            let url = this.getHTMLElement().getAttribute(n);\r\n            if (url && url.indexOf(LOADING_MATCHER)>0) {\r\n                this.updateParametersWithUrl(url);\r\n                return;\r\n            }\r\n        }\r\n\r\n        for(let n of this.styleAttributeNames) {\r\n            let url = URLHelper.extractBackgroudUrl(this.getHTMLElement().style[n]);\r\n            if (url && url.indexOf(LOADING_MATCHER)>0) {\r\n                this.updateParametersWithUrl(url);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    replaceElementLinks(imageUrl) {\r\n\r\n        for(let n of this.attributeNames) {\r\n            let url = this.getHTMLElement().getAttribute(n);\r\n            if (url && url.indexOf(LOADING_MATCHER)>0) {\r\n                this.getHTMLElement().setAttribute(n, this.getImageUrl(imageUrl, this.getWidth(url)));\r\n            }\r\n        }\r\n\r\n        for(let n of this.styleAttributeNames) {\r\n            let url = URLHelper.extractBackgroudUrl(this.getHTMLElement().style[n]);\r\n            if (url && url.indexOf(LOADING_MATCHER)>0) {\r\n                this.getHTMLElement().style[n] = 'url(' + this.getImageUrl(imageUrl, this.getWidth(url)) + ')';\r\n            }\r\n        }\r\n    }\r\n\r\n    getHTMLElement() {\r\n        return this.htmlElement;\r\n    }\r\n\r\n    getFolder() {\r\n        return this.parameters.get('folder');\r\n    }\r\n\r\n    getFile() {\r\n        return this.parameters.get('file');\r\n    }\r\n\r\n\r\n    getWidth(url) {\r\n        return URLHelper.parseURLParameter(url).get('width');\r\n    }\r\n\r\n    getImageUrl(imageUrl, width) {\r\n        return imageUrl + '=w' + width;\r\n    }\r\n\r\n    isMainImage() {\r\n        return this.parameters.get('m') === '1';\r\n    }\r\n}\r\n\r\nclass ParsedLinkHTMLElement extends ParsedHTMLElement {\r\n\r\n    constructor(htmlElement) {\r\n        super(htmlElement);\r\n        this.attributeNames = new Set(['href', 'longDesc', 'rel']);\r\n    }\r\n\r\n}\r\n\r\nclass ParsedImageHTMLElement extends ParsedHTMLElement{\r\n\r\n    constructor(htmlElement) {\r\n        super(htmlElement);\r\n        this.attributeNames = new Set(['src', 'longDesc']);\r\n        this.styleAttributeNames = new Set(['backgroundImage']);\r\n    }\r\n}\r\n\r\n\r\n})(Eventgallery);\r\n","(function(Eventgallery, jQuery){\r\n\r\n    /*\r\n     Class to manage an image. This can be the img tag or a container. It has to manage glue itself.\r\n     */\r\n    Eventgallery.Image = function(image, index, newOptions) {\r\n\r\n        this.options = Eventgallery.Tools.mergeObjects(this.options, newOptions);\r\n        this.tag = jQuery(image);\r\n        this.index = index;\r\n        this.calculatedWidth = 0;\r\n        this.calcSize();\r\n    };\r\n\r\n    Eventgallery.Image.prototype.calcSize = function () {\r\n        // glue includes everything but the image width/heigt: margin, padding, border\r\n        var image = this.tag.find('img').first();\r\n\r\n        if (image.length === 0) {\r\n            return;\r\n        }\r\n\r\n        var elements = [this.tag, image];\r\n\r\n        this.glueLeft = Eventgallery.Tools.calcBorderWidth(elements, ['padding-left', 'margin-left', 'border-left-width']);\r\n        this.glueRight = Eventgallery.Tools.calcBorderWidth(elements, ['padding-right', 'margin-right', 'border-right-width']);\r\n        this.glueTop = Eventgallery.Tools.calcBorderWidth(elements, ['padding-top', 'margin-top', 'border-top-width']);\r\n        this.glueBottom = Eventgallery.Tools.calcBorderWidth(elements, ['padding-bottom', 'margin-bottom', 'border-bottom-width']);\r\n\r\n        // get image size from data- attributes\r\n\r\n        this.width = image.data(\"width\");\r\n        this.height = image.data(\"height\");\r\n\r\n\r\n        // fallback of data- attributes are not there\r\n        if (this.width === undefined) {\r\n            this.width = this.tag.width() - this.glueLeft - this.glueRight;\r\n        }\r\n\r\n        if (this.height === undefined) {\r\n            this.height = this.tag.height() - this.glueTop - this.glueBottom;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * calculates the height of that image container. This includes the image and the gap on top/bottom\r\n     *\r\n     * @returns float\r\n     */\r\n    Eventgallery.Image.prototype.getImageTagHeight = function() {\r\n        return parseFloat(window.getComputedStyle(this.tag[0]).height) + this.glueTop + this.glueBottom;\r\n    };\r\n\r\n    Eventgallery.Image.prototype.setSize = function (width, height) {\r\n\r\n        var isFlickr = false;\r\n        var newWidth = width - this.glueLeft - this.glueRight;\r\n        var newHeight = height - this.glueTop - this.glueBottom;\r\n\r\n\r\n        var ratio = this.width / this.height;\r\n\r\n        //console.log(\"the size of the image should be: \"+width+\"x\"+height+\" so I have to set it to: \"+newWidth+\"x\"+newHeight);\r\n        //adjust background images\r\n        var image = this.tag.find('img');\r\n        if (image.length === 0) {\r\n            return;\r\n        }\r\n\r\n        var sizeCalculator = new Eventgallery.SizeCalculator();\r\n\r\n        // set a new background image\r\n        var backgroundImageStyle = image.css('background-image');\r\n        var longDesc = image.attr('longDesc');\r\n        if (!longDesc) {\r\n            longDesc = \"\";\r\n        }\r\n\r\n        var secret = image.data('secret');\r\n\r\n        if (secret !== undefined) {\r\n            var secret_o = image.data('secret_o'),\r\n                secret_h = image.data('secret_h'),\r\n                secret_k = image.data('secret_k'),\r\n                farm = image.data('farm'),\r\n                server = image.data('server'),\r\n                id = image.data('id');\r\n            var imageUrl = sizeCalculator.getFlickrURL(farm,  server, secret, secret_h, secret_k, secret_o, id, newWidth, newHeight, this.width, this.height);\r\n            backgroundImageStyle = \"url('\" + imageUrl + \"')\";\r\n            longDesc = imageUrl;\r\n\r\n            isFlickr = true;\r\n\r\n        } else {\r\n\r\n            var googleWidth = sizeCalculator.getSize(newWidth, newHeight, ratio);\r\n\r\n            backgroundImageStyle = sizeCalculator.adjustImageURL(backgroundImageStyle, googleWidth);\r\n            longDesc = sizeCalculator.adjustImageURL(longDesc, googleWidth);\r\n        }\r\n\r\n        image.css('background-image', backgroundImageStyle);\r\n        image.attr('longDesc', longDesc);\r\n        image.css('display', 'block');\r\n        image.css('margin', 'auto');\r\n\r\n        // IE8 fix: check the width/height first\r\n        if (newWidth>0) {\r\n            image.css('width', newWidth);\r\n        }\r\n        if (newHeight>0) {\r\n            image.css('height', newHeight);\r\n        }\r\n\r\n    };\r\n\r\n})(Eventgallery, Eventgallery.jQuery);","(function(Eventgallery, jQuery){\r\n\r\nEventgallery.Imagelist = function(newOptions) {\r\n\r\n    this.options = {\r\n        rowHeightPercentage: 100,\r\n        rowHeight: 150,\r\n        rowHeightJitter: 0,\r\n        minImageWidth: 150,\r\n        // resize the last image to full width\r\n        doFillLastRow: false,\r\n        // the object where we try to get the width from\r\n        imagesetContainer: null,\r\n\t\t// the object containing all the images elements. Usually they are retieved with a selector like '.imagelist a',\r\n        imageset: null,\r\n        firstImageRowHeight: 2,\r\n        initComplete: function () {\r\n        },\r\n        resizeStart: function () {\r\n        },\r\n        resizeComplete: function () {\r\n        }\r\n    };\r\n\tthis.images = [];\r\n\t// used to compare for width changes\r\n\tthis.eventgalleryPageWidth = 0;\r\n\t// the width of the container. This is kind of tricky since there can be many containers or just one.\r\n\tthis.width = null;\r\n    this.options = Eventgallery.Tools.mergeObjects(this.options, newOptions);\r\n    if (undefined !== newOptions) {\r\n        this.initialize();\r\n    }\r\n};\r\n\r\nEventgallery.Imagelist.prototype.initialize = function () {\r\n    var currentObject = this;\r\n    this.width = jQuery(this.options.imagesetContainer).width();\r\n\r\n    // save the current width so we don't react on an resize event if not necessary\r\n    this.eventgalleryPageWidth = this.width;\r\n\r\n    var images_tags = this.options.imageset;\r\n    this.images = [];\r\n\r\n    jQuery.each(images_tags, function (index, item) {\r\n        currentObject.images.push(new Eventgallery.Image(item, index));\r\n    });\r\n\r\n    jQuery(window).resize( jQuery.proxy(function () {\r\n        window.clearTimeout(this.eventgalleryTimer);\r\n\r\n        this.eventgalleryTimer = setTimeout(() => {\r\n            let new_width = jQuery(this.options.imagesetContainer).width();\r\n            this.width = new_width;\r\n            if (this.eventgalleryPageWidth !== new_width) {\r\n                this.options.resizeStart();\r\n                this.eventgalleryPageWidth = new_width;\r\n\r\n                jQuery(this.options.imagesetContainer).css('min-height', this.options.rowHeight*this.images.length);\r\n\r\n                this.processList();\r\n\r\n                jQuery(this.options.imagesetContainer).css('min-height','0px');\r\n\r\n                this.options.resizeComplete();\r\n            }\r\n        }, 500);\r\n\r\n    }, this) );\r\n\r\n\tjQuery(this.options.imagesetContainer).css('min-height', this.options.rowHeight*this.images.length);\r\n\r\n    this.processList();\r\n\r\n\tjQuery(this.options.imagesetContainer).css('min-height','0px');\r\n\r\n    //add a tiny timeout. This prevents some issue with lazyload\r\n\t//where images didn't load since the offset was wrong.\r\n    window.setTimeout(this.options.initComplete, 1);\r\n};\r\n\r\n/*calculated the with of an element*/\r\nEventgallery.Imagelist.prototype.getRowWidth = function () {\r\n    var rowWidth = this.width;\r\n\r\n    /* fix for the internet explorer if width if 45.666% == 699.87px*/\r\n    if (window.getComputedStyle) {\r\n        rowWidth = Math.floor(parseFloat(window.getComputedStyle(this.options.imagesetContainer).width) ) - 1;\r\n    } else {\r\n        rowWidth = rowWidth - 1;\r\n    }\r\n\r\n    return rowWidth;\r\n};\r\n\r\n/* processes the image list*/\r\nEventgallery.Imagelist.prototype.processList = function () {\r\n\r\n\tvar options;\r\n\r\n    /* find out how much space we have*/\r\n    var rowWidth = this.getRowWidth();\r\n\r\n\r\n    /* get a copy of the image list because we will pop the image during iteration*/\r\n    var imagesToProcess = this.images.slice(0);\r\n\r\n    if (imagesToProcess.length === 0) {\r\n        return;\r\n    }\r\n\r\n    /* display the first image larger */\r\n    if (this.options.firstImageRowHeight > 1) {\r\n        var image = imagesToProcess.shift();\r\n\r\n        /*if we have a large image, we have to hide it to get the real available space*/\r\n        image.tag.css('display', 'none');\r\n        rowWidth = this.getRowWidth();\r\n        image.tag.css('display', 'block');\r\n\r\n        var imageHeight = this.options.firstImageRowHeight * this.options.rowHeight;\r\n        var imageWidth = Math.floor(image.width / image.height * imageHeight);\r\n\r\n        if (imageWidth + this.options.minImageWidth >= rowWidth) {\r\n            imageWidth = rowWidth;\r\n        }\r\n\r\n        image.setSize(imageWidth, imageHeight);\r\n\r\n        let rowHeightForRightSideImages = this.options.rowHeight;\r\n\r\n        // in case the browser zooms to 110%, we need to make sure, the first image is smaller thand\r\n        // the images to the right. We do this by checking if there is a height difference between the\r\n        // height we want to get and the actual height. If there is one, we add a pixel to the rows\r\n        // on the right side.\r\n        if (imageHeight > image.getImageTagHeight()) {\r\n            rowHeightForRightSideImages = (imageHeight + 1) / this.options.firstImageRowHeight;\r\n        }\r\n\r\n        options = {\r\n            maxWidth: rowWidth - imageWidth,\r\n            maxHeight: rowHeightForRightSideImages,\r\n            adjustHeight: false\r\n        };\r\n\r\n        if (options.maxWidth > 0) {\r\n            this.generateRows(imagesToProcess, this.options.firstImageRowHeight, options, false);\r\n        }\r\n    }\r\n\r\n    options = {\r\n        maxWidth: rowWidth,\r\n        maxHeight: this.options.rowHeight,\r\n        heightJitter: this.options.rowHeightJitter,\r\n        doFillLastRow: this.options.doFillLastRow\r\n    };\r\n\r\n    this.generateRows(imagesToProcess, 99999, options, true);\r\n\r\n};\r\n\r\n    /**\r\n     * @param imagesToProcess\r\n     * @param numberOfRowsToCreate\r\n     * @param options\r\n     * @param finalRows\r\n     */\r\nEventgallery.Imagelist.prototype.generateRows = function (imagesToProcess, numberOfRowsToCreate, options, finalRows) {\r\n\tvar currentRow = new Eventgallery.Row(options);\r\n\r\n    while (imagesToProcess.length > 0 && numberOfRowsToCreate > 0) {\r\n        var addSuccessfull = currentRow.add(imagesToProcess[0]);\r\n        if (addSuccessfull) {\r\n            imagesToProcess.shift();\r\n        } else {\r\n            currentRow.processRow();\r\n            numberOfRowsToCreate--;\r\n            if (numberOfRowsToCreate === 0) break;\r\n            currentRow = new Eventgallery.Row(options);\r\n        }\r\n    }\r\n\r\n\tif (finalRows) {currentRow.isLastRow = true;}\r\n    currentRow.processRow();\r\n};\r\n\r\n})(Eventgallery, Eventgallery.jQuery);\r\n","import PhotoSwipe from \"../../photoswipe/photoswipe\";\r\nimport PhotoSwipeUIDefault from \"../../photoswipe/photoswipe-ui-default\";\r\n\r\n(function(Eventgallery, jQuery){\r\n    /*\r\n     *    Constructor. Starts up the whole thing :-)\r\n     *\r\n     *    This script is free to use. It has been created by http://www.aplusmedia.de and\r\n     *    can be downloaded on http://www.esteak.net.\r\n     *    License: GNU GPL 2.0: http://creativecommons.org/licenses/GPL/2.0/\r\n     *    Example on: http://blog.aplusmedia.de/moo-gallery2\r\n     *    Known issues:\r\n     *    - preloading does not care about initialIndex param\r\n     *    - hovering to a control over the border of the big image will make the other one flickering\r\n     *    - if you enter and leave the control area very quickly, the control flickers sometimes\r\n     *    - does not work in IE6\r\n     *\r\n     *    @param {Array} thumbs, An array of HTML elements\r\n     *    @param {HTMLelement} bigImageContainer, the full size image\r\n     *    @param {HTMLelement} pageContainer, If you have several pages, put them in this container\r\n     *    @param {Object} options, You have to pass imagesPerPage if you have more than one!\r\n     */\r\n    Eventgallery.JSGallery2 = function(thumbs, bigImageContainer, pageContainer, newOptions) {\r\n\r\n        this.options = {\r\n            'prevHandle': null,\t\t\t//if you pass a previous page handle in here, it will be hidden if it's not needed\r\n            'nextHandle': null,\t\t\t//like above, but for next page\r\n            'countHandle': null,\t\t//handle of the counter variable\r\n            'titleTarget': null,\t\t//target HTML element where image texts are copied into\r\n            'initialIndex': -1,\t\t\t//which thumb to select after init. you could create deep links with it.\r\n            'maxOpacity': 0.8,\t\t\t//maximum opacity before cursor reaches prev/next control, then it will be set to 1 instantly.\r\n            'showSocialMediaButton': true,\r\n            'showCartButton': true,\r\n            'showCartConnector': false,\r\n            'cartConnectorLinkRel': '',\r\n            'activeClass': 'thumbnail-active', // the css class for the active thumbnail\r\n            'lightboxRel': 'lightbo2', // the trigger rel for the lightbox script\r\n            'touchContainerSelector' : '#bigimageContainer'\r\n        };\r\n\r\n        this.options = Eventgallery.Tools.mergeObjects(this.options, newOptions);\r\n\r\n        var pages = jQuery(pageContainer).children('div');\r\n\r\n\t\t// defines if thumbs are currently running\r\n\t\tthis.running = false;\r\n        this.currentPageNumber = 0;\r\n\r\n        this.blockKeys = false;\r\n        this.imagesPerFirstPage = jQuery(pages[0]).find('div.ajax-thumbnail-container').length;\r\n        this.imagesPerPage = this.imagesPerFirstPage;\r\n\r\n        if (pages.length>1 && jQuery(pages[1]).find('div.ajax-thumbnail-container').length>0)  {\r\n            this.imagesPerPage = jQuery(pages[1]).find('div.ajax-thumbnail-container').length;\r\n        }\r\n\r\n        this.thumbs = thumbs;\r\n\r\n        this.bigImage = jQuery(bigImageContainer);\r\n        this.pageContainer = jQuery(pageContainer);\r\n        this.convertThumbs();\r\n\r\n        this.lastPage = Math.ceil((this.thumbs.length - this.imagesPerFirstPage) / this.imagesPerPage) + 1;\r\n\r\n        var url = document.location.href;\r\n        this.initialIndex = parseInt(Eventgallery.Tools.getUrlHashParameterValue(url, 'imageno'));\r\n        if (isNaN(this.initialIndex)) {\r\n            this.initialIndex = 0;\r\n        }\r\n\r\n\r\n        this.createControls();\r\n\r\n        this.createGallerySlides();\r\n\r\n        this.gotoPage(0);\r\n\r\n        if (this.options.initialIndex !== -1) {\r\n            this.unBlockKeys();\r\n            this.selectByIndex(this.options.initialIndex);\r\n        } else if (this.initialIndex !== 0) {\r\n\r\n            this.unBlockKeys();\r\n            this.selectByIndex(this.initialIndex);\r\n        }\r\n\r\n    };\r\n\r\n    Eventgallery.JSGallery2.prototype.createGallerySlides = function() {\r\n        this.slides = [];\r\n        jQuery.each(this.thumbs, (count, thumbContainer) => {\r\n            let lightboxLinkElement = thumbContainer.getElementsByTagName('A')[0];\r\n\r\n            let newSrc = lightboxLinkElement.getAttribute('rel');\r\n            let title =  decodeURIComponent(lightboxLinkElement.getAttribute('data-description'));\r\n            let slide =    {\r\n                w: lightboxLinkElement.getAttribute('data-width'),\r\n                h: lightboxLinkElement.getAttribute('data-height'),\r\n                src: lightboxLinkElement.getAttribute('href'),\r\n                title: title\r\n            };\r\n            this.slides.push(slide)\r\n        });\r\n    };\r\n\r\n    Eventgallery.JSGallery2.prototype.createControls = function () {\r\n        this.prevLink = jQuery('<a href=\"#\" class=\"link jsgallery-prev\"></a>');\r\n        this.prevLink.bind('click', jQuery.proxy(this.prevImage, this));\r\n        this.prevLink.mouseleave(jQuery.proxy(this.mouseLeaveHandler, this));\r\n\r\n        this.prevLink.mouseover( jQuery.proxy( function (e) {\r\n            this.focusControl(e, this.prevLink);\r\n        }, this));\r\n\r\n        this.zoomLink = jQuery('<a href=\"#\" class=\"link jsgallery-zoom\"></a>');\r\n        this.zoomLink.mouseleave(jQuery.proxy(this.mouseLeaveHandler, this));\r\n\r\n        this.zoomLink.mouseover( jQuery.proxy(function (e) {\r\n            this.focusControl(e, this.zoomLink);\r\n        }, this));\r\n\r\n        this.nextLink = jQuery('<a href=\"#\" class=\"link jsgallery-next\"></a>');\r\n        this.nextLink.bind('click', jQuery.proxy(this.nextImage, this));\r\n        this.nextLink.mouseleave(jQuery.proxy(this.mouseLeaveHandler, this));\r\n\r\n        this.nextLink.mouseover(jQuery.proxy(function (e) {\r\n            this.focusControl(e, this.nextLink);\r\n        }, this));\r\n\r\n\t\tthis.bigImage.parent().append(this.prevLink);\r\n        this.bigImage.parent().append(this.zoomLink);\r\n        this.bigImage.parent().append(this.nextLink);\r\n\r\n        this.bigImage.load(()=>this.showBigImage());\r\n\r\n        if (this.options.showCartButton) {\r\n            this.add2cartLink = jQuery('<a href=\"#\" class=\"eventgallery-add2cart eventgallery-openAdd2cart jsgallery-add2cart\"><i class=\"egfa egfa-2x egfa-cart-plus\"></i></a>');\r\n            this.bigImage.parent().append(this.add2cartLink);\r\n            jQuery('body').trigger('updatecartlinks');\r\n        }\r\n\r\n        if (this.options.showCartConnector) {\r\n\r\n            this.cartConnectorLink = jQuery('<a href=\"#\" id=\"ajax-cartconnector\" class=\"button-cart-connector jsgallery-cartconnector\"><i class=\"egfa egfa-2x egfa-cart-plus\"></i></a>');\r\n            this.cartConnectorLink.attr('rel', this.options.cartConnectorLinkRel);\r\n            this.bigImage.parent().append(this.cartConnectorLink);\r\n        }\r\n\r\n        if (this.options.showSocialMediaButton) {\r\n            this.socialmediabutton = jQuery('<a id=\"ajax-social-media-button\" class=\"social-share-button social-share-button-open jsgallery-socialmedia\" rel=\"nofollow\" href=\"#\"><i class=\"egfa egfa-2x egfa-share-alt-square\"></i></a>');\r\n            this.socialmediabutton.click((e)=>Eventgallery.SocialShareButton.openShareDialog(e));\r\n            this.bigImage.parent().append(this.socialmediabutton);\r\n        }\r\n\r\n        jQuery(document).keydown(jQuery.proxy(this.keyboardHandler, this));\r\n\r\n\r\n\t\tvar options = {\r\n\t\t  dragLockToAxis: true,\r\n\t\t  dragBlockHorizontal: true,\r\n\t\t  swipeVelocityX: 0.2\r\n\t\t};\r\n\r\n\r\n\r\n\r\n\t\tvar swipeleft =  jQuery.proxy(function(e) {\r\n\t\t    this.nextImage(e);\r\n\t\t}, this);\r\n\r\n\t\tvar swiperight = jQuery.proxy(function(e) {\r\n\t\t    this.prevImage(e);\r\n\t\t}, this);\r\n\r\n        var tabaction = function(e) {\r\n            event.target.click();\r\n        };\r\n\r\n        Eventgallery.Touch.addTouch(this.options.touchContainerSelector,\r\n            swiperight,\r\n            swipeleft,\r\n            tabaction,\r\n            true\r\n        );\r\n\r\n        this.mouseLeaveHandler();\r\n    };\r\n\r\n    /**\r\n     * Focuses one control\r\n     *\r\n     * @param {Event} event\r\n     * @param {HTMLElement} control\r\n    */\r\n    Eventgallery.JSGallery2.prototype.focusControl = function (event, control) {\r\n        control.css('opacity', 1);\r\n    };\r\n\r\n    /**\r\n     * Hides the controls.\r\n     */\r\n    Eventgallery.JSGallery2.prototype.mouseLeaveHandler = function () {\r\n        jQuery(this.nextLink).css('opacity', 0);\r\n        jQuery(this.prevLink).css('opacity', 0);\r\n        jQuery(this.zoomLink).css('opacity', 0);\r\n    };\r\n\r\n    /**\r\n     * Handles keyboard interactions.\r\n     * @param {Event} event\r\n     */\r\n    Eventgallery.JSGallery2.prototype.keyboardHandler = function (event) {\r\n\r\n\r\n        if (!this.blockKeys && Eventgallery.lightbox.isOpen() !== true) {\r\n            if (event.keyCode >= 49 && event.keyCode <= 57) {\r\n                this.gotoPage(event.key - 1);\r\n            } else if (event.keyCode == 37) {\r\n                this.prevImage(event);\r\n            } else if (event.keyCode == 39) {\r\n                this.nextImage(event);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     *    Returns the distance to the mouse from the middle of a given element.\r\n     *    @param {HTMLelement} element\r\n     *    @param {Event} event\r\n     *    @return integer\r\n     */\r\n    Eventgallery.JSGallery2.prototype.getDistanceToMouse = function (element, event) {\r\n        var s = jQuery(element);\r\n        var xDiff = Math.abs(event.clientX - (s.position().left + s.width() / 2));\r\n        var yDiff = Math.abs(event.clientY - (s.position().top + s.height() / 2));\r\n        return Math.sqrt(Math.pow(xDiff, 2) + Math.pow(yDiff, 2));\r\n    };\r\n\r\n    Eventgallery.JSGallery2.prototype.resetThumbs = function () {\r\n       \tthis.running = false;\r\n\r\n\t\tthis.convertThumbs();\r\n\r\n        //if we like to select another image on that page than the first one\r\n        this.select(this.selectedContainer, true);\r\n    };\r\n\r\n    /**\r\n     *    Adds the border to the thumbs and so on. (conversion of static thumbs)\r\n     */\r\n    Eventgallery.JSGallery2.prototype.convertThumbs = function () {\r\n        var currentObject = this;\r\n        jQuery.each(this.thumbs, function (count, thumbContainer) {\r\n            currentObject.convertThumb(thumbContainer, count);\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Converts one single thumb.\r\n     * @param {HTMLelement} thumbContainer\r\n     * @param {Integer} count\r\n     */\r\n    Eventgallery.JSGallery2.prototype.convertThumb = function (thumbContainer, count) {\r\n\r\n        if (thumbContainer === undefined) {\r\n            return;\r\n        }\r\n\r\n        var container = jQuery(thumbContainer);\r\n\r\n        container.click(jQuery.proxy(function(e) {\r\n            e.preventDefault();\r\n            this.select(container);\r\n        }, this));\r\n\r\n\r\n        container.css('position', 'relative');\r\n        container.attr('data-counter', count);\r\n        container.attr('href', '#');\r\n    };\r\n\r\n    /**\r\n     *    Removes key blocking.\r\n     */\r\n    Eventgallery.JSGallery2.prototype.unBlockKeys = function () {\r\n        this.blockKeys = false;\r\n    };\r\n\r\n    /**\r\n     *    Selects a certain image. (You have to pass the outer container of the image)\r\n     *    @param container\r\n     *    @param forceReload\r\n     */\r\n    Eventgallery.JSGallery2.prototype.select = function (container, forceReload) {\r\n        forceReload = typeof forceReload !== 'undefined' ? forceReload : false;\r\n\r\n        if (this.blockKeys || container === null) {\r\n            return false;\r\n        }\r\n\r\n\r\n        this.blockKeys = true;\r\n        if ( this.selectedContainer !== undefined ) {\r\n            //this prevents an ugly effect if you click on the currently selected item\r\n            if (container == this.selectedContainer && !forceReload) {\r\n                this.unBlockKeys();\r\n                return false;\r\n            }\r\n            this.deselect(this.selectedContainer);\r\n        }\r\n\r\n        // handle URL\r\n        if (history && history.pushState) {\r\n            history.pushState('', '', Eventgallery.Tools.addUrlHashParameter(window.location.href, 'imageno', this.thumbs.index(container)));\r\n        }\r\n\r\n        //if target image is not on current page, we have to go there first\r\n        var targetPage = Math.floor((jQuery(container).data('counter') - this.imagesPerFirstPage) / this.imagesPerPage) + 1;\r\n\r\n        if (this.currentPageNumber != targetPage) {\r\n            this.gotoPage(targetPage, container);\r\n        }\r\n        this.selectedContainer = container;\r\n\r\n        jQuery(container).addClass(this.options.activeClass);\r\n\r\n        //first link in the container\r\n        var source = jQuery(container).children().first();\r\n\r\n\r\n        // prepare the add2cart button\r\n        if (this.options.showCartButton) {\r\n            this.add2cartLink.attr('data-id', source.attr('data-id'));\r\n            //jQuery('.eventgallery-add2cart').attr('data-id', source.data('id'));\r\n        }\r\n\r\n        if (this.options.showCartConnector) {\r\n            this.cartConnectorLink.attr('data-folder', source.data('folder'));\r\n            this.cartConnectorLink.attr('data-file', source.data('file'));\r\n            this.cartConnectorLink.attr('href', decodeURIComponent(source.data('cart-connector-link')));\r\n        }\r\n\r\n        if (this.options.showSocialMediaButton) {\r\n            this.socialmediabutton.attr('data-link', decodeURIComponent(source.data('social-sharing-link')) );\r\n        }\r\n\r\n        jQuery(document).trigger('updatecartlinks');\r\n\r\n        // now lets set the image\r\n        this.setImage(source);\r\n    };\r\n\r\n\r\n    /**\r\n     * Selects an image by its thumbnail index.\r\n     * @param {integer} index of the thumbnail, starting with 0\r\n     */\r\n    Eventgallery.JSGallery2.prototype.selectByIndex = function (index) {\r\n        //this.mouseLeaveHandler();\r\n        if (index < 0 || this.thumbs.length <= index) {\r\n            index = 0;\r\n        }\r\n        this.select(this.thumbs[index]);\r\n    };\r\n\r\n    /**\r\n     *    Opposite to method above.\r\n     *    @param {HTMLelement} container\r\n     */\r\n    Eventgallery.JSGallery2.prototype.deselect = function (container) {\r\n        jQuery(container).removeClass(this.options.activeClass);\r\n    };\r\n\r\n    /**\r\n     *    Changes the full size image to given one.\r\n     *    @param lightboxLinkElement\r\n     */\r\n    Eventgallery.JSGallery2.prototype.setImage = function (lightboxLinkElement) {\r\n\r\n            this.bigImage.css('opacity', '0.1');\r\n            let newSrc = lightboxLinkElement.attr('rel');\r\n            let title =  decodeURIComponent(lightboxLinkElement.attr('data-description'));\r\n\r\n            this.zoomLink.unbind('click');\r\n\r\n            let currentIndex = this.thumbs.index(this.selectedContainer);\r\n\r\n            this.zoomLink.click((e) => {\r\n                this.createGallerySlides();\r\n\r\n                Eventgallery.lightbox.openPhotoSwipe(\r\n                    currentIndex, this.slides, true, false\r\n                );\r\n                Eventgallery.lightbox.setAfterChangeEventListener(() => {\r\n                    let gid = Eventgallery.lightbox.getCurrentSlide().gid;\r\n                    if (this.slides.length>0 && gid === this.slides[0].gid) {\r\n                        this.selectByIndex(Eventgallery.lightbox.getCurrentIndex());\r\n                    }\r\n                });\r\n            });\r\n            if (Eventgallery.lightbox.isOpen() === true) {\r\n               Eventgallery.lightbox.gotoSlide(currentIndex);\r\n            }\r\n\r\n            jQuery(this.options.titleTarget).html(title);\r\n\r\n            this.bigImage.attr('src', newSrc);\r\n            this.unBlockKeys();\r\n    };\r\n\r\n    Eventgallery.JSGallery2.prototype.showBigImage= function() {\r\n        this.bigImage.css('opacity', '1');\r\n    };\r\n\r\n    /**\r\n     *    Navigates to previous page.\r\n     */\r\n    Eventgallery.JSGallery2.prototype.prevPage = function () {\r\n        this.gotoPage(this.currentPageNumber - 1);\r\n    };\r\n    /**\r\n     *    Navigates to next page.\r\n     */\r\n    Eventgallery.JSGallery2.prototype.nextPage = function () {\r\n        this.gotoPage(this.currentPageNumber + 1);\r\n    };\r\n    /**\r\n     *    Selects the previous image.\r\n     */\r\n    Eventgallery.JSGallery2.prototype.prevImage = function (e) {\r\n        if (e !== undefined) {\r\n            e.preventDefault();\r\n        }\r\n        this.selectByIndex(this.thumbs.index(this.selectedContainer) - 1);\r\n    };\r\n    /**\r\n     *    Selects the next image.\r\n     */\r\n    Eventgallery.JSGallery2.prototype.nextImage = function (e) {\r\n        if (e !== undefined) {\r\n            e.preventDefault();\r\n        }\r\n        this.selectByIndex(this.thumbs.index(this.selectedContainer) + 1);\r\n    };\r\n\r\n    /**\r\n     * Zooms an image\r\n     */\r\n    Eventgallery.JSGallery2.prototype.zoomImage = function (e) {\r\n        if (e !== undefined) {\r\n            e.preventDefault();\r\n        }\r\n    };\r\n\r\n    /**\r\n     *    Navigates to given page and selects the first image of it.\r\n     *    Also hides the handles (if set).\r\n     *    @param {Integer} pageNumber, index of the target page (0-n)\r\n     *  @param {HTMLElement} selectImage, optionally receives a particular image to select\r\n     */\r\n    Eventgallery.JSGallery2.prototype.gotoPage = function (pageNumber, selectImage) {\r\n        //if we like to select another image on that page than the first one\r\n        if (pageNumber === 0) {\r\n            selectImage = selectImage === undefined ? this.thumbs[0] : selectImage;\r\n        } else {\r\n            let i = (pageNumber - 1) * this.imagesPerPage + this.imagesPerFirstPage;\r\n            selectImage = this.thumbs[i] === undefined ? selectImage : this.thumbs[i];\r\n        }\r\n\r\n        if (pageNumber >= 0 && pageNumber < this.lastPage) {\r\n\r\n            this.pageContainer.css('margin-left',\r\n            this.pageContainer.children().width() * pageNumber * -1);\r\n\r\n            // fix height of the page-container\r\n            var maxHeight = 0;\r\n            this.pageContainer.children().each(function (index, page) {\r\n                var height = jQuery(page).height();\r\n                if (height > maxHeight) {\r\n                    maxHeight = height;\r\n                }\r\n            });\r\n\r\n            this.pageContainer.css('height', maxHeight);\r\n\r\n            this.currentPageNumber = pageNumber;\r\n            this.select(selectImage);\r\n            this.updateHandles();\r\n\r\n        }\r\n    };\r\n\r\n    Eventgallery.JSGallery2.prototype.updateHandles = function () {\r\n        //update handles\r\n        var dummy;\r\n\r\n        if (this.options.prevHandle !== undefined) {\r\n            dummy = this.currentPageNumber === 0 ? this.options.prevHandle.fadeOut():this.options.prevHandle.fadeIn();\r\n        }\r\n        if (this.options.nextHandle !== undefined) {\r\n            dummy = this.currentPageNumber == this.lastPage - 1 ? this.options.nextHandle.fadeOut():this.options.nextHandle.fadeIn();\r\n        }\r\n\r\n        if (this.options.countHandle !== undefined) {\r\n            dummy = this.updatePagingBar(this.options.countHandle, this.currentPageNumber, this.lastPage);\r\n        }\r\n\r\n    };\r\n\r\n    Eventgallery.JSGallery2.prototype.updatePagingBar = function (countHandle, currentPage, pageCount) {\r\n\t\tvar i;\r\n\r\n        //init the pagingbar\r\n        if (pageCount > 1 && countHandle.html() === '') {\r\n\r\n            for (i = 0; i < pageCount; i++) {\r\n                this.createCountLink(this, countHandle, i);\r\n            }\r\n        }\r\n\r\n        var pageSpeed = this.options.pageSpeed;\r\n\r\n\r\n        if (pageCount > 9) {\r\n\r\n            for (i = 0; i < pageCount; i++) {\r\n                jQuery('#count' + i).css('display', 'inline');\r\n            }\r\n\r\n            var skipFromRight = pageCount;\r\n            var skipFromLeft = 0;\r\n\r\n            var spaceToRight = pageCount - currentPage - 1;\r\n            var spaceToLeft = currentPage;\r\n\r\n            if (spaceToLeft > 4 && spaceToRight > 4) {\r\n                skipFromLeft = currentPage - 4;\r\n                skipFromRight = currentPage + 5;\r\n            } else {\r\n                if (spaceToLeft <= 4) {\r\n                    skipFromLeft = 0;\r\n                    skipFromRight = currentPage + 5 + (4 - spaceToLeft);\r\n                }\r\n                if (spaceToRight <= 4) {\r\n                    skipFromLeft = currentPage - 4 - (4 - spaceToRight);\r\n                    skipFromRight = pageCount;\r\n                }\r\n            }\r\n\r\n            for (i = 0; i < skipFromLeft; i++) {\r\n                jQuery('#count' + i).css('display', 'none');\r\n            }\r\n\r\n            for (i = skipFromRight; i < pageCount; i++) {\r\n                jQuery('#count' + i).css('display', 'none');\r\n\r\n            }\r\n        }\r\n\r\n        jQuery(countHandle).children('.active').removeClass('active');\r\n        jQuery('#count' + currentPage).addClass('active');\r\n\r\n    };\r\n\r\n\r\n    Eventgallery.JSGallery2.prototype.createCountLink = function (gallery, countHandle, currentPageNumber) {\r\n\r\n        var myAnchor = jQuery('<a href=\"#\">' + (currentPageNumber + 1) + '</a>');\r\n\r\n\r\n        myAnchor.click(jQuery.proxy(function (e) {\r\n            this.gotoPage(currentPageNumber);\r\n            return false;\r\n        }, gallery));\r\n\r\n\r\n        var myListItem = jQuery('<li class=\"count\" id=\"count' + currentPageNumber + '\"></li>');\r\n\r\n        myListItem.append(myAnchor);\r\n\r\n        countHandle.append(myListItem);\r\n\r\n    };\r\n\r\n})(Eventgallery, Eventgallery.jQuery);\r\n","(function(Eventgallery, jQuery){\r\n\t\r\nEventgallery.Lazyload = function(newOptions) {\r\n\tthis.options = {\r\n        range: 200,\r\n        elements: 'img.eventgallery-lazyme',\r\n        container: window,\r\n        startPosition: -1,\r\n        onScroll: function () {\r\n            //console.log('scrolling');\r\n        },\r\n        onLoad: function (img) {\r\n            //console.log('image loaded');\r\n            img.removeClass('eventgallery-lazyload-loading').addClass('eventgallery-lazyload-loaded');\r\n        },\r\n        onComplete: function () {\r\n            //console.log('all images loaded');\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This is useful if somebody wants to use an inner div to do the scroll magic.\r\n     * In this case putting a very high value in here would practically disable Layzload.\r\n     * We still need it to add the background images so we can't simply disable it.\r\n     */\r\n    if (typeof EventGalleryLazyloadRange != 'undefined') {\r\n        this.options.range = EventGalleryLazyloadRange;\r\n    }\r\n\r\n    this.initialize(newOptions);\r\n};\r\n\r\nEventgallery.Lazyload.prototype.initialize = function(newOptions) { \r\n    \r\n    this.options = Eventgallery.Tools.mergeObjects(this.options, newOptions);\r\n\r\n    this.$container = (this.options.container != window && this.options.container != document.body ? jQuery(this.options.container) : jQuery(document.body));\r\n    this.$elements = this.$container.find(this.options.elements);\r\n\r\n    this.containerDimension = jQuery(window).height();\r\n    this.startPosition = this.options.startPosition;\r\n    //var $offset = (this.options.container != window && this.options.container != document.body ? this.$container : jQuery(document.body));\r\n    var $offset = jQuery(document.body);\r\n\r\n\t//noinspection CoffeeScriptUnusedLocalSymbols\r\n    // this is necessary to make the current object available in new function\r\n    var self = this;\r\n    /* find elements remember and hold on to */\r\n\tfor(var index = 0; index < this.$elements.length; index++) {\r\n\t\tvar el = jQuery(this.$elements[index]);\t\t\r\n\t\r\n        /* reset image src IF the image is below the fold and range */\r\n        if (el.attr('longDesc')) {\r\n            el.addClass('eventgallery-lazyload-loading');\r\n        }\r\n    }\r\n\t\r\n    this.$elements = this.$elements.filter(function () {\r\n    \tvar $el = jQuery(this);\r\n\r\n        /* reset image src IF the image is below the fold and range */\r\n        if ($el.attr('longDesc')) {\r\n            return true;            \r\n        }\r\n    });\r\n    \r\n    /* create the action function */\r\n    var action = function () {\r\n        var currentPosition = jQuery(window).scrollTop();\r\n        \r\n        if (currentPosition > self.startPosition) {\r\n            self.$elements = self.$elements.filter(function () {\r\n            \tvar $el = jQuery(this);\r\n\t\t        var elPos = $el.offset().top - $offset.offset().top;\r\n\t\t        //console.log('currentPosition ', (currentPosition + self.options.range + self.containerDimension), ' >= elPos ', elPos);\r\n                if ((currentPosition + self.options.range + self.containerDimension) >= elPos) {\r\n                    if ($el.attr('longDesc')) {\r\n                        $el.css('background-image', 'url(\"' + $el.attr('longDesc') + '\")');\r\n                    }\r\n                    self.options.onLoad.call(self, $el);\r\n                    return false;\r\n                }\r\n                return true;\r\n            });\r\n            self.startPosition = currentPosition;\r\n        }\r\n        \r\n        self.options.onScroll.call();\r\n        /* remove this event IF no elements */\r\n        if (self.$elements.length === 0) {\r\n            jQuery(window).off('scroll', action);\r\n            self.options.onComplete.call();\r\n        }\r\n    };\r\n\r\n    /* listen for scroll */\r\n    jQuery(window).on('scroll', action);\r\n    \r\n    action();\r\n        \r\n};\r\n})(Eventgallery, Eventgallery.jQuery);","(function(Eventgallery, jQuery){\r\n\t\r\n/* processes a row is a image list */\r\nEventgallery.Row = function(newOptions) {\r\n\r\n\tthis.options = {\r\n        maxWidth: 960,\r\n        maxHeight: 250,\r\n        heightJitter: 0,\r\n        adjustHeight: true,\r\n        doFillLastRow: true\r\n    };\r\n    this.options = Eventgallery.Tools.mergeObjects(this.options, newOptions);\r\n    this.isLastRow = false;\r\n    this.images = [];\r\n    this.width = 0;\r\n    if (this.options.heightJitter > 0) {\r\n        this.options.maxHeight = Math.floor(this.options.maxHeight + (Math.random() * 2 * this.options.heightJitter) - this.options.heightJitter);\r\n    }\r\n};\r\n\r\nEventgallery.Row.prototype.add = function (eventgalleryImage) {\r\n    let imageWidth =eventgalleryImage.width / eventgalleryImage.height * this.options.maxHeight;\r\n\r\n    // determine the number of images per line. return false if the row if full.\r\n\r\n    let addThisImage = this.width + imageWidth <= this.options.maxWidth || this.images.length === 0;\r\n\r\n    if (!addThisImage) {\r\n        let gap = Math.abs(this.options.maxWidth - this.width - imageWidth) / this.options.maxWidth;\r\n        if (gap<0.2) {\r\n            addThisImage = true;\r\n        }\r\n    }\r\n\r\n    // determine the number of images per line. return false if the row if full.\r\n    if (addThisImage) {\r\n        this.images.push(eventgalleryImage);\r\n        eventgalleryImage.calculatedWidth = imageWidth;\r\n        this.width = this.width + imageWidth;\r\n        return true;\r\n    } else {\r\n        return false;\r\n    }\r\n};\r\n\r\nEventgallery.Row.prototype.processRow = function () {\r\n    let gap, rowHeight, i;\r\n\r\n    gap = this.options.maxWidth - this.width;\r\n\r\n    // if there is no gap to fill, we need to resize the last row to fit the image.\r\n    if (this.isLastRow && this.options.doFillLastRow === false && gap >=0 ) {\r\n        if (gap>=0) {\r\n            gap = 0;\r\n        }\r\n        rowHeight = this.options.maxHeight;\r\n    } else {\r\n\r\n        rowHeight = this.options.maxHeight / (this.width/this.options.maxWidth);\r\n    }\r\n\r\n    if (this.options.adjustHeight === false) {\r\n        rowHeight = this.options.maxHeight;\r\n    }\r\n\r\n    for (i=0; i < this.images.length; i++) {\r\n        var image = this.images[i];\r\n\r\n        var calculatedWidth = image.calculatedWidth;\r\n\r\n        // how much of the gap does this element need to fill?\r\n        var gapToClose = (calculatedWidth / this.width ) * gap;\r\n\r\n        image.setSize(calculatedWidth + gapToClose, rowHeight);\r\n    }\r\n\r\n\r\n};\r\n\r\n})(Eventgallery, Eventgallery.jQuery);","(function(Eventgallery){\r\n/* determines the size of an image so a image server can deliver it. */\r\n\r\nEventgallery.SizeCalculator = function(newOptions) {\r\n\tthis.options = {\r\n        // to be able to handle internal and google picasa images, we need to restrict the availabe image sizes.\r\n        availableSizes: [48, 104, 160, 288, 320, 400, 512, 640, 720, 800, 1024, 1280, 1440],\r\n        flickrSizes:   {100 : 't', 240 : 'm', 320 : 'n', 500 : '-', 640 : 'z', 800 : 'c', 1024 : 'b', 1600 : 'h', 2048 : 'k'}\r\n\r\n};\r\n    this.options = Eventgallery.Tools.mergeObjects(this.options, newOptions);   \r\n};\r\n\r\nEventgallery.SizeCalculator.prototype.adjustImageURL = function (url, size) {\r\n    url = url.replace(/=w(\\d+)/, '=w' + size);\r\n    url = url.replace(/width=(\\d+)/, 'width=' + size);\r\n    url = url.replace(/\\/s(\\d*)\\//, '/s' + size + '/');\r\n    url = url.replace(/\\/s(\\d*)-c\\//, '/s' + size + '-c/');\r\n\r\n    return url;\r\n};\r\n\r\n\r\nEventgallery.SizeCalculator.prototype.getFlickrURL = function(farm, server, secret,  secret_h, secret_k, secret_o, id, width, height, originalwidth, originalheight) {\r\n    var longSideSize,\r\n        originalLongSideSize,\r\n        sizeCode,\r\n        secretString,\r\n        sizeString,\r\n        ratio;\r\n\r\n    let minSizes = this.getMinSizes(width, height, originalwidth, originalheight);\r\n\r\n\r\n    if (originalwidth > originalheight) {\r\n        longSideSize = minSizes.width;\r\n        originalLongSideSize = originalwidth;\r\n    } else {\r\n        longSideSize = minSizes.height;\r\n        originalLongSideSize = originalheight;\r\n    }\r\n\r\n    if (originalLongSideSize < longSideSize) {\r\n        sizeCode = 'o';\r\n    } else {\r\n\r\n        for (var size in this.options.flickrSizes) {\r\n            if (size > longSideSize) {\r\n                sizeCode = this.options.flickrSizes[size];\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    if (sizeCode === 'h' && secret_h === '') {\r\n        sizeCode = 'o'\r\n    }\r\n\r\n    if (sizeCode === 'k' && secret_k === '') {\r\n        sizeCode = 'o'\r\n    }\r\n\r\n    switch (sizeCode) {\r\n        case \"o\":\r\n            secretString = secret_o;\r\n            break;\r\n        case \"h\":\r\n            secretString = secret_h;\r\n            break;\r\n        case \"k\":\r\n            secretString = secret_k;\r\n            break;\r\n        default:\r\n            secretString = secret;\r\n    }\r\n\r\n    sizeString = sizeCode == '-' ? '' : '_' + sizeCode;\r\n    return 'https://farm' + farm + '.staticflickr.com/' + server + '/' + id + '_' + secretString + sizeString + '.jpg';\r\n};\r\n\r\nEventgallery.SizeCalculator.prototype.getSize = function (width, height, ratio) {\r\n\t\r\n    var googleWidth = this.options.availableSizes[0];\r\n\t\r\n\tfor(var index=0; index < this.options.availableSizes.length; index++) {\r\n\t\tvar item = \tthis.options.availableSizes[index];\r\n    \tvar widthOkay;\r\n        var heightOkay;\r\n        \r\n        if (googleWidth > this.options.availableSizes[0]){\r\n        \tbreak;\r\n        }\r\n        \r\n        var lastItem = index == this.options.availableSizes.length - 1;\r\n\r\n        if (ratio >= 1) {\r\n            widthOkay = item > width;\r\n            heightOkay = item / ratio > height;\r\n\r\n            if ((widthOkay && heightOkay) || lastItem) {\r\n                googleWidth = item;\r\n            }\r\n        } else {\r\n            heightOkay = item > height;\r\n            widthOkay = item * ratio > width;\r\n\r\n            if ((widthOkay && heightOkay) || lastItem) {\r\n                googleWidth = item;\r\n            }\r\n        }\r\n    }\r\n\t\r\n    return googleWidth;\r\n};\r\n\r\n    /**\r\n     * returns the minimum values for height and width to fill the given box size.\r\n     * @param boxWidth\r\n     * @param boxHeight\r\n     * @param originalWidth\r\n     * @param originalHeight\r\n     */\r\n    Eventgallery.SizeCalculator.prototype.getMinSizes = function (boxWidth, boxHeight, originalWidth, originalHeight) {\r\n\r\n\r\n          let ratio = originalWidth / originalHeight;\r\n\r\n          let height, width;\r\n\r\n          if (originalWidth > originalHeight) {\r\n              if (boxWidth > boxHeight) {\r\n                  width = boxWidth;\r\n                  height = boxWidth / ratio;\r\n                  if (height < boxHeight) {\r\n                      height = boxHeight;\r\n                      width = boxHeight * ratio;\r\n                  }\r\n              } else {\r\n                  height = boxHeight;\r\n                  width = boxHeight * ratio;\r\n                  if (width < boxWidth) {\r\n                      width = boxWidth;\r\n                      height = boxHeight * ratio;\r\n                  }\r\n              }\r\n          } else {\r\n              if (boxWidth > boxHeight) {\r\n                  width = boxWidth;\r\n                  height = boxWidth / ratio;\r\n                  if (height < boxHeight) {\r\n                      height = boxHeight;\r\n                      width = boxHeight * ratio;\r\n                  }\r\n              } else {\r\n                  height = boxHeight;\r\n                  width = boxHeight * ratio;\r\n                  if (width < boxWidth) {\r\n                      width = boxWidth;\r\n                      height = boxWidth / ratio;\r\n                  }\r\n              }\r\n          }\r\n\r\n          return {width: Math.ceil(width), height: Math.ceil(height)};\r\n    };\r\n\r\n})(Eventgallery);   ","(function(Eventgallery, jQuery){\r\n\r\n\tEventgallery.DownloadButton = class {\r\n\t\tstatic download(e, href, download) {\r\n\t\t\te.preventDefault();\r\n\t\t\tlet a = document.createElement('a');\r\n\t\t\ta.href = href;\r\n\t\t\ta.download = download;\r\n\t\t\tdocument.body.appendChild(a);\r\n\t\t\ta.click();\r\n\t\t\tdocument.body.removeChild(a)\r\n\t\t}\r\n\t};\r\n\r\n\tEventgallery.ClickableButton = class {\r\n\t\tstatic click(e, href) {\r\n\t\t\te.preventDefault();\r\n\t\t\tdocument.location.href = href;\r\n\t\t}\r\n\t};\r\n\r\n\tEventgallery.SocialShareButton = class {\r\n\t\tstatic openShareDialog(e) {\r\n\r\n\t\t\te.preventDefault();\r\n\t\t\te.stopPropagation();\r\n\r\n\t\t\tvar link = jQuery(e.target);\r\n\t\t\tif (!link.attr('data-link')) {\r\n\t\t\t\tlink = link.parent('[data-link]');\r\n\t\t\t}\r\n\r\n\t\t\tvar id = 'id_' + Math.ceil(Math.random()*10000000);\r\n\r\n\t\t\tvar targetPos = link.offset();\r\n\t\t\tvar myDiv = jQuery('<div><i class=\"egfa egfa-2x egfa-cog egfa-spin\"></i></div>');\r\n\t\t\tmyDiv.attr('id', id);\r\n\t\t\tmyDiv.addClass('social-sharing-toolbox');\r\n\r\n\t\t\tmyDiv.css( {\r\n\t\t\t\t'opacity': '1 !important',\r\n\t\t\t\t'position': 'absolute',\r\n\t\t\t\t'top': targetPos.top-10,\r\n\t\t\t\t'left': targetPos.left-10\r\n\t\t\t});\r\n\r\n\t\t\tjQuery('body').append(myDiv);\r\n\r\n\t\t\tmyDiv.fadeIn();\r\n\r\n\t\t\tmyDiv.load(link.attr('data-link'));\r\n\r\n\t\t\tvar timer = null;\r\n\r\n\t\t\tvar closeFunction = function(){\r\n\t\t\t\tmyDiv.fadeOut(300, function() {\r\n\t\t\t\t\tjQuery(this).remove();\r\n\t\t\t\t});\r\n\t\t\t\tjQuery(document).off('touchend click', closeFunction2);\r\n\t\t\t};\r\n\r\n\t\t\tmyDiv.mouseleave( function(){\r\n\t\t\t\ttimer = window.setTimeout(closeFunction, 1000);\r\n\t\t\t});\r\n\r\n\t\t\tmyDiv.mouseenter( function() {\r\n\t\t\t\twindow.clearTimeout(timer);\r\n\t\t\t});\r\n\r\n\t\t\t// this method is used to close the sharing windows if we click somewhere else.\r\n\t\t\tvar closeFunction2 = function(e) {\r\n\t\t\t\tif (e.target.id != id && jQuery(e.target).parents('#' + id).length === 0) {\r\n\t\t\t\t\tcloseFunction();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tjQuery(document).on('touchend click', closeFunction2);\r\n\r\n\t\t}\r\n\t};\r\n\r\n\tjQuery( document ).ready(function() {\r\n\r\n\r\n\t\tjQuery(document).on('touchend click', '.social-share-button-close', function(e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tvar myDivs = jQuery(e.target).parents('.social-sharing-toolbox');\r\n\t\t\tmyDivs.fadeOut(300, function() {\r\n\t\t\t\tjQuery(this).remove();\r\n\t\t\t});\r\n\t\t});\r\n\r\n\r\n        let elements = document.querySelectorAll('.social-share-button-open');\r\n        for (let i=0; i<elements.length;i++) {\r\n            elements[i].addEventListener(\"click\", (e) => {\r\n\t\t\t\tEventgallery.SocialShareButton.openShareDialog(e);\r\n            }, true);\r\n        }\r\n\r\n\r\n\t\telements = document.querySelectorAll('.eg-download');\r\n\t\tfor (let i=0; i<elements.length;i++) {\r\n\t\t\tlet element = elements[i];\r\n\t\t\tlet href = element.getAttribute('data-href');\r\n\t\t\tlet download = element.getAttribute('data-download');\r\n\r\n\t\t\tif (download != null) {\r\n\t\t\t\telement.addEventListener(\"click\", (e) => {\r\n\t\t\t\t\tEventgallery.DownloadButton.download(e, href, download);\r\n\t\t\t\t}, true);\r\n\t\t\t} else {\r\n\t\t\t\telement.addEventListener(\"click\", (e) => {\r\n\t\t\t\t\tEventgallery.ClickableButton.click(e, href);\r\n\t\t\t\t}, true);\r\n\t\t\t}\r\n\t\t}\r\n\r\n    });\r\n})(Eventgallery, Eventgallery.jQuery);\r\n","(function(Eventgallery, jQuery){\r\n\r\n    /**\r\n     * Formats a list of images to appear square sized. This class is doing something like the Grid layout for events.\r\n     * @param newOptions\r\n     * @constructor\r\n     */\r\n    Eventgallery.SquareList = function(newOptions) {\r\n        Eventgallery.Imagelist.call(this, newOptions);\r\n    };\r\n\r\n    Eventgallery.SquareList.prototype = new Eventgallery.Imagelist();\r\n    Eventgallery.SquareList.prototype.constructor = Eventgallery.SquareList;\r\n\r\n\r\n    Eventgallery.SquareList.prototype.processList = function() {\r\n        /* processes the image list*/\r\n        var width = this.width;\r\n        var currentObject = this;\r\n        jQuery.each(this.images, function () {\r\n            this.setSize(width, width);\r\n        });\r\n    };\r\n\r\n})(Eventgallery, Eventgallery.jQuery);","(function(Eventgallery, jQuery){\r\n\r\n// create a tile layout and centers images in a tile\r\nEventgallery.TilesCollection = function(newOptions) {\r\n    this.options = {\r\n        tiles: jQuery('#events-tiles .event'),\r\n        tilesContainer: jQuery('#events-tiles .event-tiles')\r\n    };\r\n\t\r\n \tthis.options = Eventgallery.Tools.mergeObjects(this.options, newOptions);\r\n    this.tiles = this.options.tiles;\r\n    this.tilesContainer = this.options.tilesContainer;\r\n\t\r\n};\r\n\r\nEventgallery.TilesCollection.prototype.calculate = function() {\r\n\t\tvar i;\r\n\t\tvar currentObject = this;\r\n    \tvar tilesPerRow = 1;\r\n        var tile = jQuery(this.tiles[0]);\r\n    \t // reset grid to support resize and media queries\r\n        jQuery.each(this.tiles, function(index, tile) {\r\n            jQuery(tile).css( {\r\n                'visibility' : 'hidden',\r\n                'position' : 'static',\r\n                'float' : 'left'\r\n            });\r\n        });\r\n\r\n        // calculate tiles per row    \r\n        var y = tile.position().top;\r\n\r\n\r\n        for(i=1; i<this.tiles.length; i++) {\r\n            if (jQuery(this.tiles[i]).position().top != y) {\r\n                break;\r\n            }\r\n            tilesPerRow++;\r\n\r\n        }\r\n\r\n        // create array of height values for the columns\r\n        var columnHeight = [];\r\n        for (i=0; i<tilesPerRow; i++) {\r\n            columnHeight.push(0);\r\n        }\r\n\r\n        var columnWidth = tile.outerWidth();\r\n\r\n        jQuery.each(this.tiles, function(index, tile) {\r\n            var $tile = jQuery(tile);\r\n            $tile.data('height', $tile.outerHeight());\r\n        });\r\n\r\n        jQuery.each(this.tiles, function(index, tile) {\r\n\r\n            var $tile =  jQuery(tile),\r\n                smallestColumn = currentObject.getSmallestColumn(columnHeight);\r\n\r\n            $tile.css({\r\n                'left' : smallestColumn * columnWidth,\r\n                'top' : columnHeight[smallestColumn]\r\n            });\r\n\r\n            columnHeight[smallestColumn] = columnHeight[smallestColumn] + $tile.data('height');\r\n        });\r\n        \r\n        jQuery.each(this.tiles, function(index, tile) {\r\n            jQuery(tile).css({\r\n                'visibility' : 'visible',\r\n                'position' : 'absolute',\r\n                'float' : 'none'\r\n            });\r\n        });\r\n\r\n        jQuery(this.tilesContainer).css('height', columnHeight[this.getHighestColumn(columnHeight)]);\r\n\r\n};\r\n    \r\n/* \r\n* returns the position of the smallest value in the array\r\n*/\t\r\nEventgallery.TilesCollection.prototype.getSmallestColumn = function(columnHeight) {\r\n\r\n    var smallestColumnValue = columnHeight[0];\r\n    var smallestColumnNumber = 0;\r\n    \r\n    for(var i=0; i<columnHeight.length; i++) {\r\n        if (smallestColumnValue>columnHeight[i]) {\r\n            smallestColumnValue=columnHeight[i];\r\n            smallestColumnNumber = i;\r\n        }\r\n    \r\n    }\r\n    return smallestColumnNumber;\r\n\r\n};\r\n    \r\n/* \r\n* returns the position of the highest value in the array\r\n*/\r\nEventgallery.TilesCollection.prototype.getHighestColumn = function(columnHeight) {\r\n\r\n    var columnValue = columnHeight[0];\r\n    var columnNumber = 0;\r\n    \r\n    for(var i=0; i<columnHeight.length; i++) {\r\n        if (columnValue<columnHeight[i]) {\r\n            columnValue=columnHeight[i];\r\n            columnNumber = i;\r\n        }\r\n    \r\n    }\r\n    return columnNumber;\r\n\r\n};\r\n\r\n})(Eventgallery, Eventgallery.jQuery);   ","(function(Eventgallery, jQuery){\r\n/**\r\n * Touch navigation\r\n */\r\n\r\nEventgallery.Touch = function(newOptions) {\r\n\r\n    this.options = {\r\n    };\r\n    this.options = Eventgallery.Tools.mergeObjects(this.options, newOptions);\r\n};\r\n\r\nEventgallery.Touch.removeTouch = function (elementSelector) {\r\n    jQuery( elementSelector ).unbind( 'touchstart');\r\n    jQuery( elementSelector ).unbind( 'touchmove');\r\n    jQuery( elementSelector ).unbind( 'touchend');\r\n};\r\n\r\nEventgallery.Touch.addTouch = function (elementSelector, leftAction, rightAction, tabAction, allowScrolling) {\r\n\r\n    var index,\r\n        hDistance,\r\n        vDistance,\r\n        hDistanceLast,\r\n        vDistanceLast,\r\n        hDistancePercent,\r\n        vSwipe = false,\r\n        hSwipe = false,\r\n        hSwipMinDistance = 10,\r\n        vSwipMinDistance = 50,\r\n        startCoords = {},\r\n        endCoords = {},\r\n        winWidth = window.innerWidth ? window.innerWidth : $( window ).width(),\r\n        winHeight = window.innerHeight ? window.innerHeight : $( window ).height();\r\n\r\n    jQuery( elementSelector ).bind( 'touchstart', function( event ) {\r\n\r\n        jQuery( this ).addClass( 'touching' );\r\n\r\n        endCoords = event.originalEvent.targetTouches[0];\r\n        startCoords.pageX = event.originalEvent.targetTouches[0].pageX;\r\n        startCoords.pageY = event.originalEvent.targetTouches[0].pageY;\r\n\r\n\r\n\r\n        jQuery( '.touching' ).bind( 'touchmove',function( event ) {\r\n            if (allowScrolling !== true) {\r\n                event.preventDefault();\r\n                event.stopPropagation();\r\n            }\r\n            endCoords = event.originalEvent.targetTouches[0];\r\n\r\n            if ( ! hSwipe ) {\r\n                vDistanceLast = vDistance;\r\n                vDistance = endCoords.pageY - startCoords.pageY;\r\n                if ( Math.abs( vDistance ) >= vSwipMinDistance || vSwipe ) {\r\n                    vSwipe = true;\r\n                }\r\n            }\r\n\r\n            hDistanceLast = hDistance;\r\n            hDistance = endCoords.pageX - startCoords.pageX;\r\n            hDistancePercent = hDistance * 100 / winWidth;\r\n\r\n            if ( ! hSwipe && ! vSwipe && Math.abs( hDistance ) >= hSwipMinDistance ) {\r\n                hSwipe = true;\r\n            }\r\n\r\n        } );\r\n\r\n        return allowScrolling===true;\r\n\r\n    } ).bind( 'touchend',function( event ) {\r\n\r\n        event.preventDefault();\r\n        event.stopPropagation();\r\n\r\n        vDistance = endCoords.pageY - startCoords.pageY;\r\n        hDistance = endCoords.pageX - startCoords.pageX;\r\n        hDistancePercent = hDistance*100/winWidth;\r\n\r\n        // Swipe to bottom to close\r\n        if ( vSwipe ) {\r\n            vSwipe = false;\r\n            if ( Math.abs( vDistance ) >= 2 * vSwipMinDistance && Math.abs( vDistance ) > Math.abs( vDistanceLast ) ) {\r\n            } else {\r\n\r\n            }\r\n\r\n        } else if ( hSwipe ) {\r\n\r\n            hSwipe = false;\r\n\r\n            // swipeLeft\r\n            if( hDistance >= hSwipMinDistance && hDistance >= hDistanceLast) {\r\n                leftAction();\r\n\r\n                // swipeRight\r\n            } else if ( hDistance <= -hSwipMinDistance && hDistance <= hDistanceLast) {\r\n                rightAction();\r\n            }\r\n\r\n        } else { // Top and bottom bars have been removed on touchable devices\r\n            if (undefined !== tabAction)\r\n            {\r\n                tabAction();\r\n            } else {\r\n                jQuery(event.target).trigger(\"click\");\r\n            }\r\n        }\r\n\r\n\r\n        jQuery( '.touching' ).off( 'touchmove' ).removeClass( 'touching' );\r\n\r\n    } );\r\n\r\n};\r\n\r\n})(Eventgallery, Eventgallery.jQuery);\r\n","(function(jQuery) {\r\n\r\n\r\n}(eventgallery.jQuery));\r\n","import Polyfill from \"./Polyfill\";\r\n\r\n/**\r\n * this class is the basic modal of Event Gallery.\r\n */\r\nexport default class Overlay {\r\n\r\n    constructor() {\r\n        this.myDiv = null;\r\n        this.background = null;\r\n        this.$body = jQuery('body');\r\n        this.onClosed = undefined;\r\n        this.onLoad = undefined;\r\n        this.repositionTimer = null;\r\n        this.windowWidth = 0;\r\n    }\r\n\r\n    /**\r\n     * opens an overlay. The content can be a url or content.\r\n     * Url start with http or /\r\n     *\r\n     * @param dataUrl\r\n     */\r\n    openOverlay(dataUrl) {\r\n\r\n        this.myDiv = jQuery('<div id=\"eventgallery-overlay\"><i class=\"egfa egfa-2x egfa-cog egfa-spin\"></i></div>');\r\n        this.background = jQuery('<div id=\"eventgallery-overlay-background\"></div>');\r\n        this.background[0].onclick = () => {this.closeOverlay()};\r\n\r\n        this.myDiv.css( {\r\n            'opacity': '1 !important',\r\n            'position': 'absolute',\r\n            'max-width' : '100%'\r\n        });\r\n\r\n        this.$body.append(this.background);\r\n        this.$body.append(this.myDiv);\r\n\r\n        this.reposition(true);\r\n\r\n        if (dataUrl.startsWith('http') || dataUrl.startsWith('/')) {\r\n            Overlay._getRemoteData(dataUrl, (data) => {\r\n                this._addContent(data);\r\n            })\r\n        } else {\r\n            this._addContent(`<button class=\"btn-close-overlay eventgallery-close-overlay\"><i class=\"egfa egfa-2x egfa-times-circle\"></i></button>` + dataUrl);\r\n        }\r\n\r\n\r\n        jQuery(window).on('resize.overlay', () => {\r\n            this._setRositionTimer(false);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * triggers a timeout for the repositioning. This will avoid too much flickering.\r\n     *\r\n     * @param force\r\n     * @private\r\n     */\r\n    _setRositionTimer(force) {\r\n        if (this.repositionTimer) {\r\n            clearTimeout(this.repositionTimer)\r\n        }\r\n        this.repositionTimer = setTimeout(() => this.reposition(force), 500);\r\n    }\r\n\r\n    static _getRemoteData(url, callback) {\r\n        jQuery.ajax({url: url}).done(callback);\r\n    }\r\n\r\n    /**\r\n     * moves the given content into the content overlay. Executes the onload method when finished.\r\n     *\r\n     * @param content\r\n     * @private\r\n     */\r\n    _addContent(content) {\r\n        this.myDiv.html(content);\r\n\r\n        let elements = this.myDiv[0].getElementsByClassName('eventgallery-close-overlay');\r\n        for(let i=0; i<elements.length;i++) {\r\n            elements[i].onclick = () => {this.closeOverlay()};\r\n        }\r\n\r\n        this.reposition(true);\r\n\r\n        if (this.onLoad !== undefined) {\r\n            this.onLoad();\r\n        }\r\n\r\n        document.dispatchEvent(Polyfill.createNewEvent('eventgallery-images-added'));\r\n    }\r\n\r\n    /**\r\n     * Closes the overlay and fires the onclose method if defined.\r\n     */\r\n    closeOverlay() {\r\n        jQuery(window).off('.overlay');\r\n        this.myDiv.fadeOut(150, () => {\r\n            jQuery(this.myDiv).remove();\r\n                this.background.fadeOut(200, () => {\r\n                    jQuery(this.background).remove();\r\n                    if (this.onClosed !== undefined) {\r\n                        this.onClosed();\r\n                    }\r\n            });\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Move the overlay to a good position.\r\n     *\r\n     * @param force defines if we force the reposition. If set to false, we do it only in case the width of the window changed.\r\n     */\r\n    reposition(force) {\r\n\r\n        if (this.repositionTimer !== null) {\r\n            clearTimeout(this.repositionTimer);\r\n        }\r\n\r\n        let maxWidth = jQuery(window).width();\r\n\r\n        if (!force) {\r\n            if (this.windowWidth === maxWidth) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        this.windowWidth = maxWidth;\r\n\r\n        this.myDiv.hide();\r\n\r\n        this.myDiv.css( {\r\n            'top': 0,\r\n            'left': 0\r\n        });\r\n\r\n        let maxHeight = jQuery(window).height(),\r\n            width = this.myDiv.outerWidth(),\r\n            height = this.myDiv.outerHeight(),\r\n            scrollTop = jQuery(window).scrollTop(),\r\n            left = 0,\r\n            top = scrollTop;\r\n\r\n        if (maxWidth-width>0) {\r\n            left = (maxWidth - width) / 2;\r\n        }\r\n\r\n        if (maxHeight - height > 0) {\r\n            top = scrollTop + (maxHeight - height) / 2;\r\n        }\r\n\r\n        this.myDiv.css( {\r\n            'top': top,\r\n            'left': left\r\n        });\r\n\r\n        this.myDiv.show();\r\n    };\r\n}\r\n","import PhotoSwipeGallerySlide from \"./PhotoSwipeGallerySlide.js\";\r\nimport PhotoSwipe from \"../../photoswipe/photoswipe\";\r\nimport PhotoSwipeUIDefault from \"../../photoswipe/photoswipe-ui-default.js\";\r\nimport Polyfill from \"./Polyfill\";\r\nimport Overlay from \"./Overlay\";\r\nimport SlideShow from \"./SlideShow\";\r\nimport {getParents} from \"../../common/js/Helpers\";\r\n\r\nconst PSWP_CONTROLS_MAIN_ELEMENT_CLASS = 'pswp';\r\nconst PSW_CONTROLS_SLIDESHOW_BUTTON_ELEMENT_CLASS = 'pswp__button--playpause';\r\nconst PSW_HIDE_CLASS = 'pswp_hide';\r\n\r\nconst PSWP_CONTROLS = `<div class=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n\t    \t<div class=\"pswp__bg\"></div>\r\n\t    \t<div class=\"pswp__scroll-wrap\">\r\n\t        <div class=\"pswp__container\">\r\n\t            <div class=\"pswp__item\"></div>\r\n\t            <div class=\"pswp__item\"></div>\r\n\t            <div class=\"pswp__item\"></div>\r\n\t        </div>\r\n\t        <div class=\"pswp__ui pswp__ui--hidden\">\r\n\t            <div class=\"pswp__top-bar\">\r\n\t                <div class=\"pswp__counter\"></div>\r\n\t                <button class=\"pswp__button pswp__button--close\" title=\"{{CLOSE}}\"></button>\r\n\t                <button class=\"pswp__button pswp__button--share\" title=\"{{SHARE}}\"></button>\r\n\t                <button class=\"pswp__button pswp__button--download\" title=\"{{DOWNLOAD}}\"></button>\r\n\t                <button class=\"pswp__button pswp__button--add2cart\" title=\"{{BUY}}\"></button>\r\n\t                <button class=\"pswp__button pswp__button--fs\" title=\"{{FULLSCREEN}}\"></button>\r\n\t                <button class=\"pswp__button pswp__button--playpause pswp_hide\" data-title-pause=\"{{PAUSESLIDESHOW}}\" data-title-play=\"{{PLAYSLIDESHOW}}\" title=\"{{PLAYSLIDESHOW}}\"></button>\r\n\t                <button class=\"pswp__button pswp__button--zoom\" title=\"{{ZOOM}}\"></button>\r\n\t                <div class=\"pswp__preloader\">\r\n\t                    <div class=\"pswp__preloader__icn\">\r\n\t                      <div class=\"pswp__preloader__cut\">\r\n\t                        <div class=\"pswp__preloader__donut\"></div>\r\n\t                      </div>\r\n\t                    </div>\r\n\t                </div>\r\n\t            </div>\r\n\t            <div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\">\r\n\t                <div class=\"pswp__share-tooltip\"></div> \r\n\t            </div>\r\n\t            <button class=\"pswp__button pswp__button--arrow--left\" title=\"{{PREVIOUS}}\">\r\n\t            </button>\r\n\t            <button class=\"pswp__button pswp__button--arrow--right\" title=\"{{NEXT}}\">\r\n\t            </button>\r\n\t            <div class=\"pswp__caption\">\r\n\t                <div class=\"pswp__caption__center\"></div>\r\n\t            </div>\r\n\t          </div>\r\n\t        </div>\r\n\t\t</div>`;\r\n\r\nexport default class PhotoSwipeGallery {\r\n\r\n    constructor() {\r\n        this._isOpen = false;\r\n        this._gallery = null;\r\n    }\r\n\r\n    /**\r\n     * Finds all thumbnail containers on the page\r\n     * @returns {NodeListOf<Element>}\r\n     */\r\n    static getThumbnailContainers() {\r\n        let thumbnailContainer = document.querySelectorAll( 'a[data-eg-lightbox]' );\r\n\r\n        // don't add images from the clone slides. They are not clickable but will add duplicates to the lightbox => #818\r\n        return Array.from(thumbnailContainer).filter((tc => {\r\n            let parents = getParents(tc);\r\n            let thumbnailContainerIsAllowed = true;\r\n            parents.forEach(parent => {\r\n                if (thumbnailContainerIsAllowed && parent.classList.contains('glide__slide--clone')) {\r\n                    thumbnailContainerIsAllowed = false;\r\n                }\r\n            });\r\n            return thumbnailContainerIsAllowed;\r\n        }))\r\n    }\r\n\r\n    static translate(input) {\r\n        let result = input;\r\n\r\n        if (window.EventGalleryLightboxConfiguration) {\r\n            result = result.replace('{{CLOSE}}', EventGalleryLightboxConfiguration.KEY_CLOSE);\r\n            result = result.replace('{{SHARE}}', EventGalleryLightboxConfiguration.KEY_SHARE);\r\n            result = result.replace('{{DOWNLOAD}}', EventGalleryLightboxConfiguration.KEY_DOWNLOAD);\r\n            result = result.replace('{{BUY}}', EventGalleryLightboxConfiguration.KEY_BUY);\r\n            result = result.replace('{{ZOOM}}', EventGalleryLightboxConfiguration.KEY_ZOOM);\r\n            result = result.replace('{{PREVIOUS}}', EventGalleryLightboxConfiguration.KEY_PREVIOUS);\r\n            result = result.replace('{{NEXT}}', EventGalleryLightboxConfiguration.KEY_NEXT);\r\n            result = result.replace('{{FULLSCREEN}}', EventGalleryLightboxConfiguration.KEY_FULLSCREEN);\r\n            result = result.replace('{{PLAYSLIDESHOW}}', EventGalleryLightboxConfiguration.KEY_PLAYSLIDESHOW);\r\n            result = result.replace('{{PAUSESLIDESHOW}}', EventGalleryLightboxConfiguration.KEY_PAUSESLIDESHOW);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * append the photoswipe controls to the body element. If there is already a control element, we delete it.\r\n     */\r\n    static appendControlls() {\r\n        let controllElements = document.getElementsByClassName(PSWP_CONTROLS_MAIN_ELEMENT_CLASS);\r\n        for(let i=0;i<controllElements.length; i++) {\r\n            Polyfill.removeHtmlElementNode(controllElements[i]);\r\n        }\r\n        let div = document.createElement('div');\r\n        div.innerHTML = PhotoSwipeGallery.translate(PSWP_CONTROLS);\r\n        document.getElementsByTagName('body')[0].appendChild(div);\r\n    }\r\n\r\n    static closest(el, fn) {\r\n        return el && ( fn(el) ? el : PhotoSwipeGallery.closest(el.parentNode, fn) );\r\n    };\r\n\r\n    static parseHash() {\r\n        return PhotoSwipeGallery._parseHashString(window.location.hash.substring(1));\r\n    }\r\n\r\n    /**\r\n     * splits a hash value into its elements. returns an empty object if there is nothing in\r\n     */\r\n    static _parseHashString(hash) {\r\n        let params = {};\r\n\r\n        if(hash.length < 5) {\r\n            return params;\r\n        }\r\n\r\n        let vars = hash.split('&');\r\n        for (let i = 0; i < vars.length; i++) {\r\n            if(!vars[i]) {\r\n                continue;\r\n            }\r\n            let pair = vars[i].split('=');\r\n            if(pair.length < 2) {\r\n                continue;\r\n            }\r\n            params[pair[0]] = pair[1];\r\n        }\r\n\r\n        return params;\r\n    };\r\n\r\n    /**\r\n     *\r\n     * @param thumbnailContainer Node\r\n     * @returns PhotoSwipeGallerySlide\r\n     */\r\n    static parseThumbnailElement(thumbnailContainer) {\r\n        let item,\r\n            imgEl,\r\n            height,\r\n            width,\r\n            pid,\r\n            gid;\r\n\r\n        // include only element nodes\r\n        if(thumbnailContainer.nodeType !== 1) {\r\n            return null;\r\n        }\r\n\r\n        imgEl = thumbnailContainer.getElementsByTagName('IMG')[0];\r\n\r\n        if (imgEl === undefined) {\r\n            return null;\r\n        }\r\n\r\n        height = thumbnailContainer.getAttribute('data-height');\r\n        width = thumbnailContainer.getAttribute('data-width');\r\n        pid = thumbnailContainer.getAttribute('data-pid');\r\n        gid = thumbnailContainer.getAttribute('data-gid');\r\n\r\n        if (height === null || width === null || pid === null) {\r\n            return null;\r\n        }\r\n\r\n        // create slide object\r\n        item = new PhotoSwipeGallerySlide();\r\n        item.src = thumbnailContainer.getAttribute('href');\r\n        item.w = parseInt(width, 10);\r\n        item.h = parseInt(height, 10);\r\n\r\n        item.title = decodeURIComponent(thumbnailContainer.getAttribute('data-title'));\r\n\r\n        item.pid = parseInt(pid, 10);\r\n\r\n        item.gid = gid;\r\n\r\n        item.thumbnailContainer = thumbnailContainer; // save link to element for getThumbBoundsFn\r\n\r\n        return item;\r\n    };\r\n\r\n\r\n\r\n    /**\r\n     * searches the galleries for a thumbnail container and returns the\r\n     * Slide object\r\n     *\r\n     * @param thumbnailContainer\r\n     * @returns PhotoSwipeGallerySlide\r\n     */\r\n    getSlideBy(thumbnailContainer) {\r\n        let galleries = this.getGalleries();\r\n\r\n        for(let gallery of galleries.values()) {\r\n            for (let i = 0, l = gallery.length; i < l; i++) {\r\n                if (gallery[i].thumbnailContainer === thumbnailContainer) {\r\n                    return gallery[i];\r\n                }\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     * @param slide PhotoSwipeGallerySlide\r\n     * @returns {*|number}\r\n     */\r\n    getIndexOfSlide(slide) {\r\n        let slides = this.getGalleries().get(slide.gid);\r\n        return slides.map(function(e) { return e.hash(); }).indexOf(slide.hash());\r\n    }\r\n\r\n    /**\r\n     * Parses all elements on the page so we know which triggers for a lightbox exist.\r\n     * Returns a mal containing the gallery and all elements\r\n     * @returns {Map<String, Array>}\r\n     */\r\n    getGalleries() {\r\n        let galleries = new Map(),\r\n            thumbnails = PhotoSwipeGallery.getThumbnailContainers();\r\n\r\n        for(let i=0; i<thumbnails.length; i++) {\r\n            let thumbnailContainer = thumbnails[i];\r\n            let gallery;\r\n\r\n            let item = PhotoSwipeGallery.parseThumbnailElement(thumbnailContainer);\r\n            if (item !== null) {\r\n                if (galleries.get(item.gid) === undefined) {\r\n                    galleries.set(item.gid, []);\r\n                }\r\n                gallery = galleries.get(item.gid);\r\n                gallery.push(item);\r\n                galleries.set(item.gid, gallery);\r\n            }\r\n        }\r\n\r\n        return galleries;\r\n    }\r\n\r\n    onThumbnailsClick(e) {\r\n        e = e || window.event;\r\n        e.preventDefault ? e.preventDefault() : e.returnValue = false;\r\n\r\n        let eTarget = e.target || e.srcElement;\r\n\r\n        // leave the icons for cart&sharing alone\r\n        let iconContainer = PhotoSwipeGallery.closest(eTarget, function(el) {\r\n            return (el.classList && el.classList.contains('eventgallery-icon-container'));\r\n        });\r\n        if (iconContainer !== null) {\r\n            return;\r\n        }\r\n\r\n        // find root element of slide\r\n        let clickedListItem = PhotoSwipeGallery.closest(eTarget, function(el) {\r\n            return (el.tagName && el.tagName.toUpperCase() === 'A');\r\n        });\r\n\r\n        if(!clickedListItem) {\r\n            return;\r\n        }\r\n\r\n        let slide = this.getSlideBy(clickedListItem);\r\n        let index = this.getIndexOfSlide(slide);\r\n        let slides = this.getGalleries().get(slide.gid);\r\n\r\n        if(index >= 0) {\r\n            // open PhotoSwipe if valid index found\r\n            this.openPhotoSwipe( index, slides );\r\n        }\r\n        return false;\r\n    };\r\n\r\n    /**\r\n     *\r\n     * @param index\r\n     * @param slides\r\n     * @param disableAnimation\r\n     * @param fromURL\r\n     */\r\n    openPhotoSwipe(index, slides, disableAnimation, fromURL) {\r\n        let pswpElement = document.querySelectorAll('.pswp')[0],\r\n            options;\r\n\r\n        if (slides === undefined || slides.length === 0 ) {\r\n            return;\r\n        }\r\n\r\n        // define options (if needed)\r\n        options = {\r\n            galleryPIDs:true,\r\n\r\n            // define gallery index (for URL)\r\n            galleryUID: slides[0].gid,\r\n\r\n            shareEl: slides[0].thumbnailContainer ? slides[0].thumbnailContainer.getElementsByClassName('social-share-button').length>0 : false,\r\n\r\n            downloadEl : slides[0].thumbnailContainer ? slides[0].thumbnailContainer.getElementsByClassName('eg-download').length>0 : false,\r\n\r\n            add2cartEl: slides[0].thumbnailContainer ? slides[0].thumbnailContainer.getElementsByClassName('eventgallery-add2cart').length>0 : false,\r\n\r\n            getThumbBoundsFn: disableAnimation? null: function(index) {\r\n                // See Options -> getThumbBoundsFn section of documentation for more info\r\n                let slide = slides[index],\r\n                    thumbnail = slide.thumbnailContainer.getElementsByTagName('img')[0], // find thumbnail\r\n                    pageYScroll = window.pageYOffset || document.documentElement.scrollTop,\r\n                    rect = thumbnail.getBoundingClientRect();\r\n\r\n                let w = rect.width,\r\n                    h = rect.height,\r\n                    x,\r\n                    y,\r\n                    ratio = slide.w/slide.h;\r\n\r\n                if (slide.h > slide.w) {\r\n                    x = rect.left;\r\n                    y = rect.top - Math.ceil( ((w / ratio)-h) / 2) + pageYScroll;\r\n                } else {\r\n                    x = rect.left - Math.ceil( ((h * ratio)-w) / 2  );\r\n                    y = rect.top + pageYScroll;\r\n                    w = Math.ceil(h * ratio);\r\n                }\r\n                return {x, y, w};\r\n            },\r\n            overlayClass : Overlay\r\n\r\n\r\n\r\n        };\r\n\r\n        // disable close gestures to avoid trouble with the add2cart dialog.\r\n        options.pinchToClose = !options.add2cartEl;\r\n        options.closeOnVerticalDrag = !options.add2cartEl;\r\n        options.closeOnScroll = !options.add2cartEl;\r\n\r\n        if (window.EventGalleryLightboxConfiguration) {\r\n            if (parseInt(window.EventGalleryLightboxConfiguration.navigationFadeDelay) > 0) {\r\n                options.timeToIdle = parseInt(window.EventGalleryLightboxConfiguration.navigationFadeDelay);\r\n                options.timeToIdleOutside = parseInt(window.EventGalleryLightboxConfiguration.navigationFadeDelay);\r\n            }\r\n        }\r\n\r\n        // PhotoSwipe opened from URL\r\n        if(fromURL) {\r\n            if(options.galleryPIDs) {\r\n                index = parseInt(index, 10);\r\n                // parse real index when custom PIDs are used\r\n                // http://photoswipe.com/documentation/faq.html#custom-pid-in-url\r\n                for(let j = 0; j < slides.length; j++) {\r\n                    if(slides[j].pid === index) {\r\n                        options.index = j;\r\n                        break;\r\n                    }\r\n                }\r\n            } else {\r\n                // in URL indexes start from 1\r\n                options.index = parseInt(index, 10) - 1;\r\n            }\r\n        } else {\r\n            options.index = parseInt(index, 10);\r\n        }\r\n\r\n        // exit if index not found\r\n        if( isNaN(options.index) ) {\r\n            return;\r\n        }\r\n\r\n        if(disableAnimation) {\r\n            options.showAnimationDuration = 0;\r\n        }\r\n\r\n        // Pass data to PhotoSwipe and initialize it\r\n        this._gallery = new PhotoSwipe( pswpElement, PhotoSwipeUIDefault, slides, options);\r\n        this._gallery.init();\r\n\r\n        this.initSlideShow();\r\n\r\n        this._isOpen = true;\r\n        this._gallery.listen('close', () => {\r\n            return this._isOpen = false;\r\n        });\r\n\r\n        this._gallery.listen('afterChange', () => {\r\n            document.dispatchEvent(Polyfill.createNewEvent('eventgallery-lightbox-changed'));\r\n        });\r\n\r\n        document.dispatchEvent(Polyfill.createNewEvent('eventgallery-lightbox-opened'));\r\n    };\r\n\r\n    initPhotoSwipe() {\r\n        PhotoSwipeGallery.appendControlls();\r\n\r\n        this._registerClickEvents();\r\n\r\n        // Parse URL and open gallery if it contains #&pid=3&gid=1\r\n        let hashData = PhotoSwipeGallery.parseHash();\r\n        if(hashData.pid && hashData.gid) {\r\n            this.openPhotoSwipe( hashData.pid ,  this.getGalleries().get(hashData.gid), true, true );\r\n        }\r\n    };\r\n\r\n    _registerClickEvents() {\r\n        // loop through all gallery elements and bind events\r\n        let galleries = this.getGalleries();\r\n\r\n        for(let gallery of galleries.values()) {\r\n            for (let i = 0, l = gallery.length; i < l; i++) {\r\n                gallery[i].thumbnailContainer.onclick = (e) => {this.onThumbnailsClick(e)};\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * grabs the current slide from the lightbox\r\n     * @returns PhotoSwipeGallerySlide\r\n     */\r\n    getCurrentSlide() {\r\n        return this._gallery.currItem;\r\n    }\r\n\r\n    /**\r\n     * Returns the index if the current item in the lightbox\r\n     *\r\n     * @returns {int}\r\n     */\r\n    getCurrentIndex() {\r\n        return this._gallery.getCurrentIndex();\r\n    }\r\n\r\n    /**\r\n     * reinitiate the lightbox. Register the click events for existing and new elements.\r\n     */\r\n    reload() {\r\n        this._registerClickEvents();\r\n    }\r\n\r\n    /**\r\n     * reports back if the lightbox is currently open\r\n     * @returns {boolean}\r\n     */\r\n    isOpen() {\r\n        return this._isOpen;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param afterChangeFunction\r\n     */\r\n    setAfterChangeEventListener(afterChangeFunction) {\r\n        this._gallery.listen('afterChange', afterChangeFunction);\r\n    }\r\n\r\n    /**\r\n     * jump to a specific slide.\r\n     * @param index\r\n     */\r\n    gotoSlide(index) {\r\n        this._gallery.goTo(index);\r\n    }\r\n\r\n    /**\r\n     * Adds a slide to the slide deck of the current _gallery\r\n     * @param slide PhotoSwipeGallerySlide\r\n     */\r\n    pushSlide(slide) {\r\n        this._gallery.items.push(slide);\r\n    }\r\n\r\n    /**\r\n     * removes a slide from the slide deck of the current _gallery\r\n     * @returns {PhotoSwipeGallerySlide}\r\n     */\r\n    popSlide() {\r\n        return this._gallery.items.pop();\r\n    }\r\n\r\n    /**\r\n     * reloads a slide after a modification\r\n     */\r\n    reloadSlide() {\r\n        this._gallery.invalidateCurrItems();\r\n        this._gallery.updateSize(true);\r\n    }\r\n\r\n    /**\r\n     * switch to the next slide\r\n     */\r\n    nextSlide() {\r\n        this._gallery.next();\r\n    }\r\n\r\n    /**\r\n     * Fire up the slide show stuff\r\n     */\r\n    initSlideShow() {\r\n        if (!window.EventGalleryLightboxConfiguration) {\r\n            return;\r\n        }\r\n\r\n        if (!window.EventGalleryLightboxConfiguration.doUseSlideshow) {\r\n\r\n            return;\r\n        }\r\n\r\n        document.getElementsByClassName(PSW_CONTROLS_SLIDESHOW_BUTTON_ELEMENT_CLASS)[0].classList.remove(PSW_HIDE_CLASS);\r\n\r\n        let slideShow = new SlideShow(this);\r\n        slideShow.setDelay(window.EventGalleryLightboxConfiguration.slideshowSpeed);\r\n\r\n        if (window.EventGalleryLightboxConfiguration.doUseAutoplay) {\r\n            slideShow.toggleSlideShowState();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * make the listen function of PhotoSwipe available\r\n     *\r\n     * @param eventName\r\n     * @param fn\r\n     */\r\n    listen(eventName, fn) {\r\n        this._gallery.listen(eventName, fn);\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n/* override handling of Esc key to stop slideshow on first esc (note Esc to leave fullscreen never gets here) */\r\n\r\n/*$(document).keydown(function(e) {\r\n    if (e.altKey || e.ctrlKey || e.shiftKey || e.metaKey) return;\r\n    if ((e.key === \"Escape\" || e.which == 27 ) && !!lightBox) {\r\n        if (e.preventDefault)  e.preventDefault();\r\n        else  e.returnValue = false;\r\n        if (ssRunning) {\r\n            setSlideshowState(ssButtonClass, false);\r\n        } else {\r\n            lightBox.close();\r\n        }\r\n    }\r\n});\r\n*/\r\n","\r\nexport default class PhotoSwipeGallerySlide {\r\n    constructor() {\r\n        this.w = 0;\r\n        this.h = 0;\r\n        this.src = '';\r\n        this.title = '';\r\n        this.pid = '';\r\n        this.gid = '';\r\n        this.thumbnailContainer = null;\r\n        this.msrc= '';\r\n    }\r\n\r\n    hash() {\r\n        return this.gid + this.src;\r\n    }\r\n}\r\n","export default class Polyfill {\r\n    static removeHtmlElementNode(element:any) {\r\n            if (element.parentNode !== null)\r\n                element.parentNode.removeChild(element);\r\n    }\r\n\r\n    static createNewEvent(eventName:string, data:any) {\r\n        let event = null;\r\n\r\n        if(typeof(CustomEvent) === 'function') {\r\n            event = new CustomEvent(eventName, {detail: data});\r\n        }else{\r\n            event = document.createEvent('Event');\r\n            event.initEvent(eventName, true, true);\r\n            // @ts-ignore\r\n            event.detail = data;\r\n        }\r\n        return event;\r\n    }\r\n}\r\n","import PhotoSwipeGallery from \"./PhotoSwipeGallery\";\r\n\r\n/**\r\n * Builds a slide show on top of PhotoSwipe.\r\n */\r\nexport default class SlideShow {\r\n\r\n    /**\r\n     *\r\n     * @param photoSwipeGallery PhotoSwipeGallery\r\n     */\r\n    constructor(photoSwipeGallery) {\r\n        this._photoSwipeGallery = photoSwipeGallery;\r\n        this._SlideShow_Running = false;\r\n        this._currentTimer = null;\r\n        this._SlideShow_Delay = 2000 /*ms*/;\r\n        this._SlideShow_Button = document.getElementsByClassName('pswp__button--playpause')[0];\r\n\r\n        let interactionHandler = (e) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            return this.toggleSlideShowState();\r\n        };\r\n\r\n        // take care about both click and touch.\r\n        this._SlideShow_Button.onclick = interactionHandler;\r\n        this._SlideShow_Button.ontouchstart = interactionHandler;\r\n\r\n        this._photoSwipeGallery.listen('afterChange', () => {\r\n            this._planNextSwitch(false);\r\n        });\r\n\r\n        this._photoSwipeGallery.listen('destroy', () => this._photoSwipeGallery=null);\r\n\r\n        this._photoSwipeGallery.listen('userInteractionHappened', () => this._stopSlideshow());\r\n        this._photoSwipeGallery.listen('mainScrollAnimStart', () => this._stopSlideshow());\r\n\r\n\r\n        this._adjustNavigation();\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param delay int\r\n     */\r\n    setDelay(delay) {\r\n        this._SlideShow_Delay = delay;\r\n    }\r\n\r\n    /**\r\n     * switches the slide show on/off depending on the current state\r\n     */\r\n    toggleSlideShowState() {\r\n\r\n        if (this._SlideShow_Running) {\r\n            this._stopSlideshow();\r\n        } else {\r\n            this._startSlideshow();\r\n        }\r\n    }\r\n\r\n    _stopSlideshow() {\r\n        this._SlideShow_Running = false;\r\n        this._adjustNavigation();\r\n    }\r\n\r\n    _startSlideshow() {\r\n        this._SlideShow_Running = true;\r\n        this._planNextSwitch(true);\r\n        this._adjustNavigation();\r\n    }\r\n\r\n    /**\r\n     * make sure the navigation displays the current slide show state.\r\n     */\r\n    _adjustNavigation() {\r\n        this._SlideShow_Button.classList.remove(this._SlideShow_Running ? \"play\" : \"pause\");\r\n        this._SlideShow_Button.classList.add(this._SlideShow_Running ? \"pause\" : \"play\");\r\n        this._SlideShow_Button.setAttribute('title', this._SlideShow_Running ? this._SlideShow_Button.getAttribute('data-title-pause'): this._SlideShow_Button.getAttribute('data-title-play'));\r\n    }\r\n\r\n    /**\r\n     * create the timeout for the next switch.\r\n     *\r\n     * @param isForTheFirstSwitch Boolean changes the switch time so the first switch can be faster\r\n     */\r\n    _planNextSwitch(isForTheFirstSwitch)  {\r\n        clearTimeout(this._currentTimer);\r\n        this._currentTimer = setTimeout(() => this._nextSlide(), isForTheFirstSwitch ? this._SlideShow_Delay / 2.0 :this._SlideShow_Delay);\r\n    }\r\n\r\n    /**\r\n     * change to the next slide\r\n     */\r\n    _nextSlide() {\r\n        if (this._photoSwipeGallery === null) {\r\n            return;\r\n        }\r\n\r\n        if (!this._SlideShow_Running) {\r\n            return;\r\n        }\r\n\r\n        this._photoSwipeGallery.nextSlide();\r\n    }\r\n}","export default class URLHelper {\r\n\r\n    constructor() {\r\n    }\r\n\r\n    /**\r\n     * splits a URL parameter like foo=bar&1=2 into a parameter map\r\n     *\r\n     * @param urlParameterString\r\n     * @returns {Map<any, any>}\r\n     */\r\n    static parseURLParameter(urlParameterString) {\r\n        let pairs = urlParameterString.split('&');\r\n        let parameters = new Map();\r\n\r\n        pairs.forEach(pair => {\r\n            let splittedPair = pair.split('=');\r\n            if (splittedPair.length === 2) {\r\n                parameters.set(splittedPair[0], splittedPair[1]);\r\n            }\r\n        });\r\n\r\n        return parameters;\r\n    }\r\n\r\n    /**\r\n     * returns a map of the query string of an full url\r\n     *\r\n     * @param urlSring\r\n     * @returns {URLSearchParams}\r\n     */\r\n    static getParameters(urlSring) {\r\n        let parts = urlSring.split('?');\r\n        if (parts.length < 2) {\r\n            return new Map();\r\n        }\r\n        let queryParts = parts[1].split('#');\r\n        return URLHelper.parseURLParameter(queryParts[0]);\r\n    }\r\n\r\n    /**\r\n     * returns the url from strings like \"url ('foobar.jpg')\"\r\n     *\r\n     * @param urlString\r\n     * @returns {*}\r\n     */\r\n    static extractBackgroudUrl(urlString) {\r\n        return urlString.replace(/(url\\(|\\)|\"|')/g, '');\r\n    }\r\n};\r\n\r\n\r\n","import EventsHandler from \"../utils/eventshandler\";\r\n\r\nexport default function (Glide, Components, Events) {\r\n    /**\r\n     * Instance of the binder for DOM Events.\r\n     *\r\n     * @type {EventsHandler}\r\n     */\r\n    const Binder = new EventsHandler();\r\n\r\n    /**\r\n     * Holds preventing status of anchors.\r\n     * If `true` redirection after click will be disabled.\r\n     *\r\n     * @private\r\n     * @type {Boolean}\r\n     */\r\n    let prevented = false;\r\n\r\n    let isSwiping = false;\r\n\r\n    const Anchors = {\r\n        /**\r\n         * Setups a initial state of anchors component.\r\n         *\r\n         */\r\n        mount () {\r\n            /**\r\n             * Holds collection of anchors elements.\r\n             *\r\n             * @private\r\n             * @type {HTMLCollection}\r\n             */\r\n            this._a = Components.Html.wrapper.querySelectorAll('a,span,img');\r\n\r\n            this.bind();\r\n            isSwiping = false;\r\n        },\r\n\r\n        /**\r\n         * Binds events to anchors inside a track.\r\n         *\r\n         */\r\n        bind () {\r\n            Binder.on('click', Components.Html.wrapper, this.click, true)\r\n        },\r\n\r\n        /**\r\n         * Unbinds events attached to anchors inside a track.\r\n         *\r\n         */\r\n        unbind () {\r\n            Binder.off('click', Components.Html.wrapper)\r\n        },\r\n\r\n        /**\r\n         * Handler for click event. Prevents clicks when glide is in `prevent` status.\r\n         *\r\n         * @param  {Object} event\r\n         */\r\n        click (event) {\r\n            if (prevented) {\r\n                event.stopPropagation();\r\n                event.preventDefault()\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Detaches anchors click event inside glide.\r\n         *\r\n         * @return {self}\r\n         */\r\n        detach () {\r\n            prevented = true;\r\n\r\n            return this\r\n        },\r\n\r\n        /**\r\n         * Attaches anchors click events inside glide.\r\n         *\r\n         * @return {self}\r\n         */\r\n        attach () {\r\n            prevented = false;\r\n\r\n            return this\r\n        }\r\n    };\r\n\r\n    Object.defineProperty(Anchors, 'items', {\r\n        /**\r\n         * Gets collection of the arrows HTML elements.\r\n         *\r\n         * @return {HTMLElement[]}\r\n         */\r\n        get () {\r\n            return Anchors._a\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Detach anchors inside slides:\r\n     * - on swiping, so they won't redirect to its `href` attributes\r\n     */\r\n    Events.on('swipe.move', () => {\r\n        Anchors.detach();\r\n    });\r\n\r\n    /**\r\n     * Attach anchors inside slides:\r\n     * - after swiping and transitions ends, so they can redirect after click again\r\n     */\r\n    Events.on('swipe.end', () => {\r\n        Components.Transition.after(() => {\r\n            Anchors.attach()\r\n        });\r\n    });\r\n\r\n    /**\r\n     * Unbind anchors inside slides:\r\n     * - on destroying, to bring anchors to its initial state\r\n     */\r\n    Events.on('destroy', () => {\r\n        Anchors.attach();\r\n        Anchors.unbind();\r\n        Binder.destroy()\r\n    });\r\n\r\n    return Anchors\r\n}\r\n","import CamelCaseConverter from \"../utils/camelCaseConverter\";\r\n\r\nconst prefix = \"data-slider-\";\r\n\r\nexport default class SliderOptions {\r\n\r\n    constructor(element) {\r\n        this.element = element;\r\n        this.options = Object.assign({\r\n            autoplay: false,\r\n            slidesElementsSelector: '',\r\n            numberOfRowsPerSlide: 1,\r\n            showNav: 'true',\r\n        }, SliderOptions._parseOptions(element));\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     * @param element HTMLElement\r\n     * @private\r\n     */\r\n    static _parseOptions(element) {\r\n        let options = {};\r\n\r\n        let attributes = element.attributes;\r\n        for (let i =0; i< attributes.length; i++) {\r\n            if (attributes[i].name.indexOf(prefix) === 0) {\r\n                options[CamelCaseConverter.toCamelCase(attributes[i].name.replace(prefix,''))] = attributes[i].value;\r\n            }\r\n        }\r\n\r\n        return options;\r\n    }\r\n\r\n    getAutoPlay() {\r\n\r\n        if (this.options.autoplay === false) {\r\n            return false;\r\n        }\r\n        return parseInt(this.options.autoplay);\r\n    }\r\n\r\n    getSlidesElementsSelector() {\r\n        return this.options.slidesElementsSelector;\r\n    }\r\n\r\n    doShowNav() {\r\n        return this.options.showNav === 'true';\r\n    }\r\n\r\n    getNumberOfRowsPerSlide() {\r\n        return parseInt(this.options.numberOfRowsPerSlide);\r\n    }\r\n}\r\n","import Anchor from \"../glide_modules/anchor\"\r\nimport Glide, { Controls, Breakpoints, Swipe, Autoplay, Images  } from '@glidejs/glide/dist/glide.modular.esm'\r\nimport SliderTransformator from \"./SliderTransformator\";\r\nimport SliderOptions from \"./SliderOptions\";\r\nimport ElementSize from \"../utils/ElementSize\";\r\n\r\nexport default class SliderStarter {\r\n\r\n    constructor(sourceGroupElement) {\r\n        this.sourceGroupElement = sourceGroupElement;\r\n        this.sliderTransformator = null;\r\n    }\r\n\r\n    start() {\r\n\r\n        this.sliderOptions = SliderStarter._loadOptions(this.sourceGroupElement);\r\n\r\n        let sourceElementSelector = this.sliderOptions.getSlidesElementsSelector();\r\n        let autoplay = this.sliderOptions.getAutoPlay();\r\n        let doShowNav = this.sliderOptions.doShowNav();\r\n        let numberOfItemsPerSlide = ElementSize.calclateNumberOfFittingItemsPerSlide(this.sourceGroupElement, this.sourceGroupElement.querySelector(sourceElementSelector), this.sliderOptions.getNumberOfRowsPerSlide());\r\n\r\n        if (null == this.sliderTransformator) {\r\n            this.sliderTransformator = new SliderTransformator(this.sourceGroupElement, sourceElementSelector, doShowNav);\r\n        }\r\n        let rootElement = this.sliderTransformator.transform(numberOfItemsPerSlide);\r\n\r\n        if (rootElement === null) {\r\n            return;\r\n        }\r\n\r\n        let lazyLoadOptions = {container: jQuery(rootElement)};\r\n        new Eventgallery.Lazyload(lazyLoadOptions);\r\n\r\n        let glide = new Glide(rootElement, {\r\n            type: 'carousel',\r\n            perView: 1,\r\n            gap: 15,\r\n            keyboard: false,\r\n            autoplay: autoplay\r\n        });\r\n\r\n        glide.mount({ Swipe, Controls, Breakpoints, Autoplay, Anchor, Images  });\r\n\r\n    }\r\n\r\n    static _loadOptions(element) {\r\n        return new SliderOptions(element);\r\n    }\r\n\r\n\r\n}\r\n","import Polyfill from \"../Polyfill\";\r\n\r\nconst sliderRootSelector = '.glide';\r\nconst sliderGroupSelector = '.glide__slides';\r\nconst basicMarkup = `\r\n<div class=\"glide\">\r\n    <div class=\"glide__track\" data-glide-el=\"track\">\r\n        <ul class=\"glide__slides\">            \r\n        </ul>\r\n    </div>\r\n    <div class=\"glide__arrows\" data-glide-el=\"controls\">\r\n        <button class=\"glide__arrow glide__arrow--left\" data-glide-dir=\"<\">prev</button>\r\n        <button class=\"glide__arrow glide__arrow--right\" data-glide-dir=\">\">next</button>\r\n    </div>\r\n</div>`;\r\n\r\nexport default class SliderTransformator {\r\n\r\n    constructor(sourceGroupElement, sourceElementSelector, doShowNav) {\r\n        this.elementSelector = sourceElementSelector;\r\n        this.sourceGroupElement = sourceGroupElement;\r\n        this.doShowNav = doShowNav;\r\n        this.sourceElements = this.getSourceElements();\r\n    }\r\n\r\n    getSourceElements() {\r\n        if (this.sourceGroupElement === null) {\r\n            return null;\r\n        }\r\n        return this.sourceGroupElement.querySelectorAll(this.elementSelector);\r\n    }\r\n\r\n    transform(numberOfItemsPerSlide) {\r\n        if (this.sourceGroupElement === null || this.sourceElements === null) {\r\n            return null;\r\n        }\r\n\r\n        if (this.sourceElements.length === 0) {\r\n            return null;\r\n        }\r\n        // cleanup\r\n        let sliderRoot = this.sourceGroupElement.querySelector(sliderRootSelector);\r\n\r\n        if (sliderRoot !== null) {\r\n            sliderRoot.remove();\r\n        }\r\n        // transformation\r\n\r\n        let sliderMarkup = document.createRange().createContextualFragment(basicMarkup);\r\n        if (!this.doShowNav) {\r\n\r\n            let controlElement = sliderMarkup.querySelector('.glide__arrows');\r\n\r\n            Polyfill.removeHtmlElementNode(controlElement);\r\n        }\r\n        let sliderGroupElement = sliderMarkup.querySelector(sliderGroupSelector);\r\n        let currentSliderElement = null;\r\n\r\n        for(let index=0; index<this.sourceElements.length; index++) {\r\n            let element = this.sourceElements[index];\r\n            if (index % numberOfItemsPerSlide === 0) {\r\n                currentSliderElement = document.createElement('li');\r\n                currentSliderElement.className = 'glide__slide';\r\n                sliderGroupElement.appendChild(currentSliderElement);\r\n            }\r\n            currentSliderElement.appendChild(element);\r\n        }\r\n\r\n        this.sourceGroupElement.appendChild(sliderMarkup);\r\n\r\n        return this.sourceGroupElement.querySelector(sliderRootSelector);\r\n\r\n    }\r\n\r\n}\r\n","export default class ElementSize {\r\n    /**\r\n     *\r\n     * @param element\r\n     * @returns float\r\n     */\r\n    static getOuterWidth(element) {\r\n        var domRect = element.getBoundingClientRect();\r\n        let computedStyle = getComputedStyle(element);\r\n        let marginLeft = parseFloat(computedStyle.marginLeft);\r\n        let marginRight = parseFloat(computedStyle.marginRight);\r\n        return domRect.width + marginLeft + marginRight;\r\n    }\r\n\r\n    /**\r\n     * Tries to find out, how many elements we can fit into the container so\r\n     * they do not wrap.\r\n     *\r\n     * @param containerElement\r\n     * @param element\r\n     * @param numberOfRows\r\n     * @returns {number}\r\n     */\r\n    static calclateNumberOfFittingItemsPerSlide(containerElement, element, numberOfRows) {\r\n\r\n        if (null == element || containerElement == null) {\r\n            return 1;\r\n        }\r\n\r\n        var domRect = containerElement.getBoundingClientRect();\r\n        let numberOfItemsPerSlide = Math.floor(domRect.width / ElementSize.getOuterWidth(element)) * numberOfRows;\r\n\r\n\r\n        if (numberOfItemsPerSlide < 1) {\r\n            numberOfItemsPerSlide = 1 * numberOfRows;\r\n        }\r\n\r\n        return numberOfItemsPerSlide;\r\n    }\r\n}\r\n","export default class CamelCaseConverter {\r\n\r\n    static toCamelCase(str) {\r\n        return str.replace(/-([a-z])/g, function (m, w) {\r\n            return w.toUpperCase();\r\n        });\r\n    }\r\n}\r\n","import {isString, isArray, isNodeList} from \"./units\";\r\n\r\nexport default class EventsHandler {\r\n    /**\r\n     * Construct a EventsHandler instance.\r\n     */\r\n    constructor (listeners = {}) {\r\n        this.listeners = listeners;\r\n    }\r\n\r\n    /**\r\n     * Adds events listeners to arrows HTML elements.\r\n     *\r\n     * @param  {String|Array} events\r\n     * @param  {NodeList|Element|Window|Document} el\r\n     * @param  {Function} closure\r\n     * @param  {boolean} capture\r\n     */\r\n    on (events, el, closure, capture = false) {\r\n        if (isString(events)) {\r\n            events = [events]\r\n        }\r\n\r\n        if (!isNodeList(el) && !isArray(el)) {\r\n            el = [el];\r\n        }\r\n\r\n        events.forEach((event)=> {\r\n            this.listeners[event] = {'closure': closure, 'capture': capture};\r\n\r\n            for (let i=0; i<el.length;i++) {\r\n                el[i].addEventListener(event, this.listeners[event].closure, this.listeners[event].capture)\r\n            }\r\n\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Removes event listeners from arrows HTML elements.\r\n     *\r\n     * @param  {String|Array} events\r\n     * @param  {NodeList|Element|Window|Document} el\r\n     */\r\n    off (events, el) {\r\n        if (isString(events)) {\r\n            events = [events]\r\n        }\r\n\r\n        if (!isNodeList(el) && !isArray(el)) {\r\n            el = [el];\r\n        }\r\n\r\n        events.forEach((event) => {\r\n            for (let i=0; i<el.length;i++) {\r\n                let listener = this.listeners[event];\r\n                if (listener === undefined) {\r\n                    continue;\r\n                }\r\n                el[i].removeEventListener(event, listener.closure, listener.capture)\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Destroy collected listeners.\r\n     *\r\n     */\r\n    destroy () {\r\n        delete this.listeners\r\n    }\r\n}\r\n","\r\n/**\r\n * Indicates whether the specified value is a string.\r\n *\r\n * @param  {*}   value\r\n * @return {Boolean}\r\n */\r\nexport function isString (value) {\r\n    return typeof value === 'string'\r\n}\r\n\r\nexport function isArray(value) {\r\n    return Array.isArray(value);\r\n}\r\n\r\nexport function isNodeList(value) {\r\n    return NodeList.prototype.isPrototypeOf(value);\r\n}\r\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n/**\n*\n* UI on top of main sliding area (caption, arrows, close button, etc.).\n* Built just using public methods/properties of PhotoSwipe.\n* \n*/\nexport default function(pswp, framework) {\n\n\tvar ui = this;\n\tvar _overlayUIUpdated = false,\n\t\t_controlsVisible = true,\n\t\t_fullscrenAPI,\n\t\t_controls,\n\t\t_captionContainer,\n\t\t_fakeCaptionContainer,\n\t\t_indexIndicator,\n\t\t_shareButton,\n\t\t_shareModal,\n\t\t_add2cartButton,\n\t\t_add2cartOverlay,\n\t\t_shareModalHidden = true,\n        _add2cartModalHidden = true,\n\t\t_initalCloseOnScrollValue,\n\t\t_isIdle,\n\t\t_listen,\n\n\t\t_loadingIndicator,\n\t\t_loadingIndicatorHidden,\n\t\t_loadingIndicatorTimeout,\n\n\t\t_galleryHasOneSlide,\n\n\t\t_options,\n\t\t_defaultUIOptions = {\n\t\t\tbarsSize: {top:44, bottom:'auto'},\n\t\t\tcloseElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'], \n\t\t\ttimeToIdle: 4000, \n\t\t\ttimeToIdleOutside: 1000,\n\t\t\tloadingIndicatorDelay: 1000, // 2s\n\t\t\t\n\t\t\taddCaptionHTMLFn: function(item, captionEl /*, isFake */) {\n\t\t\t\tif(!item.title) {\n\t\t\t\t\tcaptionEl.children[0].innerHTML = '';\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcaptionEl.children[0].innerHTML = item.title;\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tcloseEl:true,\n\t\t\tcaptionEl: true,\n\t\t\tfullscreenEl: true,\n\t\t\tzoomEl: true,\n\t\t\tshareEl: true,\n\t\t\tdownloadEl: true,\n\t\t\tcounterEl: true,\n\t\t\tarrowEl: true,\n\t\t\tpreloaderEl: true,\n\n\t\t\ttapToClose: false,\n\t\t\ttapToToggleControls: true,\n\n\t\t\tclickToCloseNonZoomable: true,\n\n\t\t\tshareButtons: [\n\t\t\t\t{id:'facebook', label:'Share on Facebook', url:'https://www.facebook.com/sharer/sharer.php?u={{url}}'},\n\t\t\t\t{id:'twitter', label:'Tweet', url:'https://twitter.com/intent/tweet?text={{text}}&url={{url}}'},\n\t\t\t\t{id:'pinterest', label:'Pin it', url:'http://www.pinterest.com/pin/create/button/'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'?url={{url}}&media={{image_url}}&description={{text}}'},\n\t\t\t\t{id:'download', label:'Download image', url:'{{raw_image_url}}', download:true}\n\t\t\t],\n\t\t\tgetImageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.src || '';\n\t\t\t},\n\t\t\tgetPageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn window.location.href;\n\t\t\t},\n\t\t\tgetTextForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.title || '';\n\t\t\t},\n\t\t\t\t\n\t\t\tindexIndicatorSep: ' / ',\n\t\t\tfitControlsWidth: 1200\n\n\t\t},\n\t\t_blockControlsTap,\n\t\t_blockControlsTapTimeout;\n\n\n\n\tvar _onControlsTap = function(e) {\n\t\t\tif(_blockControlsTap) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\n\t\t\te = e || window.event;\n\n\t\t\tif(_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n\t\t\t\t// reset idle timer\n\t\t\t\t_onIdleMouseMove();\n\t\t\t}\n\n\n\t\t\tvar target = e.target || e.srcElement,\n\t\t\t\tuiElement,\n\t\t\t\tclickedClass = target.getAttribute('class') || '',\n\t\t\t\tfound;\n\n\t\t\tfor(var i = 0; i < _uiElements.length; i++) {\n\t\t\t\tuiElement = _uiElements[i];\n\t\t\t\tif(uiElement.onTap && clickedClass.indexOf('pswp__' + uiElement.name ) > -1 ) {\n\t\t\t\t\tuiElement.onTap();\n\t\t\t\t\tfound = true;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(found) {\n\t\t\t\tif(e.stopPropagation) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\t_blockControlsTap = true;\n\n\t\t\t\t// Some versions of Android don't prevent ghost click event \n\t\t\t\t// when preventDefault() was called on touchstart and/or touchend.\n\t\t\t\t// \n\t\t\t\t// This happens on v4.3, 4.2, 4.1, \n\t\t\t\t// older versions strangely work correctly, \n\t\t\t\t// but just in case we add delay on all of them)\t\n\t\t\t\tvar tapDelay = framework.features.isOldAndroid ? 600 : 30;\n\t\t\t\t_blockControlsTapTimeout = setTimeout(function() {\n\t\t\t\t\t_blockControlsTap = false;\n\t\t\t\t}, tapDelay);\n\t\t\t}\n\n\t\t},\n\t\t_fitControlsInViewport = function() {\n\t\t\treturn !pswp.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n\t\t},\n\t\t_togglePswpClass = function(el, cName, add) {\n\t\t\tframework[ (add ? 'add' : 'remove') + 'Class' ](el, 'pswp__' + cName);\n\t\t},\n\n\t\t// add class when there is just one item in the gallery\n\t\t// (by default it hides left/right arrows and 1ofX counter)\n\t\t_countNumItems = function() {\n\t\t\tvar hasOneSlide = (_options.getNumItemsFn() === 1);\n\n\t\t\tif(hasOneSlide !== _galleryHasOneSlide) {\n\t\t\t\t_togglePswpClass(_controls, 'ui--one-slide', hasOneSlide);\n\t\t\t\t_galleryHasOneSlide = hasOneSlide;\n\t\t\t}\n\t\t},\n\t\t_toggleShareModalClass = function() {\n\t\t\t_togglePswpClass(_shareModal, 'share-modal--hidden', _shareModalHidden);\n\t\t},\n\t\t_toggleShareModal = function() {\n\n\t\t\t_shareModalHidden = !_shareModalHidden;\n\t\t\t\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModalClass();\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(!_shareModalHidden) {\n\t\t\t\t\t\tframework.addClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\t\t}\n\t\t\t\t}, 30);\n\t\t\t} else {\n\t\t\t\tframework.removeClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(_shareModalHidden) {\n\t\t\t\t\t\t_toggleShareModalClass();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_updateShareURLs();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n        _toggleAdd2cartModal = function() {\n\n            _add2cartModalHidden = !_add2cartModalHidden;\n\n\n            if(!_add2cartModalHidden) {\n                if(_fullscrenAPI.isFullscreen()) {\n                    _fullscrenAPI.exit();\n                }\n                _add2cartOverlay = new _options.overlayClass();\n                _add2cartOverlay.onClosed = () => {\n\t\t\t\t\tif (!_add2cartModalHidden) {\n\t\t\t\t\t\t_toggleAdd2cartModal();\n\t\t\t\t\t}\n\t\t\t\t}\n\n            } else {\n            \t_add2cartOverlay.closeOverlay();\n            }\n\n            if(!_add2cartModalHidden) {\n                _updateAdd2cartContent();\n            }\n            return false;\n        },\n\n\t\t_openWindowPopup = function(e) {\n\t\t\te = e || window.event;\n\t\t\tvar target = e.target || e.srcElement;\n\n\t\t\tpswp.shout('shareLinkClick', e, target);\n\n\t\t\tif(!target.href) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif( target.hasAttribute('download') ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\twindow.open(target.href, 'pswp_share', 'scrollbars=yes,resizable=yes,toolbar=no,'+\n\t\t\t\t\t\t\t\t\t\t'location=yes,width=550,height=420,top=100,left=' + \n\t\t\t\t\t\t\t\t\t\t(window.screen ? Math.round(screen.width / 2 - 275) : 100)  );\n\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t},\n        /**\n         * EVENT GALLERY CUSTOMIZATION\n         * @private\n         */\n\t\t_updateShareURLs = function() {\n\t\t\tlet sharingButtons = pswp.currItem.thumbnailContainer.getElementsByClassName('social-share-button');\n\n\t\t\tif (sharingButtons.length > 0) {\n\t\t\t\tlet sharingButton = sharingButtons[0];\n\n                _shareModal.children[0].innerHTML = '<a><i class=\"egfa egfa-2x egfa-cog egfa-spin\"></i></a>';\n                Eventgallery.jQuery(_shareModal.children[0]).load(sharingButton.getAttribute('data-link'));\n            }\n\n\t\t\t_shareModal.children[0].onclick = (e) => {\n\n                if(!_shareModalHidden) {\n                    _toggleShareModal();\n                }\n\n\t\t\t}\n\t\t},\n        _updateAdd2cartContent = function() {\n            let add2cartButtons = pswp.currItem.thumbnailContainer.getElementsByClassName('eventgallery-add2cart');\n\n            if (add2cartButtons.length > 0) {\n                let add2cartButton = add2cartButtons[0];\n\t\t\t\tlet url = EventGalleryCartConfiguration.add2carturl + '&' + add2cartButton.getAttribute('data-id');\n                _add2cartOverlay.openOverlay(url);\n            }\n\n        },\n\t\t_hasCloseClass = function(target) {\n\t\t\tfor(var  i = 0; i < _options.closeElClasses.length; i++) {\n\t\t\t\tif( framework.hasClass(target, 'pswp__' + _options.closeElClasses[i]) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_idleInterval,\n\t\t_idleTimer,\n\t\t_idleIncrement = 0,\n\t\t_onIdleMouseMove = function() {\n\t\t\tclearTimeout(_idleTimer);\n\t\t\t_idleIncrement = 0;\n\t\t\tif(_isIdle) {\n\t\t\t\tui.setIdle(false);\n\t\t\t}\n\t\t},\n\t\t_onMouseLeaveWindow = function(e) {\n\t\t\te = e ? e : window.event;\n\t\t\tvar from = e.relatedTarget || e.toElement;\n\t\t\tif (!from || from.nodeName === 'HTML') {\n\t\t\t\tclearTimeout(_idleTimer);\n\t\t\t\t_idleTimer = setTimeout(function() {\n\t\t\t\t\tui.setIdle(true);\n\t\t\t\t}, _options.timeToIdleOutside);\n\t\t\t}\n\t\t},\n\t\t_setupFullscreenAPI = function() {\n\t\t\tif(_options.fullscreenEl && !framework.features.isOldAndroid) {\n\t\t\t\tif(!_fullscrenAPI) {\n\t\t\t\t\t_fullscrenAPI = ui.getFullscreenAPI();\n\t\t\t\t}\n\t\t\t\tif(_fullscrenAPI) {\n\t\t\t\t\tframework.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\t\tui.updateFullscreen();\n\t\t\t\t\tframework.addClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t} else {\n\t\t\t\t\tframework.removeClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_setupLoadingIndicator = function() {\n\t\t\t// Setup loading indicator\n\t\t\tif(_options.preloaderEl) {\n\t\t\t\n\t\t\t\t_toggleLoadingIndicator(true);\n\n\t\t\t\t_listen('beforeChange', function() {\n\n\t\t\t\t\tclearTimeout(_loadingIndicatorTimeout);\n\n\t\t\t\t\t// display loading indicator with delay\n\t\t\t\t\t_loadingIndicatorTimeout = setTimeout(function() {\n\n\t\t\t\t\t\tif(pswp.currItem && pswp.currItem.loading) {\n\n\t\t\t\t\t\t\tif( !pswp.allowProgressiveImg() || (pswp.currItem.img && !pswp.currItem.img.naturalWidth)  ) {\n\t\t\t\t\t\t\t\t// show preloader if progressive loading is not enabled, \n\t\t\t\t\t\t\t\t// or image width is not defined yet (because of slow connection)\n\t\t\t\t\t\t\t\t_toggleLoadingIndicator(false); \n\t\t\t\t\t\t\t\t// items-controller.js function allowProgressiveImg\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_toggleLoadingIndicator(true); // hide preloader\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, _options.loadingIndicatorDelay);\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\t_listen('imageLoadComplete', function(index, item) {\n\t\t\t\t\tif(pswp.currItem === item) {\n\t\t\t\t\t\t_toggleLoadingIndicator(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\t\t},\n\t\t_toggleLoadingIndicator = function(hide) {\n\t\t\tif( _loadingIndicatorHidden !== hide ) {\n\t\t\t\t_togglePswpClass(_loadingIndicator, 'preloader--active', !hide);\n\t\t\t\t_loadingIndicatorHidden = hide;\n\t\t\t}\n\t\t},\n\t\t_applyNavBarGaps = function(item) {\n\t\t\tvar gap = item.vGap;\n\n\t\t\tif( _fitControlsInViewport() ) {\n\t\t\t\t\n\t\t\t\tvar bars = _options.barsSize; \n\t\t\t\tif(_options.captionEl && bars.bottom === 'auto') {\n\t\t\t\t\tif(!_fakeCaptionContainer) {\n\t\t\t\t\t\t_fakeCaptionContainer = framework.createEl('pswp__caption pswp__caption--fake');\n\t\t\t\t\t\t_fakeCaptionContainer.appendChild( framework.createEl('pswp__caption__center') );\n\t\t\t\t\t\t_controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n\t\t\t\t\t\tframework.addClass(_controls, 'pswp__ui--fit');\n\t\t\t\t\t}\n\t\t\t\t\tif( _options.addCaptionHTMLFn(item, _fakeCaptionContainer, true) ) {\n\n\t\t\t\t\t\tvar captionSize = _fakeCaptionContainer.clientHeight;\n\t\t\t\t\t\tgap.bottom = parseInt(captionSize,10) || 44;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tgap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// height of top bar is static, no need to calculate it\n\t\t\t\tgap.top = bars.top;\n\t\t\t} else {\n\t\t\t\tgap.top = gap.bottom = 0;\n\t\t\t}\n\t\t},\n\t\t_setupIdle = function() {\n\t\t\t// Hide controls when mouse is used\n\t\t\tif(_options.timeToIdle) {\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\t\n\t\t\t\t\tframework.bind(document, 'mousemove', _onIdleMouseMove);\n\t\t\t\t\tframework.bind(document, 'mouseout', _onMouseLeaveWindow);\n\n\t\t\t\t\t_idleInterval = setInterval(function() {\n\t\t\t\t\t\t_idleIncrement++;\n\t\t\t\t\t\tif(_idleIncrement === 2) {\n\t\t\t\t\t\t\tui.setIdle(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, _options.timeToIdle / 2);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_setupHidingControlsDuringGestures = function() {\n\n\t\t\t// Hide controls on vertical drag\n\t\t\t_listen('onVerticalDrag', function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.95) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else if(!_controlsVisible && now >= 0.95) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Hide controls when pinching to close\n\t\t\tvar pinchControlsHidden;\n\t\t\t_listen('onPinchClose' , function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.9) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t\tpinchControlsHidden = true;\n\t\t\t\t} else if(pinchControlsHidden && !_controlsVisible && now > 0.9) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('zoomGestureEnded', function() {\n\t\t\t\tpinchControlsHidden = false;\n\t\t\t\tif(pinchControlsHidden && !_controlsVisible) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t};\n\n\n\n\tvar _uiElements = [\n\t\t{ \n\t\t\tname: 'caption', \n\t\t\toption: 'captionEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_captionContainer = el; \n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'share-modal', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_shareModal = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--share', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) { \n\t\t\t\t_shareButton = el;\n\t\t\t},\n\t\t\tonTap: function() {\n                pswp.shout('userInteractionHappened');\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{\n\t\t\tname: 'button--download',\n\t\t\toption: 'downloadEl',\n\t\t\tonTap: function() {\n\t\t\t\tpswp.shout('userInteractionHappened');\n\t\t\t\tlet downloadButtons = pswp.currItem.thumbnailContainer.getElementsByClassName('eg-download');\n\t\t\t\tif (downloadButtons.length>0) {\n\t\t\t\t\tdownloadButtons[0].click()\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t{ \n            name: 'button--add2cart',\n            option: 'add2cartEl',\n            onInit: function(el) {\n                _add2cartButton = el;\n            },\n            onTap: function() {\n                pswp.shout('userInteractionHappened');\n                _toggleAdd2cartModal();\n            }\n        },\n\t\t{\n\t\t\tname: 'button--zoom',\n\t\t\toption: 'zoomEl',\n\t\t\tonTap: () => {\n                pswp.shout('userInteractionHappened');\n                pswp.toggleDesktopZoom()\n            }\n\t\t},\n\t\t{ \n\t\t\tname: 'counter', \n\t\t\toption: 'counterEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_indexIndicator = el;\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--close', \n\t\t\toption: 'closeEl',\n\t\t\tonTap: pswp.close\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--left', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: () => {\n                pswp.shout('userInteractionHappened');\n\t\t\t\tpswp.prev()\n\t\t\t}\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--right', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: () => {\n                pswp.shout('userInteractionHappened');\n\t\t\t\tpswp.next();\n            }\n\t\t},\n\t\t{ \n\t\t\tname: 'button--fs', \n\t\t\toption: 'fullscreenEl',\n\t\t\tonTap: function() {  \n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t} else {\n\t\t\t\t\t_fullscrenAPI.enter();\n\t\t\t\t}\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'preloader', \n\t\t\toption: 'preloaderEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_loadingIndicator = el;\n\t\t\t} \n\t\t}\n\n\t];\n\n\tvar _setupUIElements = function() {\n\t\tvar item,\n\t\t\tclassAttr,\n\t\t\tuiElement;\n\n\t\tvar loopThroughChildElements = function(sChildren) {\n\t\t\tif(!sChildren) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar l = sChildren.length;\n\t\t\tfor(var i = 0; i < l; i++) {\n\t\t\t\titem = sChildren[i];\n\t\t\t\tclassAttr = item.className;\n\n\t\t\t\tfor(var a = 0; a < _uiElements.length; a++) {\n\t\t\t\t\tuiElement = _uiElements[a];\n\n\t\t\t\t\tif(classAttr.indexOf('pswp__' + uiElement.name) > -1  ) {\n\n\t\t\t\t\t\tif( _options[uiElement.option] ) { // if element is not disabled from options\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tframework.removeClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\tif(uiElement.onInit) {\n\t\t\t\t\t\t\t\tuiElement.onInit(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//item.style.display = 'block';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tframework.addClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\t//item.style.display = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tloopThroughChildElements(_controls.children);\n\n\t\tvar topBar =  framework.getChildByClass(_controls, 'pswp__top-bar');\n\t\tif(topBar) {\n\t\t\tloopThroughChildElements( topBar.children );\n\t\t}\n\t};\n\n\n\t\n\n\tui.init = function() {\n\n\t\t// extend options\n\t\tframework.extend(pswp.options, _defaultUIOptions, true);\n\n\t\t// create local link for fast access\n\t\t_options = pswp.options;\n\n\t\t// find pswp__ui element\n\t\t_controls = framework.getChildByClass(pswp.scrollWrap, 'pswp__ui');\n\n\t\t// create local link\n\t\t_listen = pswp.listen;\n\n\n\t\t_setupHidingControlsDuringGestures();\n\n\t\t// update controls when slides change\n\t\t_listen('beforeChange', ui.update);\n\n\t\t// toggle zoom on double-tap\n\t\t_listen('doubleTap', function(point) {\n\t\t\tvar initialZoomLevel = pswp.currItem.initialZoomLevel;\n\t\t\tif(pswp.getZoomLevel() !== initialZoomLevel) {\n\t\t\t\tpswp.zoomTo(initialZoomLevel, point, 333);\n\t\t\t} else {\n\t\t\t\tpswp.zoomTo(_options.getDoubleTapZoom(false, pswp.currItem), point, 333);\n\t\t\t}\n\t\t});\n\n\t\t// Allow text selection in caption\n\t\t_listen('preventDragEvent', function(e, isDown, preventObj) {\n\t\t\tvar t = e.target || e.srcElement;\n\t\t\tif(\n\t\t\t\tt && \n\t\t\t\tt.getAttribute('class') && e.type.indexOf('mouse') > -1 && \n\t\t\t\t( t.getAttribute('class').indexOf('__caption') > 0 || (/(SMALL|STRONG|EM)/i).test(t.tagName) ) \n\t\t\t) {\n\t\t\t\tpreventObj.prevent = false;\n\t\t\t}\n\t\t});\n\n\t\t// bind events for UI\n\t\t_listen('bindEvents', function() {\n\t\t\tframework.bind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.bind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\n\t\t\tif(!pswp.likelyTouchDevice) {\n\t\t\t\tframework.bind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\t\t\t}\n\t\t});\n\n\t\t// unbind events for UI\n\t\t_listen('unbindEvents', function() {\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\n            if(!_add2cartModalHidden) {\n                _toggleAdd2cartModal();\n            }\n\n\t\t\tif(_idleInterval) {\n\t\t\t\tclearInterval(_idleInterval);\n\t\t\t}\n\t\t\tframework.unbind(document, 'mouseout', _onMouseLeaveWindow);\n\t\t\tframework.unbind(document, 'mousemove', _onIdleMouseMove);\n\t\t\tframework.unbind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\n\t\t\tif(_fullscrenAPI) {\n\t\t\t\tframework.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_options.hideAnimationDuration = 0;\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t}\n\t\t\t\t_fullscrenAPI = null;\n\t\t\t}\n\t\t});\n\n\n\t\t// clean up things when gallery is destroyed\n\t\t_listen('destroy', function() {\n\t\t\tif(_options.captionEl) {\n\t\t\t\tif(_fakeCaptionContainer) {\n\t\t\t\t\t_controls.removeChild(_fakeCaptionContainer);\n\t\t\t\t}\n\t\t\t\tframework.removeClass(_captionContainer, 'pswp__caption--empty');\n\t\t\t}\n\n\t\t\tif(_shareModal) {\n\t\t\t\t_shareModal.children[0].onclick = null;\n\t\t\t}\n\t\t\tframework.removeClass(_controls, 'pswp__ui--over-close');\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t\tui.setIdle(false);\n\t\t});\n\t\t\n\n\t\tif(!_options.showAnimationDuration) {\n\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t}\n\t\t_listen('initialZoomIn', function() {\n\t\t\tif(_options.showAnimationDuration) {\n\t\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t\t}\n\t\t});\n\t\t_listen('initialZoomOut', function() {\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t});\n\n\t\t_listen('parseVerticalMargin', _applyNavBarGaps);\n\t\t\n\t\t_setupUIElements();\n\n\t\tif(_options.shareEl && _shareButton && _shareModal) {\n\t\t\t_shareModalHidden = true;\n\t\t}\n\n        if(_options.add2cartEl && _add2cartButton) {\n            _add2cartModalHidden = true;\n        }\n\n\t\t_countNumItems();\n\n\t\t_setupIdle();\n\n\t\t_setupFullscreenAPI();\n\n\t\t_setupLoadingIndicator();\n\t};\n\n\tui.setIdle = function(isIdle) {\n\t\t_isIdle = isIdle;\n\t\t_togglePswpClass(_controls, 'ui--idle', isIdle);\n\t};\n\n\tui.update = function() {\n\t\t// Don't update UI if it's hidden\n\t\tif(_controlsVisible && pswp.currItem) {\n\t\t\t\n\t\t\tui.updateIndexIndicator();\n\n\t\t\tif(_options.captionEl) {\n\t\t\t\t_options.addCaptionHTMLFn(pswp.currItem, _captionContainer);\n\n\t\t\t\t_togglePswpClass(_captionContainer, 'caption--empty', !pswp.currItem.title);\n\t\t\t}\n\n\t\t\t_overlayUIUpdated = true;\n\n\t\t} else {\n\t\t\t_overlayUIUpdated = false;\n\t\t}\n\n\t\tif(!_shareModalHidden) {\n\t\t\t_toggleShareModal();\n\t\t}\n\n        if(!_add2cartModalHidden) {\n            _toggleAdd2cartModal();\n        }\n\n\t\t_countNumItems();\n\t};\n\n\tui.updateFullscreen = function(e) {\n\n\t\tif(e) {\n\t\t\t// some browsers change window scroll position during the fullscreen\n\t\t\t// so PhotoSwipe updates it just in case\n\t\t\tsetTimeout(function() {\n\t\t\t\tpswp.setScrollOffset( 0, framework.getScrollY() );\n\t\t\t}, 50);\n\t\t}\n\t\t\n\t\t// toogle pswp--fs class on root element\n\t\tframework[ (_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class' ](pswp.template, 'pswp--fs');\n\t};\n\n\tui.updateIndexIndicator = function() {\n\t\tif(_options.counterEl) {\n\t\t\t_indexIndicator.innerHTML = (pswp.getCurrentIndex()+1) + \n\t\t\t\t\t\t\t\t\t\t_options.indexIndicatorSep + \n\t\t\t\t\t\t\t\t\t\t_options.getNumItemsFn();\n\t\t}\n\t};\n\t\n\tui.onGlobalTap = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif(_blockControlsTap) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(e.detail && e.detail.pointerType === 'mouse') {\n\n\t\t\t// close gallery if clicked outside of the image\n\t\t\tif(_hasCloseClass(target)) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(framework.hasClass(target, 'pswp__img')) {\n\t\t\t\tif(pswp.getZoomLevel() === 1 && pswp.getZoomLevel() <= pswp.currItem.fitRatio) {\n\t\t\t\t\tif(_options.clickToCloseNonZoomable) {\n\t\t\t\t\t\tpswp.close();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tpswp.toggleDesktopZoom(e.detail.releasePoint);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t} else {\n\n\t\t\t// tap anywhere (except buttons) to toggle visibility of controls\n\t\t\tif(_options.tapToToggleControls) {\n\t\t\t\tif(_controlsVisible) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// tap to close gallery\n\t\t\tif(_options.tapToClose && (framework.hasClass(target, 'pswp__img') || _hasCloseClass(target)) ) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t}\n\t};\n\tui.onMouseOver = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\t// add class when mouse is over an element that should close the gallery\n\t\t_togglePswpClass(_controls, 'ui--over-close', _hasCloseClass(target));\n\t};\n\n\tui.hideControls = function() {\n\t\tframework.addClass(_controls,'pswp__ui--hidden');\n\t\t_controlsVisible = false;\n\t};\n\n\tui.showControls = function() {\n\t\t_controlsVisible = true;\n\t\tif(!_overlayUIUpdated) {\n\t\t\tui.update();\n\t\t}\n\t\tframework.removeClass(_controls,'pswp__ui--hidden');\n\t};\n\n\tui.supportsFullscreen = function() {\n\t\tvar d = document;\n\t\treturn !!(d.exitFullscreen || d.mozCancelFullScreen || d.webkitExitFullscreen || d.msExitFullscreen);\n\t};\n\n\tui.getFullscreenAPI = function() {\n\t\tvar dE = document.documentElement,\n\t\t\tapi,\n\t\t\ttF = 'fullscreenchange';\n\n\t\tif (dE.requestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'requestFullscreen',\n\t\t\t\texitK: 'exitFullscreen',\n\t\t\t\telementK: 'fullscreenElement',\n\t\t\t\teventK: tF\n\t\t\t};\n\n\t\t} else if(dE.mozRequestFullScreen ) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'mozRequestFullScreen',\n\t\t\t\texitK: 'mozCancelFullScreen',\n\t\t\t\telementK: 'mozFullScreenElement',\n\t\t\t\teventK: 'moz' + tF\n\t\t\t};\n\n\t\t\t\n\n\t\t} else if(dE.webkitRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'webkitRequestFullscreen',\n\t\t\t\texitK: 'webkitExitFullscreen',\n\t\t\t\telementK: 'webkitFullscreenElement',\n\t\t\t\teventK: 'webkit' + tF\n\t\t\t};\n\n\t\t} else if(dE.msRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'msRequestFullscreen',\n\t\t\t\texitK: 'msExitFullscreen',\n\t\t\t\telementK: 'msFullscreenElement',\n\t\t\t\teventK: 'MSFullscreenChange'\n\t\t\t};\n\t\t}\n\n\t\tif(api) {\n\t\t\tapi.enter = function() { \n\t\t\t\t// disable close-on-scroll in fullscreen\n\t\t\t\t_initalCloseOnScrollValue = _options.closeOnScroll; \n\t\t\t\t_options.closeOnScroll = false; \n\n\t\t\t\tif(this.enterK === 'webkitRequestFullscreen') {\n\t\t\t\t\tpswp.template[this.enterK]( Element.ALLOW_KEYBOARD_INPUT );\n\t\t\t\t} else {\n\t\t\t\t\treturn pswp.template[this.enterK](); \n\t\t\t\t}\n\t\t\t};\n\t\t\tapi.exit = function() { \n\t\t\t\t_options.closeOnScroll = _initalCloseOnScrollValue;\n\n\t\t\t\treturn document[this.exitK](); \n\n\t\t\t};\n\t\t\tapi.isFullscreen = function() { return document[this.elementK]; };\n\t\t}\n\n\t\treturn api;\n\t};\n\n\n\n};\n","// extracted by mini-css-extract-plugin","/*! PhotoSwipe - v4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\nexport default function(template, UiClass, items, options){\n\n/*>>framework-bridge*/\n/**\n *\n * Set of generic functions used by gallery.\n * \n * You're free to modify anything here as long as functionality is kept.\n * \n */\nvar framework = {\n\tfeatures: null,\n\tbind: function(target, type, listener, unbind) {\n\t\tvar methodName = (unbind ? 'remove' : 'add') + 'EventListener';\n\t\ttype = type.split(' ');\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tif(type[i]) {\n\t\t\t\ttarget[methodName]( type[i], listener, false);\n\t\t\t}\n\t\t}\n\t},\n\tisArray: function(obj) {\n\t\treturn (obj instanceof Array);\n\t},\n\tcreateEl: function(classes, tag) {\n\t\tvar el = document.createElement(tag || 'div');\n\t\tif(classes) {\n\t\t\tel.className = classes;\n\t\t}\n\t\treturn el;\n\t},\n\tgetScrollY: function() {\n\t\tvar yOffset = window.pageYOffset;\n\t\treturn yOffset !== undefined ? yOffset : document.documentElement.scrollTop;\n\t},\n\tunbind: function(target, type, listener) {\n\t\tframework.bind(target,type,listener,true);\n\t},\n\tremoveClass: function(el, className) {\n\t\tvar reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\t\tel.className = el.className.replace(reg, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, ''); \n\t},\n\taddClass: function(el, className) {\n\t\tif( !framework.hasClass(el,className) ) {\n\t\t\tel.className += (el.className ? ' ' : '') + className;\n\t\t}\n\t},\n\thasClass: function(el, className) {\n\t\treturn el.className && new RegExp('(^|\\\\s)' + className + '(\\\\s|$)').test(el.className);\n\t},\n\tgetChildByClass: function(parentEl, childClassName) {\n\t\tvar node = parentEl.firstChild;\n\t\twhile(node) {\n\t\t\tif( framework.hasClass(node, childClassName) ) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\tnode = node.nextSibling;\n\t\t}\n\t},\n\tarraySearch: function(array, value, key) {\n\t\tvar i = array.length;\n\t\twhile(i--) {\n\t\t\tif(array[i][key] === value) {\n\t\t\t\treturn i;\n\t\t\t} \n\t\t}\n\t\treturn -1;\n\t},\n\textend: function(o1, o2, preventOverwrite) {\n\t\tfor (var prop in o2) {\n\t\t\tif (o2.hasOwnProperty(prop)) {\n\t\t\t\tif(preventOverwrite && o1.hasOwnProperty(prop)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\to1[prop] = o2[prop];\n\t\t\t}\n\t\t}\n\t},\n\teasing: {\n\t\tsine: {\n\t\t\tout: function(k) {\n\t\t\t\treturn Math.sin(k * (Math.PI / 2));\n\t\t\t},\n\t\t\tinOut: function(k) {\n\t\t\t\treturn - (Math.cos(Math.PI * k) - 1) / 2;\n\t\t\t}\n\t\t},\n\t\tcubic: {\n\t\t\tout: function(k) {\n\t\t\t\treturn --k * k * k + 1;\n\t\t\t}\n\t\t}\n\t\t/*\n\t\t\telastic: {\n\t\t\t\tout: function ( k ) {\n\n\t\t\t\t\tvar s, a = 0.1, p = 0.4;\n\t\t\t\t\tif ( k === 0 ) return 0;\n\t\t\t\t\tif ( k === 1 ) return 1;\n\t\t\t\t\tif ( !a || a < 1 ) { a = 1; s = p / 4; }\n\t\t\t\t\telse s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n\t\t\t\t\treturn ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n\n\t\t\t\t},\n\t\t\t},\n\t\t\tback: {\n\t\t\t\tout: function ( k ) {\n\t\t\t\t\tvar s = 1.70158;\n\t\t\t\t\treturn --k * k * ( ( s + 1 ) * k + s ) + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t*/\n\t},\n\n\t/**\n\t * \n\t * @return {object}\n\t * \n\t * {\n\t *  raf : request animation frame function\n\t *  caf : cancel animation frame function\n\t *  transfrom : transform property key (with vendor), or null if not supported\n\t *  oldIE : IE8 or below\n\t * }\n\t * \n\t */\n\tdetectFeatures: function() {\n\t\tif(framework.features) {\n\t\t\treturn framework.features;\n\t\t}\n\t\tvar helperEl = framework.createEl(),\n\t\t\thelperStyle = helperEl.style,\n\t\t\tvendor = '',\n\t\t\tfeatures = {};\n\n\t\t// IE8 and below\n\t\tfeatures.oldIE = document.all && !document.addEventListener;\n\n\t\tfeatures.touch = 'ontouchstart' in window;\n\n\t\tif(window.requestAnimationFrame) {\n\t\t\tfeatures.raf = window.requestAnimationFrame;\n\t\t\tfeatures.caf = window.cancelAnimationFrame;\n\t\t}\n\n\t\tfeatures.pointerEvent = !!(window.PointerEvent) || navigator.msPointerEnabled;\n\n\t\t// fix false-positive detection of old Android in new IE\n\t\t// (IE11 ua string contains \"Android 4.0\")\n\t\t\n\t\tif(!features.pointerEvent) { \n\n\t\t\tvar ua = navigator.userAgent;\n\n\t\t\t// Detect if device is iPhone or iPod and if it's older than iOS 8\n\t\t\t// http://stackoverflow.com/a/14223920\n\t\t\t// \n\t\t\t// This detection is made because of buggy top/bottom toolbars\n\t\t\t// that don't trigger window.resize event.\n\t\t\t// For more info refer to _isFixedPosition variable in core.js\n\n\t\t\tif (/iP(hone|od)/.test(navigator.platform)) {\n\t\t\t\tvar v = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n\t\t\t\tif(v && v.length > 0) {\n\t\t\t\t\tv = parseInt(v[1], 10);\n\t\t\t\t\tif(v >= 1 && v < 8 ) {\n\t\t\t\t\t\tfeatures.isOldIOSPhone = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Detect old Android (before KitKat)\n\t\t\t// due to bugs related to position:fixed\n\t\t\t// http://stackoverflow.com/questions/7184573/pick-up-the-android-version-in-the-browser-by-javascript\n\t\t\t\n\t\t\tvar match = ua.match(/Android\\s([0-9\\.]*)/);\n\t\t\tvar androidversion =  match ? match[1] : 0;\n\t\t\tandroidversion = parseFloat(androidversion);\n\t\t\tif(androidversion >= 1 ) {\n\t\t\t\tif(androidversion < 4.4) {\n\t\t\t\t\tfeatures.isOldAndroid = true; // for fixed position bug & performance\n\t\t\t\t}\n\t\t\t\tfeatures.androidVersion = androidversion; // for touchend bug\n\t\t\t}\t\n\t\t\tfeatures.isMobileOpera = /opera mini|opera mobi/i.test(ua);\n\n\t\t\t// p.s. yes, yes, UA sniffing is bad, propose your solution for above bugs.\n\t\t}\n\t\t\n\t\tvar styleChecks = ['transform', 'perspective', 'animationName'],\n\t\t\tvendors = ['', 'webkit','Moz','ms','O'],\n\t\t\tstyleCheckItem,\n\t\t\tstyleName;\n\n\t\tfor(var i = 0; i < 4; i++) {\n\t\t\tvendor = vendors[i];\n\n\t\t\tfor(var a = 0; a < 3; a++) {\n\t\t\t\tstyleCheckItem = styleChecks[a];\n\n\t\t\t\t// uppercase first letter of property name, if vendor is present\n\t\t\t\tstyleName = vendor + (vendor ? \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem.charAt(0).toUpperCase() + styleCheckItem.slice(1) : \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem);\n\t\t\t\n\t\t\t\tif(!features[styleCheckItem] && styleName in helperStyle ) {\n\t\t\t\t\tfeatures[styleCheckItem] = styleName;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(vendor && !features.raf) {\n\t\t\t\tvendor = vendor.toLowerCase();\n\t\t\t\tfeatures.raf = window[vendor+'RequestAnimationFrame'];\n\t\t\t\tif(features.raf) {\n\t\t\t\t\tfeatures.caf = window[vendor+'CancelAnimationFrame'] || \n\t\t\t\t\t\t\t\t\twindow[vendor+'CancelRequestAnimationFrame'];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\t\n\t\tif(!features.raf) {\n\t\t\tvar lastTime = 0;\n\t\t\tfeatures.raf = function(fn) {\n\t\t\t\tvar currTime = new Date().getTime();\n\t\t\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\t\t\tvar id = window.setTimeout(function() { fn(currTime + timeToCall); }, timeToCall);\n\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\treturn id;\n\t\t\t};\n\t\t\tfeatures.caf = function(id) { clearTimeout(id); };\n\t\t}\n\n\t\t// Detect SVG support\n\t\tfeatures.svg = !!document.createElementNS && \n\t\t\t\t\t\t!!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n\n\t\tframework.features = features;\n\n\t\treturn features;\n\t}\n};\n\nframework.detectFeatures();\n\n// Override addEventListener for old versions of IE\nif(framework.features.oldIE) {\n\n\tframework.bind = function(target, type, listener, unbind) {\n\t\t\n\t\ttype = type.split(' ');\n\n\t\tvar methodName = (unbind ? 'detach' : 'attach') + 'Event',\n\t\t\tevName,\n\t\t\t_handleEv = function() {\n\t\t\t\tlistener.handleEvent.call(listener);\n\t\t\t};\n\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tevName = type[i];\n\t\t\tif(evName) {\n\n\t\t\t\tif(typeof listener === 'object' && listener.handleEvent) {\n\t\t\t\t\tif(!unbind) {\n\t\t\t\t\t\tlistener['oldIE' + evName] = _handleEv;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(!listener['oldIE' + evName]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener['oldIE' + evName]);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener);\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t};\n\t\n}\n\n/*>>framework-bridge*/\n\n/*>>core*/\n//function(template, UiClass, items, options)\n\nvar self = this;\n\n/**\n * Static vars, don't change unless you know what you're doing.\n */\nvar DOUBLE_TAP_RADIUS = 25, \n\tNUM_HOLDERS = 3;\n\n/**\n * Options\n */\nvar _options = {\n\tallowPanToNext:true,\n\tspacing: 0.12,\n\tbgOpacity: 1,\n\tmouseUsed: false,\n\tloop: true,\n\tpinchToClose: true,\n\tcloseOnScroll: true,\n\tcloseOnVerticalDrag: true,\n\tverticalDragRange: 0.75,\n\thideAnimationDuration: 333,\n\tshowAnimationDuration: 333,\n\tshowHideOpacity: false,\n\tfocus: true,\n\tescKey: true,\n\tarrowKeys: true,\n\tmainScrollEndFriction: 0.35,\n\tpanEndFriction: 0.35,\n\tisClickableElement: function(el) {\n        return el.tagName === 'A';\n    },\n    getDoubleTapZoom: function(isMouseClick, item) {\n    \tif(isMouseClick) {\n    \t\treturn 1;\n    \t} else {\n    \t\treturn item.initialZoomLevel < 0.7 ? 1 : 1.33;\n    \t}\n    },\n    maxSpreadZoom: 1.33,\n\tmodal: true,\n\n\t// not fully implemented yet\n\tscaleMode: 'fit' // TODO\n};\nframework.extend(_options, options);\n\n\n/**\n * Private helper variables & functions\n */\n\nvar _getEmptyPoint = function() { \n\t\treturn {x:0,y:0}; \n\t};\n\nvar _isOpen,\n\t_isDestroying,\n\t_closedByScroll,\n\t_currentItemIndex,\n\t_containerStyle,\n\t_containerShiftIndex,\n\t_currPanDist = _getEmptyPoint(),\n\t_startPanOffset = _getEmptyPoint(),\n\t_panOffset = _getEmptyPoint(),\n\t_upMoveEvents, // drag move, drag end & drag cancel events array\n\t_downEvents, // drag start events array\n\t_globalEventHandlers,\n\t_viewportSize = {},\n\t_currZoomLevel,\n\t_startZoomLevel,\n\t_translatePrefix,\n\t_translateSufix,\n\t_updateSizeInterval,\n\t_itemsNeedUpdate,\n\t_currPositionIndex = 0,\n\t_offset = {},\n\t_slideSize = _getEmptyPoint(), // size of slide area, including spacing\n\t_itemHolders,\n\t_prevItemIndex,\n\t_indexDiff = 0, // difference of indexes since last content update\n\t_dragStartEvent,\n\t_dragMoveEvent,\n\t_dragEndEvent,\n\t_dragCancelEvent,\n\t_transformKey,\n\t_pointerEventEnabled,\n\t_isFixedPosition = true,\n\t_likelyTouchDevice,\n\t_modules = [],\n\t_requestAF,\n\t_cancelAF,\n\t_initalClassName,\n\t_initalWindowScrollY,\n\t_oldIE,\n\t_currentWindowScrollY,\n\t_features,\n\t_windowVisibleSize = {},\n\t_renderMaxResolution = false,\n\t_orientationChangeTimeout,\n\n\n\t// Registers PhotoSWipe module (History, Controller ...)\n\t_registerModule = function(name, module) {\n\t\tframework.extend(self, module.publicMethods);\n\t\t_modules.push(name);\n\t},\n\n\t_getLoopedId = function(index) {\n\t\tvar numSlides = _getNumItems();\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t\n\t// Micro bind/trigger\n\t_listeners = {},\n\t_listen = function(name, fn) {\n\t\tif(!_listeners[name]) {\n\t\t\t_listeners[name] = [];\n\t\t}\n\t\treturn _listeners[name].push(fn);\n\t},\n\t_shout = function(name) {\n\t\tvar listeners = _listeners[name];\n\n\t\tif(listeners) {\n\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\targs.shift();\n\n\t\t\tfor(var i = 0; i < listeners.length; i++) {\n\t\t\t\tlisteners[i].apply(self, args);\n\t\t\t}\n\t\t}\n\t},\n\n\t_getCurrentTime = function() {\n\t\treturn new Date().getTime();\n\t},\n\t_applyBgOpacity = function(opacity) {\n\t\t_bgOpacity = opacity;\n\t\tself.bg.style.opacity = opacity * _options.bgOpacity;\n\t},\n\n\t_applyZoomTransform = function(styleObj,x,y,zoom,item) {\n\t\tif(!_renderMaxResolution || (item && item !== self.currItem) ) {\n\t\t\tzoom = zoom / (item ? item.fitRatio : self.currItem.fitRatio);\t\n\t\t}\n\t\t\t\n\t\tstyleObj[_transformKey] = _translatePrefix + x + 'px, ' + y + 'px' + _translateSufix + ' scale(' + zoom + ')';\n\t},\n\t_applyCurrentZoomPan = function( allowRenderResolution ) {\n\t\tif(_currZoomElementStyle) {\n\n\t\t\tif(allowRenderResolution) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\tif(!_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem, false, true);\n\t\t\t\t\t\t_renderMaxResolution = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem);\n\t\t\t\t\t\t_renderMaxResolution = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\t_applyZoomTransform(_currZoomElementStyle, _panOffset.x, _panOffset.y, _currZoomLevel);\n\t\t}\n\t},\n\t_applyZoomPanToItem = function(item) {\n\t\tif(item.container) {\n\n\t\t\t_applyZoomTransform(item.container.style, \n\t\t\t\t\t\t\t\titem.initialPosition.x, \n\t\t\t\t\t\t\t\titem.initialPosition.y, \n\t\t\t\t\t\t\t\titem.initialZoomLevel,\n\t\t\t\t\t\t\t\titem);\n\t\t}\n\t},\n\t_setTranslateX = function(x, elStyle) {\n\t\telStyle[_transformKey] = _translatePrefix + x + 'px, 0px' + _translateSufix;\n\t},\n\t_moveMainScroll = function(x, dragging) {\n\n\t\tif(!_options.loop && dragging) {\n\t\t\tvar newSlideIndexOffset = _currentItemIndex + (_slideSize.x * _currPositionIndex - x) / _slideSize.x,\n\t\t\t\tdelta = Math.round(x - _mainScrollPos.x);\n\n\t\t\tif( (newSlideIndexOffset < 0 && delta > 0) || \n\t\t\t\t(newSlideIndexOffset >= _getNumItems() - 1 && delta < 0) ) {\n\t\t\t\tx = _mainScrollPos.x + delta * _options.mainScrollEndFriction;\n\t\t\t} \n\t\t}\n\t\t\n\t\t_mainScrollPos.x = x;\n\t\t_setTranslateX(x, _containerStyle);\n\t},\n\t_calculatePanOffset = function(axis, zoomLevel) {\n\t\tvar m = _midZoomPoint[axis] - _offset[axis];\n\t\treturn _startPanOffset[axis] + _currPanDist[axis] + m - m * ( zoomLevel / _startZoomLevel );\n\t},\n\t\n\t_equalizePoints = function(p1, p2) {\n\t\tp1.x = p2.x;\n\t\tp1.y = p2.y;\n\t\tif(p2.id) {\n\t\t\tp1.id = p2.id;\n\t\t}\n\t},\n\t_roundPoint = function(p) {\n\t\tp.x = Math.round(p.x);\n\t\tp.y = Math.round(p.y);\n\t},\n\n\t_mouseMoveTimeout = null,\n\t_onFirstMouseMove = function() {\n\t\t// Wait until mouse move event is fired at least twice during 100ms\n\t\t// We do this, because some mobile browsers trigger it on touchstart\n\t\tif(_mouseMoveTimeout ) { \n\t\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\t\t\tframework.addClass(template, 'pswp--has_mouse');\n\t\t\t_options.mouseUsed = true;\n\t\t\t_shout('mouseUsed');\n\t\t}\n\t\t_mouseMoveTimeout = setTimeout(function() {\n\t\t\t_mouseMoveTimeout = null;\n\t\t}, 100);\n\t},\n\n\t_bindEvents = function() {\n\t\tframework.bind(document, 'keydown', self);\n\n\t\tif(_features.transform) {\n\t\t\t// don't bind click event in browsers that don't support transform (mostly IE8)\n\t\t\tframework.bind(self.scrollWrap, 'click', self);\n\t\t}\n\t\t\n\n\t\tif(!_options.mouseUsed) {\n\t\t\tframework.bind(document, 'mousemove', _onFirstMouseMove);\n\t\t}\n\n\t\tframework.bind(window, 'resize scroll orientationchange', self);\n\n\t\t_shout('bindEvents');\n\t},\n\n\t_unbindEvents = function() {\n\t\tframework.unbind(window, 'resize scroll orientationchange', self);\n\t\tframework.unbind(window, 'scroll', _globalEventHandlers.scroll);\n\t\tframework.unbind(document, 'keydown', self);\n\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\n\t\tif(_features.transform) {\n\t\t\tframework.unbind(self.scrollWrap, 'click', self);\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\t\t}\n\n\t\tclearTimeout(_orientationChangeTimeout);\n\n\t\t_shout('unbindEvents');\n\t},\n\t\n\t_calculatePanBounds = function(zoomLevel, update) {\n\t\tvar bounds = _calculateItemSize( self.currItem, _viewportSize, zoomLevel );\n\t\tif(update) {\n\t\t\t_currPanBounds = bounds;\n\t\t}\n\t\treturn bounds;\n\t},\n\t\n\t_getMinZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.initialZoomLevel;\n\t},\n\t_getMaxZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.w > 0 ? _options.maxSpreadZoom : 1;\n\t},\n\n\t// Return true if offset is out of the bounds\n\t_modifyDestPanOffset = function(axis, destPanBounds, destPanOffset, destZoomLevel) {\n\t\tif(destZoomLevel === self.currItem.initialZoomLevel) {\n\t\t\tdestPanOffset[axis] = self.currItem.initialPosition[axis];\n\t\t\treturn true;\n\t\t} else {\n\t\t\tdestPanOffset[axis] = _calculatePanOffset(axis, destZoomLevel); \n\n\t\t\tif(destPanOffset[axis] > destPanBounds.min[axis]) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.min[axis];\n\t\t\t\treturn true;\n\t\t\t} else if(destPanOffset[axis] < destPanBounds.max[axis] ) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.max[axis];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\t_setupTransforms = function() {\n\n\t\tif(_transformKey) {\n\t\t\t// setup 3d transforms\n\t\t\tvar allow3dTransform = _features.perspective && !_likelyTouchDevice;\n\t\t\t_translatePrefix = 'translate' + (allow3dTransform ? '3d(' : '(');\n\t\t\t_translateSufix = _features.perspective ? ', 0px)' : ')';\t\n\t\t\treturn;\n\t\t}\n\n\t\t// Override zoom/pan/move functions in case old browser is used (most likely IE)\n\t\t// (so they use left/top/width/height, instead of CSS transform)\n\t\n\t\t_transformKey = 'left';\n\t\tframework.addClass(template, 'pswp--ie');\n\n\t\t_setTranslateX = function(x, elStyle) {\n\t\t\telStyle.left = x + 'px';\n\t\t};\n\t\t_applyZoomPanToItem = function(item) {\n\n\t\t\tvar zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\ts = item.container.style,\n\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\th = zoomRatio * item.h;\n\n\t\t\ts.width = w + 'px';\n\t\t\ts.height = h + 'px';\n\t\t\ts.left = item.initialPosition.x + 'px';\n\t\t\ts.top = item.initialPosition.y + 'px';\n\n\t\t};\n\t\t_applyCurrentZoomPan = function() {\n\t\t\tif(_currZoomElementStyle) {\n\n\t\t\t\tvar s = _currZoomElementStyle,\n\t\t\t\t\titem = self.currItem,\n\t\t\t\t\tzoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\t\th = zoomRatio * item.h;\n\n\t\t\t\ts.width = w + 'px';\n\t\t\t\ts.height = h + 'px';\n\n\n\t\t\t\ts.left = _panOffset.x + 'px';\n\t\t\t\ts.top = _panOffset.y + 'px';\n\t\t\t}\n\t\t\t\n\t\t};\n\t},\n\n\t_onKeyDown = function(e) {\n\t\tvar keydownAction = '';\n\t\tif(_options.escKey && e.keyCode === 27) { \n\t\t\tkeydownAction = 'close';\n\t\t} else if(_options.arrowKeys) {\n\t\t\tif(e.keyCode === 37) {\n\t\t\t\tkeydownAction = 'prev';\n\t\t\t} else if(e.keyCode === 39) { \n\t\t\t\tkeydownAction = 'next';\n\t\t\t}\n\t\t}\n\n\t\tif(keydownAction) {\n\t\t\t// don't do anything if special key pressed to prevent from overriding default browser actions\n\t\t\t// e.g. in Chrome on Mac cmd+arrow-left returns to previous page\n\t\t\tif( !e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey ) {\n\t\t\t\tif(e.preventDefault) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\te.returnValue = false;\n\t\t\t\t} \n\t\t\t\tself[keydownAction]();\n\t\t\t}\n\t\t}\n\t},\n\n\t_onGlobalClick = function(e) {\n\t\tif(!e) {\n\t\t\treturn;\n\t\t}\n\n\t\t// don't allow click event to pass through when triggering after drag or some other gesture\n\t\tif(_moved || _zoomStarted || _mainScrollAnimating || _verticalDragInitiated) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\n\t_updatePageScrollOffset = function() {\n\t\tself.setScrollOffset(0, framework.getScrollY());\t\t\n\t};\n\t\n\n\n\t\n\n\n\n// Micro animation engine\nvar _animations = {},\n\t_numAnimations = 0,\n\t_stopAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\tif(_animations[name].raf) {\n\t\t\t\t_cancelAF( _animations[name].raf );\n\t\t\t}\n\t\t\t_numAnimations--;\n\t\t\tdelete _animations[name];\n\t\t}\n\t},\n\t_registerStartAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\t_stopAnimation(name);\n\t\t}\n\t\tif(!_animations[name]) {\n\t\t\t_numAnimations++;\n\t\t\t_animations[name] = {};\n\t\t}\n\t},\n\t_stopAllAnimations = function() {\n\t\tfor (var prop in _animations) {\n\n\t\t\tif( _animations.hasOwnProperty( prop ) ) {\n\t\t\t\t_stopAnimation(prop);\n\t\t\t} \n\t\t\t\n\t\t}\n\t},\n\t_animateProp = function(name, b, endProp, d, easingFn, onUpdate, onComplete) {\n\t\tvar startAnimTime = _getCurrentTime(), t;\n\t\t_registerStartAnimation(name);\n\n\t\tvar animloop = function(){\n\t\t\tif ( _animations[name] ) {\n\t\t\t\t\n\t\t\t\tt = _getCurrentTime() - startAnimTime; // time diff\n\t\t\t\t//b - beginning (start prop)\n\t\t\t\t//d - anim duration\n\n\t\t\t\tif ( t >= d ) {\n\t\t\t\t\t_stopAnimation(name);\n\t\t\t\t\tonUpdate(endProp);\n\t\t\t\t\tif(onComplete) {\n\t\t\t\t\t\tonComplete();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tonUpdate( (endProp - b) * easingFn(t/d) + b );\n\n\t\t\t\t_animations[name].raf = _requestAF(animloop);\n\t\t\t}\n\t\t};\n\t\tanimloop();\n\t};\n\t\n\n\nvar publicMethods = {\n\n\t// make a few local variables and functions public\n\tshout: _shout,\n\tlisten: _listen,\n\tviewportSize: _viewportSize,\n\toptions: _options,\n\n\tisMainScrollAnimating: function() {\n\t\treturn _mainScrollAnimating;\n\t},\n\tgetZoomLevel: function() {\n\t\treturn _currZoomLevel;\n\t},\n\tgetCurrentIndex: function() {\n\t\treturn _currentItemIndex;\n\t},\n\tisDragging: function() {\n\t\treturn _isDragging;\n\t},\t\n\tisZooming: function() {\n\t\treturn _isZooming;\n\t},\n\tsetScrollOffset: function(x,y) {\n\t\t_offset.x = x;\n\t\t_currentWindowScrollY = _offset.y = y;\n\t\t_shout('updateScrollOffset', _offset);\n\t},\n\tapplyZoomPan: function(zoomLevel,panX,panY,allowRenderResolution) {\n\t\t_panOffset.x = panX;\n\t\t_panOffset.y = panY;\n\t\t_currZoomLevel = zoomLevel;\n\t\t_applyCurrentZoomPan( allowRenderResolution );\n\t},\n\n\tinit: function() {\n\n\t\tif(_isOpen || _isDestroying) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar i;\n\n\t\tself.framework = framework; // basic functionality\n\t\tself.template = template; // root DOM element of PhotoSwipe\n\t\tself.bg = framework.getChildByClass(template, 'pswp__bg');\n\n\t\t_initalClassName = template.className;\n\t\t_isOpen = true;\n\t\t\t\t\n\t\t_features = framework.detectFeatures();\n\t\t_requestAF = _features.raf;\n\t\t_cancelAF = _features.caf;\n\t\t_transformKey = _features.transform;\n\t\t_oldIE = _features.oldIE;\n\t\t\n\t\tself.scrollWrap = framework.getChildByClass(template, 'pswp__scroll-wrap');\n\t\tself.container = framework.getChildByClass(self.scrollWrap, 'pswp__container');\n\n\t\t_containerStyle = self.container.style; // for fast access\n\n\t\t// Objects that hold slides (there are only 3 in DOM)\n\t\tself.itemHolders = _itemHolders = [\n\t\t\t{el:self.container.children[0] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[1] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[2] , wrap:0, index: -1}\n\t\t];\n\n\t\t// hide nearby item holders until initial zoom animation finishes (to avoid extra Paints)\n\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'none';\n\n\t\t_setupTransforms();\n\n\t\t// Setup global events\n\t\t_globalEventHandlers = {\n\t\t\tresize: self.updateSize,\n\n\t\t\t// Fixes: iOS 10.3 resize event\n\t\t\t// does not update scrollWrap.clientWidth instantly after resize\n\t\t\t// https://github.com/dimsemenov/PhotoSwipe/issues/1315\n\t\t\torientationchange: function() {\n\t\t\t\tclearTimeout(_orientationChangeTimeout);\n\t\t\t\t_orientationChangeTimeout = setTimeout(function() {\n\t\t\t\t\tif(_viewportSize.x !== self.scrollWrap.clientWidth) {\n\t\t\t\t\t\tself.updateSize();\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t},\n\t\t\tscroll: _updatePageScrollOffset,\n\t\t\tkeydown: _onKeyDown,\n\t\t\tclick: _onGlobalClick\n\t\t};\n\n\t\t// disable show/hide effects on old browsers that don't support CSS animations or transforms, \n\t\t// old IOS, Android and Opera mobile. Blackberry seems to work fine, even older models.\n\t\tvar oldPhone = _features.isOldIOSPhone || _features.isOldAndroid || _features.isMobileOpera;\n\t\tif(!_features.animationName || !_features.transform || oldPhone) {\n\t\t\t_options.showAnimationDuration = _options.hideAnimationDuration = 0;\n\t\t}\n\n\t\t// init modules\n\t\tfor(i = 0; i < _modules.length; i++) {\n\t\t\tself['init' + _modules[i]]();\n\t\t}\n\t\t\n\t\t// init\n\t\tif(UiClass) {\n\t\t\tvar ui = self.ui = new UiClass(self, framework);\n\t\t\tui.init();\n\t\t}\n\n\t\t_shout('firstUpdate');\n\t\t_currentItemIndex = _currentItemIndex || _options.index || 0;\n\t\t// validate index\n\t\tif( isNaN(_currentItemIndex) || _currentItemIndex < 0 || _currentItemIndex >= _getNumItems() ) {\n\t\t\t_currentItemIndex = 0;\n\t\t}\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\n\t\t\n\t\tif(_features.isOldIOSPhone || _features.isOldAndroid) {\n\t\t\t_isFixedPosition = false;\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'false');\n\t\tif(_options.modal) {\n\t\t\tif(!_isFixedPosition) {\n\t\t\t\ttemplate.style.position = 'absolute';\n\t\t\t\ttemplate.style.top = framework.getScrollY() + 'px';\n\t\t\t} else {\n\t\t\t\ttemplate.style.position = 'fixed';\n\t\t\t}\n\t\t}\n\n\t\tif(_currentWindowScrollY === undefined) {\n\t\t\t_shout('initialLayout');\n\t\t\t_currentWindowScrollY = _initalWindowScrollY = framework.getScrollY();\n\t\t}\n\t\t\n\t\t// add classes to root element of PhotoSwipe\n\t\tvar rootClasses = 'pswp--open ';\n\t\tif(_options.mainClass) {\n\t\t\trootClasses += _options.mainClass + ' ';\n\t\t}\n\t\tif(_options.showHideOpacity) {\n\t\t\trootClasses += 'pswp--animate_opacity ';\n\t\t}\n\t\trootClasses += _likelyTouchDevice ? 'pswp--touch' : 'pswp--notouch';\n\t\trootClasses += _features.animationName ? ' pswp--css_animation' : '';\n\t\trootClasses += _features.svg ? ' pswp--svg' : '';\n\t\tframework.addClass(template, rootClasses);\n\n\t\tself.updateSize();\n\n\t\t// initial update\n\t\t_containerShiftIndex = -1;\n\t\t_indexDiff = null;\n\t\tfor(i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, _itemHolders[i].el.style);\n\t\t}\n\n\t\tif(!_oldIE) {\n\t\t\tframework.bind(self.scrollWrap, _downEvents, self); // no dragging for old IE\n\t\t}\t\n\n\t\t_listen('initialZoomInEnd', function() {\n\t\t\tself.setContent(_itemHolders[0], _currentItemIndex-1);\n\t\t\tself.setContent(_itemHolders[2], _currentItemIndex+1);\n\n\t\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'block';\n\n\t\t\tif(_options.focus) {\n\t\t\t\t// focus causes layout, \n\t\t\t\t// which causes lag during the animation, \n\t\t\t\t// that's why we delay it untill the initial zoom transition ends\n\t\t\t\ttemplate.focus();\n\t\t\t}\n\t\t\t \n\n\t\t\t_bindEvents();\n\t\t});\n\n\t\t// set content for center slide (first time)\n\t\tself.setContent(_itemHolders[1], _currentItemIndex);\n\t\t\n\t\tself.updateCurrItem();\n\n\t\t_shout('afterInit');\n\n\t\tif(!_isFixedPosition) {\n\n\t\t\t// On all versions of iOS lower than 8.0, we check size of viewport every second.\n\t\t\t// \n\t\t\t// This is done to detect when Safari top & bottom bars appear, \n\t\t\t// as this action doesn't trigger any events (like resize). \n\t\t\t// \n\t\t\t// On iOS8 they fixed this.\n\t\t\t// \n\t\t\t// 10 Nov 2014: iOS 7 usage ~40%. iOS 8 usage 56%.\n\t\t\t\n\t\t\t_updateSizeInterval = setInterval(function() {\n\t\t\t\tif(!_numAnimations && !_isDragging && !_isZooming && (_currZoomLevel === self.currItem.initialZoomLevel)  ) {\n\t\t\t\t\tself.updateSize();\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t}\n\n\t\tframework.addClass(template, 'pswp--visible');\n\t},\n\n\t// Close the gallery, then destroy it\n\tclose: function() {\n\t\tif(!_isOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\t_isOpen = false;\n\t\t_isDestroying = true;\n\t\t_shout('close');\n\t\t_unbindEvents();\n\n\t\t_showOrHide(self.currItem, null, true, self.destroy);\n\t},\n\n\t// destroys the gallery (unbinds events, cleans up intervals and timeouts to avoid memory leaks)\n\tdestroy: function() {\n\t\t_shout('destroy');\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'true');\n\t\ttemplate.className = _initalClassName;\n\n\t\tif(_updateSizeInterval) {\n\t\t\tclearInterval(_updateSizeInterval);\n\t\t}\n\n\t\tframework.unbind(self.scrollWrap, _downEvents, self);\n\n\t\t// we unbind scroll event at the end, as closing animation may depend on it\n\t\tframework.unbind(window, 'scroll', self);\n\n\t\t_stopDragUpdateLoop();\n\n\t\t_stopAllAnimations();\n\n\t\t_listeners = null;\n\t},\n\n\t/**\n\t * Pan image to position\n\t * @param {Number} x     \n\t * @param {Number} y     \n\t * @param {Boolean} force Will ignore bounds if set to true.\n\t */\n\tpanTo: function(x,y,force) {\n\t\tif(!force) {\n\t\t\tif(x > _currPanBounds.min.x) {\n\t\t\t\tx = _currPanBounds.min.x;\n\t\t\t} else if(x < _currPanBounds.max.x) {\n\t\t\t\tx = _currPanBounds.max.x;\n\t\t\t}\n\n\t\t\tif(y > _currPanBounds.min.y) {\n\t\t\t\ty = _currPanBounds.min.y;\n\t\t\t} else if(y < _currPanBounds.max.y) {\n\t\t\t\ty = _currPanBounds.max.y;\n\t\t\t}\n\t\t}\n\t\t\n\t\t_panOffset.x = x;\n\t\t_panOffset.y = y;\n\t\t_applyCurrentZoomPan();\n\t},\n\t\n\thandleEvent: function (e) {\n\t\te = e || window.event;\n\t\tif(_globalEventHandlers[e.type]) {\n\t\t\t_globalEventHandlers[e.type](e);\n\t\t}\n\t},\n\n\n\tgoTo: function(index) {\n\n\t\tindex = _getLoopedId(index);\n\n\t\tvar diff = index - _currentItemIndex;\n\t\t_indexDiff = diff;\n\n\t\t_currentItemIndex = index;\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_currPositionIndex -= diff;\n\t\t\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\t\t\n\n\t\t_stopAllAnimations();\n\t\t_mainScrollAnimating = false;\n\n\t\tself.updateCurrItem();\n\t},\n\tnext: function() {\n\t\tself.goTo( _currentItemIndex + 1);\n\t},\n\tprev: function() {\n\t\tself.goTo( _currentItemIndex - 1);\n\t},\n\n\t// update current zoom/pan objects\n\tupdateCurrZoomItem: function(emulateSetContent) {\n\t\tif(emulateSetContent) {\n\t\t\t_shout('beforeChange', 0);\n\t\t}\n\n\t\t// itemHolder[1] is middle (current) item\n\t\tif(_itemHolders[1].el.children.length) {\n\t\t\tvar zoomElement = _itemHolders[1].el.children[0];\n\t\t\tif( framework.hasClass(zoomElement, 'pswp__zoom-wrap') ) {\n\t\t\t\t_currZoomElementStyle = zoomElement.style;\n\t\t\t} else {\n\t\t\t\t_currZoomElementStyle = null;\n\t\t\t}\n\t\t} else {\n\t\t\t_currZoomElementStyle = null;\n\t\t}\n\t\t\n\t\t_currPanBounds = self.currItem.bounds;\t\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\n\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t_panOffset.y = _currPanBounds.center.y;\n\n\t\tif(emulateSetContent) {\n\t\t\t_shout('afterChange');\n\t\t}\n\t},\n\n\n\tinvalidateCurrItems: function() {\n\t\t_itemsNeedUpdate = true;\n\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\tif( _itemHolders[i].item ) {\n\t\t\t\t_itemHolders[i].item.needsUpdate = true;\n\t\t\t}\n\t\t}\n\t},\n\n\tupdateCurrItem: function(beforeAnimation) {\n\n\t\tif(_indexDiff === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar diffAbs = Math.abs(_indexDiff),\n\t\t\ttempHolder;\n\n\t\tif(beforeAnimation && diffAbs < 2) {\n\t\t\treturn;\n\t\t}\n\n\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_renderMaxResolution = false;\n\t\t\n\t\t_shout('beforeChange', _indexDiff);\n\n\t\tif(diffAbs >= NUM_HOLDERS) {\n\t\t\t_containerShiftIndex += _indexDiff + (_indexDiff > 0 ? -NUM_HOLDERS : NUM_HOLDERS);\n\t\t\tdiffAbs = NUM_HOLDERS;\n\t\t}\n\t\tfor(var i = 0; i < diffAbs; i++) {\n\t\t\tif(_indexDiff > 0) {\n\t\t\t\ttempHolder = _itemHolders.shift();\n\t\t\t\t_itemHolders[NUM_HOLDERS-1] = tempHolder; // move first to last\n\n\t\t\t\t_containerShiftIndex++;\n\t\t\t\t_setTranslateX( (_containerShiftIndex+2) * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex - diffAbs + i + 1 + 1);\n\t\t\t} else {\n\t\t\t\ttempHolder = _itemHolders.pop();\n\t\t\t\t_itemHolders.unshift( tempHolder ); // move last to first\n\n\t\t\t\t_containerShiftIndex--;\n\t\t\t\t_setTranslateX( _containerShiftIndex * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex + diffAbs - i - 1 - 1);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t// reset zoom/pan on previous item\n\t\tif(_currZoomElementStyle && Math.abs(_indexDiff) === 1) {\n\n\t\t\tvar prevItem = _getItemAt(_prevItemIndex);\n\t\t\tif(prevItem.initialZoomLevel !== _currZoomLevel) {\n\t\t\t\t_calculateItemSize(prevItem , _viewportSize );\n\t\t\t\t_setImageSize(prevItem);\n\t\t\t\t_applyZoomPanToItem( prevItem ); \t\t\t\t\n\t\t\t}\n\n\t\t}\n\n\t\t// reset diff after update\n\t\t_indexDiff = 0;\n\n\t\tself.updateCurrZoomItem();\n\n\t\t_prevItemIndex = _currentItemIndex;\n\n\t\t_shout('afterChange');\n\t\t\n\t},\n\n\n\n\tupdateSize: function(force) {\n\t\t\n\t\tif(!_isFixedPosition && _options.modal) {\n\t\t\tvar windowScrollY = framework.getScrollY();\n\t\t\tif(_currentWindowScrollY !== windowScrollY) {\n\t\t\t\ttemplate.style.top = windowScrollY + 'px';\n\t\t\t\t_currentWindowScrollY = windowScrollY;\n\t\t\t}\n\t\t\tif(!force && _windowVisibleSize.x === window.innerWidth && _windowVisibleSize.y === window.innerHeight) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_windowVisibleSize.x = window.innerWidth;\n\t\t\t_windowVisibleSize.y = window.innerHeight;\n\n\t\t\t//template.style.width = _windowVisibleSize.x + 'px';\n\t\t\ttemplate.style.height = _windowVisibleSize.y + 'px';\n\t\t}\n\n\n\n\t\t_viewportSize.x = self.scrollWrap.clientWidth;\n\t\t_viewportSize.y = self.scrollWrap.clientHeight;\n\n\t\t_updatePageScrollOffset();\n\n\t\t_slideSize.x = _viewportSize.x + Math.round(_viewportSize.x * _options.spacing);\n\t\t_slideSize.y = _viewportSize.y;\n\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\n\t\t_shout('beforeResize'); // even may be used for example to switch image sources\n\n\n\t\t// don't re-calculate size on inital size update\n\t\tif(_containerShiftIndex !== undefined) {\n\n\t\t\tvar holder,\n\t\t\t\titem,\n\t\t\t\thIndex;\n\n\t\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t\tholder = _itemHolders[i];\n\t\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, holder.el.style);\n\n\t\t\t\thIndex = _currentItemIndex+i-1;\n\n\t\t\t\tif(_options.loop && _getNumItems() > 2) {\n\t\t\t\t\thIndex = _getLoopedId(hIndex);\n\t\t\t\t}\n\n\t\t\t\t// update zoom level on items and refresh source (if needsUpdate)\n\t\t\t\titem = _getItemAt( hIndex );\n\n\t\t\t\t// re-render gallery item if `needsUpdate`,\n\t\t\t\t// or doesn't have `bounds` (entirely new slide object)\n\t\t\t\tif( item && (_itemsNeedUpdate || item.needsUpdate || !item.bounds) ) {\n\n\t\t\t\t\tself.cleanSlide( item );\n\t\t\t\t\t\n\t\t\t\t\tself.setContent( holder, hIndex );\n\n\t\t\t\t\t// if \"center\" slide\n\t\t\t\t\tif(i === 1) {\n\t\t\t\t\t\tself.currItem = item;\n\t\t\t\t\t\tself.updateCurrZoomItem(true);\n\t\t\t\t\t}\n\n\t\t\t\t\titem.needsUpdate = false;\n\n\t\t\t\t} else if(holder.index === -1 && hIndex >= 0) {\n\t\t\t\t\t// add content first time\n\t\t\t\t\tself.setContent( holder, hIndex );\n\t\t\t\t}\n\t\t\t\tif(item && item.container) {\n\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t_setImageSize(item);\n\t\t\t\t\t_applyZoomPanToItem( item );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t_itemsNeedUpdate = false;\n\t\t}\t\n\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\t\t_currPanBounds = self.currItem.bounds;\n\n\t\tif(_currPanBounds) {\n\t\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t\t_panOffset.y = _currPanBounds.center.y;\n\t\t\t_applyCurrentZoomPan( true );\n\t\t}\n\t\t\n\t\t_shout('resize');\n\t},\n\t\n\t// Zoom current item to\n\tzoomTo: function(destZoomLevel, centerPoint, speed, easingFn, updateFn) {\n\t\t/*\n\t\t\tif(destZoomLevel === 'fit') {\n\t\t\t\tdestZoomLevel = self.currItem.fitRatio;\n\t\t\t} else if(destZoomLevel === 'fill') {\n\t\t\t\tdestZoomLevel = self.currItem.fillRatio;\n\t\t\t}\n\t\t*/\n\n\t\tif(centerPoint) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_midZoomPoint.x = Math.abs(centerPoint.x) - _panOffset.x ;\n\t\t\t_midZoomPoint.y = Math.abs(centerPoint.y) - _panOffset.y ;\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\t\t}\n\n\t\tvar destPanBounds = _calculatePanBounds(destZoomLevel, false),\n\t\t\tdestPanOffset = {};\n\n\t\t_modifyDestPanOffset('x', destPanBounds, destPanOffset, destZoomLevel);\n\t\t_modifyDestPanOffset('y', destPanBounds, destPanOffset, destZoomLevel);\n\n\t\tvar initialZoomLevel = _currZoomLevel;\n\t\tvar initialPanOffset = {\n\t\t\tx: _panOffset.x,\n\t\t\ty: _panOffset.y\n\t\t};\n\n\t\t_roundPoint(destPanOffset);\n\n\t\tvar onUpdate = function(now) {\n\t\t\tif(now === 1) {\n\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t_panOffset.x = destPanOffset.x;\n\t\t\t\t_panOffset.y = destPanOffset.y;\n\t\t\t} else {\n\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t_panOffset.x = (destPanOffset.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t_panOffset.y = (destPanOffset.y - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t}\n\n\t\t\tif(updateFn) {\n\t\t\t\tupdateFn(now);\n\t\t\t}\n\n\t\t\t_applyCurrentZoomPan( now === 1 );\n\t\t};\n\n\t\tif(speed) {\n\t\t\t_animateProp('customZoomTo', 0, 1, speed, easingFn || framework.easing.sine.inOut, onUpdate);\n\t\t} else {\n\t\t\tonUpdate(1);\n\t\t}\n\t}\n\n\n};\n\n\n/*>>core*/\n\n/*>>gestures*/\n/**\n * Mouse/touch/pointer event handlers.\n * \n * separated from @core.js for readability\n */\n\nvar MIN_SWIPE_DISTANCE = 30,\n\tDIRECTION_CHECK_OFFSET = 10; // amount of pixels to drag to determine direction of swipe\n\nvar _gestureStartTime,\n\t_gestureCheckSpeedTime,\n\n\t// pool of objects that are used during dragging of zooming\n\tp = {}, // first point\n\tp2 = {}, // second point (for zoom gesture)\n\tdelta = {},\n\t_currPoint = {},\n\t_startPoint = {},\n\t_currPointers = [],\n\t_startMainScrollPos = {},\n\t_releaseAnimData,\n\t_posPoints = [], // array of points during dragging, used to determine type of gesture\n\t_tempPoint = {},\n\n\t_isZoomingIn,\n\t_verticalDragInitiated,\n\t_oldAndroidTouchEndTimeout,\n\t_currZoomedItemIndex = 0,\n\t_centerPoint = _getEmptyPoint(),\n\t_lastReleaseTime = 0,\n\t_isDragging, // at least one pointer is down\n\t_isMultitouch, // at least two _pointers are down\n\t_zoomStarted, // zoom level changed during zoom gesture\n\t_moved,\n\t_dragAnimFrame,\n\t_mainScrollShifted,\n\t_currentPoints, // array of current touch points\n\t_isZooming,\n\t_currPointsDistance,\n\t_startPointsDistance,\n\t_currPanBounds,\n\t_mainScrollPos = _getEmptyPoint(),\n\t_currZoomElementStyle,\n\t_mainScrollAnimating, // true, if animation after swipe gesture is running\n\t_midZoomPoint = _getEmptyPoint(),\n\t_currCenterPoint = _getEmptyPoint(),\n\t_direction,\n\t_isFirstMove,\n\t_opacityChanged,\n\t_bgOpacity,\n\t_wasOverInitialZoom,\n\n\t_isEqualPoints = function(p1, p2) {\n\t\treturn p1.x === p2.x && p1.y === p2.y;\n\t},\n\t_isNearbyPoints = function(touch0, touch1) {\n\t\treturn Math.abs(touch0.x - touch1.x) < DOUBLE_TAP_RADIUS && Math.abs(touch0.y - touch1.y) < DOUBLE_TAP_RADIUS;\n\t},\n\t_calculatePointsDistance = function(p1, p2) {\n\t\t_tempPoint.x = Math.abs( p1.x - p2.x );\n\t\t_tempPoint.y = Math.abs( p1.y - p2.y );\n\t\treturn Math.sqrt(_tempPoint.x * _tempPoint.x + _tempPoint.y * _tempPoint.y);\n\t},\n\t_stopDragUpdateLoop = function() {\n\t\tif(_dragAnimFrame) {\n\t\t\t_cancelAF(_dragAnimFrame);\n\t\t\t_dragAnimFrame = null;\n\t\t}\n\t},\n\t_dragUpdateLoop = function() {\n\t\tif(_isDragging) {\n\t\t\t_dragAnimFrame = _requestAF(_dragUpdateLoop);\n\t\t\t_renderMovement();\n\t\t}\n\t},\n\t_canPan = function() {\n\t\treturn !(_options.scaleMode === 'fit' && _currZoomLevel ===  self.currItem.initialZoomLevel);\n\t},\n\t\n\t// find the closest parent DOM element\n\t_closestElement = function(el, fn) {\n\t  \tif(!el || el === document) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \t// don't search elements above pswp__scroll-wrap\n\t  \tif(el.getAttribute('class') && el.getAttribute('class').indexOf('pswp__scroll-wrap') > -1 ) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \tif( fn(el) ) {\n\t  \t\treturn el;\n\t  \t}\n\n\t  \treturn _closestElement(el.parentNode, fn);\n\t},\n\n\t_preventObj = {},\n\t_preventDefaultEventBehaviour = function(e, isDown) {\n\t    _preventObj.prevent = !_closestElement(e.target, _options.isClickableElement);\n\n\t\t_shout('preventDragEvent', e, isDown, _preventObj);\n\t\treturn _preventObj.prevent;\n\n\t},\n\t_convertTouchToPoint = function(touch, p) {\n\t\tp.x = touch.pageX;\n\t\tp.y = touch.pageY;\n\t\tp.id = touch.identifier;\n\t\treturn p;\n\t},\n\t_findCenterOfPoints = function(p1, p2, pCenter) {\n\t\tpCenter.x = (p1.x + p2.x) * 0.5;\n\t\tpCenter.y = (p1.y + p2.y) * 0.5;\n\t},\n\t_pushPosPoint = function(time, x, y) {\n\t\tif(time - _gestureCheckSpeedTime > 50) {\n\t\t\tvar o = _posPoints.length > 2 ? _posPoints.shift() : {};\n\t\t\to.x = x;\n\t\t\to.y = y; \n\t\t\t_posPoints.push(o);\n\t\t\t_gestureCheckSpeedTime = time;\n\t\t}\n\t},\n\n\t_calculateVerticalDragOpacityRatio = function() {\n\t\tvar yOffset = _panOffset.y - self.currItem.initialPosition.y; // difference between initial and current position\n\t\treturn 1 -  Math.abs( yOffset / (_viewportSize.y / 2)  );\n\t},\n\n\t\n\t// points pool, reused during touch events\n\t_ePoint1 = {},\n\t_ePoint2 = {},\n\t_tempPointsArr = [],\n\t_tempCounter,\n\t_getTouchPoints = function(e) {\n\t\t// clean up previous points, without recreating array\n\t\twhile(_tempPointsArr.length > 0) {\n\t\t\t_tempPointsArr.pop();\n\t\t}\n\n\t\tif(!_pointerEventEnabled) {\n\t\t\tif(e.type.indexOf('touch') > -1) {\n\n\t\t\t\tif(e.touches && e.touches.length > 0) {\n\t\t\t\t\t_tempPointsArr[0] = _convertTouchToPoint(e.touches[0], _ePoint1);\n\t\t\t\t\tif(e.touches.length > 1) {\n\t\t\t\t\t\t_tempPointsArr[1] = _convertTouchToPoint(e.touches[1], _ePoint2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_ePoint1.x = e.pageX;\n\t\t\t\t_ePoint1.y = e.pageY;\n\t\t\t\t_ePoint1.id = '';\n\t\t\t\t_tempPointsArr[0] = _ePoint1;//_ePoint1;\n\t\t\t}\n\t\t} else {\n\t\t\t_tempCounter = 0;\n\t\t\t// we can use forEach, as pointer events are supported only in modern browsers\n\t\t\t_currPointers.forEach(function(p) {\n\t\t\t\tif(_tempCounter === 0) {\n\t\t\t\t\t_tempPointsArr[0] = p;\n\t\t\t\t} else if(_tempCounter === 1) {\n\t\t\t\t\t_tempPointsArr[1] = p;\n\t\t\t\t}\n\t\t\t\t_tempCounter++;\n\n\t\t\t});\n\t\t}\n\t\treturn _tempPointsArr;\n\t},\n\n\t_panOrMoveMainScroll = function(axis, delta) {\n\n\t\tvar panFriction,\n\t\t\toverDiff = 0,\n\t\t\tnewOffset = _panOffset[axis] + delta[axis],\n\t\t\tstartOverDiff,\n\t\t\tdir = delta[axis] > 0,\n\t\t\tnewMainScrollPosition = _mainScrollPos.x + delta.x,\n\t\t\tmainScrollDiff = _mainScrollPos.x - _startMainScrollPos.x,\n\t\t\tnewPanPos,\n\t\t\tnewMainScrollPos;\n\n\t\t// calculate fdistance over the bounds and friction\n\t\tif(newOffset > _currPanBounds.min[axis] || newOffset < _currPanBounds.max[axis]) {\n\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t// Linear increasing of friction, so at 1/4 of viewport it's at max value. \n\t\t\t// Looks not as nice as was expected. Left for history.\n\t\t\t// panFriction = (1 - (_panOffset[axis] + delta[axis] + panBounds.min[axis]) / (_viewportSize[axis] / 4) );\n\t\t} else {\n\t\t\tpanFriction = 1;\n\t\t}\n\t\t\n\t\tnewOffset = _panOffset[axis] + delta[axis] * panFriction;\n\n\t\t// move main scroll or start panning\n\t\tif(_options.allowPanToNext || _currZoomLevel === self.currItem.initialZoomLevel) {\n\n\n\t\t\tif(!_currZoomElementStyle) {\n\t\t\t\t\n\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t} else if(_direction === 'h' && axis === 'x' && !_zoomStarted ) {\n\t\t\t\t\n\t\t\t\tif(dir) {\n\t\t\t\t\tif(newOffset > _currPanBounds.min[axis]) {\n\t\t\t\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t\t\t\toverDiff = _currPanBounds.min[axis] - newOffset;\n\t\t\t\t\t\tstartOverDiff = _currPanBounds.min[axis] - _startPanOffset[axis];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// drag right\n\t\t\t\t\tif( (startOverDiff <= 0 || mainScrollDiff < 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\t\t\t\t\t\tif(mainScrollDiff < 0 && newMainScrollPosition > _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif(newOffset < _currPanBounds.max[axis] ) {\n\t\t\t\t\t\tpanFriction =_options.panEndFriction;\n\t\t\t\t\t\toverDiff = newOffset - _currPanBounds.max[axis];\n\t\t\t\t\t\tstartOverDiff = _startPanOffset[axis] - _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif( (startOverDiff <= 0 || mainScrollDiff > 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t\t\t\tif(mainScrollDiff > 0 && newMainScrollPosition < _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\t//\n\t\t\t}\n\n\t\t\tif(axis === 'x') {\n\n\t\t\t\tif(newMainScrollPos !== undefined) {\n\t\t\t\t\t_moveMainScroll(newMainScrollPos, true);\n\t\t\t\t\tif(newMainScrollPos === _startMainScrollPos.x) {\n\t\t\t\t\t\t_mainScrollShifted = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_mainScrollShifted = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\tif(newPanPos !== undefined) {\n\t\t\t\t\t\t_panOffset.x = newPanPos;\n\t\t\t\t\t} else if(!_mainScrollShifted) {\n\t\t\t\t\t\t_panOffset.x += delta.x * panFriction;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn newMainScrollPos !== undefined;\n\t\t\t}\n\n\t\t}\n\n\t\tif(!_mainScrollAnimating) {\n\t\t\t\n\t\t\tif(!_mainScrollShifted) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\t_panOffset[axis] += delta[axis] * panFriction;\n\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\t\t}\n\t\t\n\t},\n\n\t// Pointerdown/touchstart/mousedown handler\n\t_onDragStart = function(e) {\n\n\t\t// Allow dragging only via left mouse button.\n\t\t// As this handler is not added in IE8 - we ignore e.which\n\t\t// \n\t\t// http://www.quirksmode.org/js/events_properties.html\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/event.button\n\t\tif(e.type === 'mousedown' && e.button > 0  ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_initialZoomRunning) {\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mousedown') {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_preventDefaultEventBehaviour(e, true)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\n\n\t\t_shout('pointerDown');\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex < 0) {\n\t\t\t\tpointerIndex = _currPointers.length;\n\t\t\t}\n\t\t\t_currPointers[pointerIndex] = {x:e.pageX, y:e.pageY, id: e.pointerId};\n\t\t}\n\t\t\n\n\n\t\tvar startPointsList = _getTouchPoints(e),\n\t\t\tnumPoints = startPointsList.length;\n\n\t\t_currentPoints = null;\n\n\t\t_stopAllAnimations();\n\n\t\t// init drag\n\t\tif(!_isDragging || numPoints === 1) {\n\n\t\t\t\n\n\t\t\t_isDragging = _isFirstMove = true;\n\t\t\tframework.bind(window, _upMoveEvents, self);\n\n\t\t\t_isZoomingIn = \n\t\t\t\t_wasOverInitialZoom = \n\t\t\t\t_opacityChanged = \n\t\t\t\t_verticalDragInitiated = \n\t\t\t\t_mainScrollShifted = \n\t\t\t\t_moved = \n\t\t\t\t_isMultitouch = \n\t\t\t\t_zoomStarted = false;\n\n\t\t\t_direction = null;\n\n\t\t\t_shout('firstTouchStart', startPointsList);\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_currPanDist.x = _currPanDist.y = 0;\n\t\t\t_equalizePoints(_currPoint, startPointsList[0]);\n\t\t\t_equalizePoints(_startPoint, _currPoint);\n\n\t\t\t//_equalizePoints(_startMainScrollPos, _mainScrollPos);\n\t\t\t_startMainScrollPos.x = _slideSize.x * _currPositionIndex;\n\n\t\t\t_posPoints = [{\n\t\t\t\tx: _currPoint.x,\n\t\t\t\ty: _currPoint.y\n\t\t\t}];\n\n\t\t\t_gestureCheckSpeedTime = _gestureStartTime = _getCurrentTime();\n\n\t\t\t//_mainScrollAnimationEnd(true);\n\t\t\t_calculatePanBounds( _currZoomLevel, true );\n\t\t\t\n\t\t\t// Start rendering\n\t\t\t_stopDragUpdateLoop();\n\t\t\t_dragUpdateLoop();\n\t\t\t\n\t\t}\n\n\t\t// init zoom\n\t\tif(!_isZooming && numPoints > 1 && !_mainScrollAnimating && !_mainScrollShifted) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_zoomStarted = false; // true if zoom changed at least once\n\n\t\t\t_isZooming = _isMultitouch = true;\n\t\t\t_currPanDist.y = _currPanDist.x = 0;\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_equalizePoints(p, startPointsList[0]);\n\t\t\t_equalizePoints(p2, startPointsList[1]);\n\n\t\t\t_findCenterOfPoints(p, p2, _currCenterPoint);\n\n\t\t\t_midZoomPoint.x = Math.abs(_currCenterPoint.x) - _panOffset.x;\n\t\t\t_midZoomPoint.y = Math.abs(_currCenterPoint.y) - _panOffset.y;\n\t\t\t_currPointsDistance = _startPointsDistance = _calculatePointsDistance(p, p2);\n\t\t}\n\n\n\t},\n\n\t// Pointermove/touchmove/mousemove handler\n\t_onDragMove = function(e) {\n\n\t\te.preventDefault();\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\tvar p = _currPointers[pointerIndex];\n\t\t\t\tp.x = e.pageX;\n\t\t\t\tp.y = e.pageY; \n\t\t\t}\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tvar touchesList = _getTouchPoints(e);\n\t\t\tif(!_direction && !_moved && !_isZooming) {\n\n\t\t\t\tif(_mainScrollPos.x !== _slideSize.x * _currPositionIndex) {\n\t\t\t\t\t// if main scroll position is shifted  direction is always horizontal\n\t\t\t\t\t_direction = 'h';\n\t\t\t\t} else {\n\t\t\t\t\tvar diff = Math.abs(touchesList[0].x - _currPoint.x) - Math.abs(touchesList[0].y - _currPoint.y);\n\t\t\t\t\t// check the direction of movement\n\t\t\t\t\tif(Math.abs(diff) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\t\t_direction = diff > 0 ? 'h' : 'v';\n\t\t\t\t\t\t_currentPoints = touchesList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_currentPoints = touchesList;\n\t\t\t}\n\t\t}\t\n\t},\n\t// \n\t_renderMovement =  function() {\n\n\t\tif(!_currentPoints) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar numPoints = _currentPoints.length;\n\n\t\tif(numPoints === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t_equalizePoints(p, _currentPoints[0]);\n\n\t\tdelta.x = p.x - _currPoint.x;\n\t\tdelta.y = p.y - _currPoint.y;\n\n\t\tif(_isZooming && numPoints > 1) {\n\t\t\t// Handle behaviour for more than 1 point\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\t\t\n\t\t\t// check if one of two points changed\n\t\t\tif( !delta.x && !delta.y && _isEqualPoints(_currentPoints[1], p2) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_equalizePoints(p2, _currentPoints[1]);\n\n\n\t\t\tif(!_zoomStarted) {\n\t\t\t\t_zoomStarted = true;\n\t\t\t\t_shout('zoomGestureStarted');\n\t\t\t}\n\t\t\t\n\t\t\t// Distance between two points\n\t\t\tvar pointsDistance = _calculatePointsDistance(p,p2);\n\n\t\t\tvar zoomLevel = _calculateZoomLevel(pointsDistance);\n\n\t\t\t// slightly over the of initial zoom level\n\t\t\tif(zoomLevel > self.currItem.initialZoomLevel + self.currItem.initialZoomLevel / 15) {\n\t\t\t\t_wasOverInitialZoom = true;\n\t\t\t}\n\n\t\t\t// Apply the friction if zoom level is out of the bounds\n\t\t\tvar zoomFriction = 1,\n\t\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\t\tif ( zoomLevel < minZoomLevel ) {\n\t\t\t\t\n\t\t\t\tif(_options.pinchToClose && !_wasOverInitialZoom && _startZoomLevel <= self.currItem.initialZoomLevel) {\n\t\t\t\t\t// fade out background if zooming out\n\t\t\t\t\tvar minusDiff = minZoomLevel - zoomLevel;\n\t\t\t\t\tvar percent = 1 - minusDiff / (minZoomLevel / 1.2);\n\n\t\t\t\t\t_applyBgOpacity(percent);\n\t\t\t\t\t_shout('onPinchClose', percent);\n\t\t\t\t\t_opacityChanged = true;\n\t\t\t\t} else {\n\t\t\t\t\tzoomFriction = (minZoomLevel - zoomLevel) / minZoomLevel;\n\t\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t\t}\n\t\t\t\t\tzoomLevel = minZoomLevel - zoomFriction * (minZoomLevel / 3);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if ( zoomLevel > maxZoomLevel ) {\n\t\t\t\t// 1.5 - extra zoom level above the max. E.g. if max is x6, real max 6 + 1.5 = 7.5\n\t\t\t\tzoomFriction = (zoomLevel - maxZoomLevel) / ( minZoomLevel * 6 );\n\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t}\n\t\t\t\tzoomLevel = maxZoomLevel + zoomFriction * minZoomLevel;\n\t\t\t}\n\n\t\t\tif(zoomFriction < 0) {\n\t\t\t\tzoomFriction = 0;\n\t\t\t}\n\n\t\t\t// distance between touch points after friction is applied\n\t\t\t_currPointsDistance = pointsDistance;\n\n\t\t\t// _centerPoint - The point in the middle of two pointers\n\t\t\t_findCenterOfPoints(p, p2, _centerPoint);\n\t\t\n\t\t\t// paning with two pointers pressed\n\t\t\t_currPanDist.x += _centerPoint.x - _currCenterPoint.x;\n\t\t\t_currPanDist.y += _centerPoint.y - _currCenterPoint.y;\n\t\t\t_equalizePoints(_currCenterPoint, _centerPoint);\n\n\t\t\t_panOffset.x = _calculatePanOffset('x', zoomLevel);\n\t\t\t_panOffset.y = _calculatePanOffset('y', zoomLevel);\n\n\t\t\t_isZoomingIn = zoomLevel > _currZoomLevel;\n\t\t\t_currZoomLevel = zoomLevel;\n\t\t\t_applyCurrentZoomPan();\n\n\t\t} else {\n\n\t\t\t// handle behaviour for one point (dragging or panning)\n\n\t\t\tif(!_direction) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_isFirstMove) {\n\t\t\t\t_isFirstMove = false;\n\n\t\t\t\t// subtract drag distance that was used during the detection direction  \n\n\t\t\t\tif( Math.abs(delta.x) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.x -= _currentPoints[0].x - _startPoint.x;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif( Math.abs(delta.y) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.y -= _currentPoints[0].y - _startPoint.y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\n\t\t\t// do nothing if pointers position hasn't changed\n\t\t\tif(delta.x === 0 && delta.y === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_direction === 'v' && _options.closeOnVerticalDrag) {\n\t\t\t\tif(!_canPan()) {\n\t\t\t\t\t_currPanDist.y += delta.y;\n\t\t\t\t\t_panOffset.y += delta.y;\n\n\t\t\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\t\t\t_verticalDragInitiated = true;\n\t\t\t\t\t_shout('onVerticalDrag', opacityRatio);\n\n\t\t\t\t\t_applyBgOpacity(opacityRatio);\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\treturn ;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_pushPosPoint(_getCurrentTime(), p.x, p.y);\n\n\t\t\t_moved = true;\n\t\t\t_currPanBounds = self.currItem.bounds;\n\t\t\t\n\t\t\tvar mainScrollChanged = _panOrMoveMainScroll('x', delta);\n\t\t\tif(!mainScrollChanged) {\n\t\t\t\t_panOrMoveMainScroll('y', delta);\n\n\t\t\t\t_roundPoint(_panOffset);\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t}\n\n\t},\n\t\n\t// Pointerup/pointercancel/touchend/touchcancel/mouseup event handler\n\t_onDragRelease = function(e) {\n\n\t\tif(_features.isOldAndroid ) {\n\n\t\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mouseup') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// on Android (v4.1, 4.2, 4.3 & possibly older) \n\t\t\t// ghost mousedown/up event isn't preventable via e.preventDefault,\n\t\t\t// which causes fake mousedown event\n\t\t\t// so we block mousedown/up for 600ms\n\t\t\tif( e.type.indexOf('touch') > -1 ) {\n\t\t\t\tclearTimeout(_oldAndroidTouchEndTimeout);\n\t\t\t\t_oldAndroidTouchEndTimeout = setTimeout(function() {\n\t\t\t\t\t_oldAndroidTouchEndTimeout = 0;\n\t\t\t\t}, 600);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t_shout('pointerUp');\n\n\t\tif(_preventDefaultEventBehaviour(e, false)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar releasePoint;\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\t\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\treleasePoint = _currPointers.splice(pointerIndex, 1)[0];\n\n\t\t\t\tif(navigator.msPointerEnabled) {\n\t\t\t\t\tvar MSPOINTER_TYPES = {\n\t\t\t\t\t\t4: 'mouse', // event.MSPOINTER_TYPE_MOUSE\n\t\t\t\t\t\t2: 'touch', // event.MSPOINTER_TYPE_TOUCH \n\t\t\t\t\t\t3: 'pen' // event.MSPOINTER_TYPE_PEN\n\t\t\t\t\t};\n\t\t\t\t\treleasePoint.type = MSPOINTER_TYPES[e.pointerType];\n\n\t\t\t\t\tif(!releasePoint.type) {\n\t\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tvar touchList = _getTouchPoints(e),\n\t\t\tgestureType,\n\t\t\tnumPoints = touchList.length;\n\n\t\tif(e.type === 'mouseup') {\n\t\t\tnumPoints = 0;\n\t\t}\n\n\t\t// Do nothing if there were 3 touch points or more\n\t\tif(numPoints === 2) {\n\t\t\t_currentPoints = null;\n\t\t\treturn true;\n\t\t}\n\n\t\t// if second pointer released\n\t\tif(numPoints === 1) {\n\t\t\t_equalizePoints(_startPoint, touchList[0]);\n\t\t}\t\t\t\t\n\n\n\t\t// pointer hasn't moved, send \"tap release\" point\n\t\tif(numPoints === 0 && !_direction && !_mainScrollAnimating) {\n\t\t\tif(!releasePoint) {\n\t\t\t\tif(e.type === 'mouseup') {\n\t\t\t\t\treleasePoint = {x: e.pageX, y: e.pageY, type:'mouse'};\n\t\t\t\t} else if(e.changedTouches && e.changedTouches[0]) {\n\t\t\t\t\treleasePoint = {x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY, type:'touch'};\n\t\t\t\t}\t\t\n\t\t\t}\n\n\t\t\t_shout('touchRelease', e, releasePoint);\n\t\t}\n\n\t\t// Difference in time between releasing of two last touch points (zoom gesture)\n\t\tvar releaseTimeDiff = -1;\n\n\t\t// Gesture completed, no pointers left\n\t\tif(numPoints === 0) {\n\t\t\t_isDragging = false;\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\n\t\t\t_stopDragUpdateLoop();\n\n\t\t\tif(_isZooming) {\n\t\t\t\t// Two points released at the same time\n\t\t\t\treleaseTimeDiff = 0;\n\t\t\t} else if(_lastReleaseTime !== -1) {\n\t\t\t\treleaseTimeDiff = _getCurrentTime() - _lastReleaseTime;\n\t\t\t}\n\t\t}\n\t\t_lastReleaseTime = numPoints === 1 ? _getCurrentTime() : -1;\n\t\t\n\t\tif(releaseTimeDiff !== -1 && releaseTimeDiff < 150) {\n\t\t\tgestureType = 'zoom';\n\t\t} else {\n\t\t\tgestureType = 'swipe';\n\t\t}\n\n\t\tif(_isZooming && numPoints < 2) {\n\t\t\t_isZooming = false;\n\n\t\t\t// Only second point released\n\t\t\tif(numPoints === 1) {\n\t\t\t\tgestureType = 'zoomPointerUp';\n\t\t\t}\n\t\t\t_shout('zoomGestureEnded');\n\t\t}\n\n\t\t_currentPoints = null;\n\t\tif(!_moved && !_zoomStarted && !_mainScrollAnimating && !_verticalDragInitiated) {\n\t\t\t// nothing to animate\n\t\t\treturn;\n\t\t}\n\t\n\t\t_stopAllAnimations();\n\n\t\t\n\t\tif(!_releaseAnimData) {\n\t\t\t_releaseAnimData = _initDragReleaseAnimationData();\n\t\t}\n\t\t\n\t\t_releaseAnimData.calculateSwipeSpeed('x');\n\n\n\t\tif(_verticalDragInitiated) {\n\n\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\tif(opacityRatio < _options.verticalDragRange) {\n\t\t\t\tself.close();\n\t\t\t} else {\n\t\t\t\tvar initalPanY = _panOffset.y,\n\t\t\t\t\tinitialBgOpacity = _bgOpacity;\n\n\t\t\t\t_animateProp('verticalDrag', 0, 1, 300, framework.easing.cubic.out, function(now) {\n\t\t\t\t\t\n\t\t\t\t\t_panOffset.y = (self.currItem.initialPosition.y - initalPanY) * now + initalPanY;\n\n\t\t\t\t\t_applyBgOpacity(  (1 - initialBgOpacity) * now + initialBgOpacity );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t});\n\n\t\t\t\t_shout('onVerticalDrag', 1);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\n\t\t// main scroll \n\t\tif(  (_mainScrollShifted || _mainScrollAnimating) && numPoints === 0) {\n\t\t\tvar itemChanged = _finishSwipeMainScrollGesture(gestureType, _releaseAnimData);\n\t\t\tif(itemChanged) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgestureType = 'zoomPointerUp';\n\t\t}\n\n\t\t// prevent zoom/pan animation when main scroll animation runs\n\t\tif(_mainScrollAnimating) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// Complete simple zoom gesture (reset zoom level if it's out of the bounds)  \n\t\tif(gestureType !== 'swipe') {\n\t\t\t_completeZoomGesture();\n\t\t\treturn;\n\t\t}\n\t\n\t\t// Complete pan gesture if main scroll is not shifted, and it's possible to pan current image\n\t\tif(!_mainScrollShifted && _currZoomLevel > self.currItem.fitRatio) {\n\t\t\t_completePanGesture(_releaseAnimData);\n\t\t}\n\t},\n\n\n\t// Returns object with data about gesture\n\t// It's created only once and then reused\n\t_initDragReleaseAnimationData  = function() {\n\t\t// temp local vars\n\t\tvar lastFlickDuration,\n\t\t\ttempReleasePos;\n\n\t\t// s = this\n\t\tvar s = {\n\t\t\tlastFlickOffset: {},\n\t\t\tlastFlickDist: {},\n\t\t\tlastFlickSpeed: {},\n\t\t\tslowDownRatio:  {},\n\t\t\tslowDownRatioReverse:  {},\n\t\t\tspeedDecelerationRatio:  {},\n\t\t\tspeedDecelerationRatioAbs:  {},\n\t\t\tdistanceOffset:  {},\n\t\t\tbackAnimDestination: {},\n\t\t\tbackAnimStarted: {},\n\t\t\tcalculateSwipeSpeed: function(axis) {\n\t\t\t\t\n\n\t\t\t\tif( _posPoints.length > 1) {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureCheckSpeedTime + 50;\n\t\t\t\t\ttempReleasePos = _posPoints[_posPoints.length-2][axis];\n\t\t\t\t} else {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureStartTime; // total gesture duration\n\t\t\t\t\ttempReleasePos = _startPoint[axis];\n\t\t\t\t}\n\t\t\t\ts.lastFlickOffset[axis] = _currPoint[axis] - tempReleasePos;\n\t\t\t\ts.lastFlickDist[axis] = Math.abs(s.lastFlickOffset[axis]);\n\t\t\t\tif(s.lastFlickDist[axis] > 20) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = s.lastFlickOffset[axis] / lastFlickDuration;\n\t\t\t\t} else {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\tif( Math.abs(s.lastFlickSpeed[axis]) < 0.1 ) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ts.slowDownRatio[axis] = 0.95;\n\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\ts.speedDecelerationRatio[axis] = 1;\n\t\t\t},\n\n\t\t\tcalculateOverBoundsAnimOffset: function(axis, speed) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\n\t\t\t\t\tif(_panOffset[axis] > _currPanBounds.min[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.min[axis];\n\t\t\t\t\t\t\n\t\t\t\t\t} else if(_panOffset[axis] < _currPanBounds.max[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif(s.backAnimDestination[axis] !== undefined) {\n\t\t\t\t\t\ts.slowDownRatio[axis] = 0.7;\n\t\t\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\t\t\tif(s.speedDecelerationRatioAbs[axis] < 0.05) {\n\n\t\t\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t\t\t\ts.backAnimStarted[axis] = true;\n\n\t\t\t\t\t\t\t_animateProp('bounceZoomPan'+axis,_panOffset[axis], \n\t\t\t\t\t\t\t\ts.backAnimDestination[axis], \n\t\t\t\t\t\t\t\tspeed || 300, \n\t\t\t\t\t\t\t\tframework.easing.sine.out, \n\t\t\t\t\t\t\t\tfunction(pos) {\n\t\t\t\t\t\t\t\t\t_panOffset[axis] = pos;\n\t\t\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Reduces the speed by slowDownRatio (per 10ms)\n\t\t\tcalculateAnimOffset: function(axis) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\t\t\t\t\ts.speedDecelerationRatio[axis] = s.speedDecelerationRatio[axis] * (s.slowDownRatio[axis] + \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] - \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] * s.timeDiff / 10);\n\n\t\t\t\t\ts.speedDecelerationRatioAbs[axis] = Math.abs(s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis]);\n\t\t\t\t\ts.distanceOffset[axis] = s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis] * s.timeDiff;\n\t\t\t\t\t_panOffset[axis] += s.distanceOffset[axis];\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpanAnimLoop: function() {\n\t\t\t\tif ( _animations.zoomPan ) {\n\t\t\t\t\t_animations.zoomPan.raf = _requestAF(s.panAnimLoop);\n\n\t\t\t\t\ts.now = _getCurrentTime();\n\t\t\t\t\ts.timeDiff = s.now - s.lastNow;\n\t\t\t\t\ts.lastNow = s.now;\n\t\t\t\t\t\n\t\t\t\t\ts.calculateAnimOffset('x');\n\t\t\t\t\ts.calculateAnimOffset('y');\n\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('x');\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('y');\n\n\n\t\t\t\t\tif (s.speedDecelerationRatioAbs.x < 0.05 && s.speedDecelerationRatioAbs.y < 0.05) {\n\n\t\t\t\t\t\t// round pan position\n\t\t\t\t\t\t_panOffset.x = Math.round(_panOffset.x);\n\t\t\t\t\t\t_panOffset.y = Math.round(_panOffset.y);\n\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\n\t\t\t\t\t\t_stopAnimation('zoomPan');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t\treturn s;\n\t},\n\n\t_completePanGesture = function(animData) {\n\t\t// calculate swipe speed for Y axis (paanning)\n\t\tanimData.calculateSwipeSpeed('y');\n\n\t\t_currPanBounds = self.currItem.bounds;\n\t\t\n\t\tanimData.backAnimDestination = {};\n\t\tanimData.backAnimStarted = {};\n\n\t\t// Avoid acceleration animation if speed is too low\n\t\tif(Math.abs(animData.lastFlickSpeed.x) <= 0.05 && Math.abs(animData.lastFlickSpeed.y) <= 0.05 ) {\n\t\t\tanimData.speedDecelerationRatioAbs.x = animData.speedDecelerationRatioAbs.y = 0;\n\n\t\t\t// Run pan drag release animation. E.g. if you drag image and release finger without momentum.\n\t\t\tanimData.calculateOverBoundsAnimOffset('x');\n\t\t\tanimData.calculateOverBoundsAnimOffset('y');\n\t\t\treturn true;\n\t\t}\n\n\t\t// Animation loop that controls the acceleration after pan gesture ends\n\t\t_registerStartAnimation('zoomPan');\n\t\tanimData.lastNow = _getCurrentTime();\n\t\tanimData.panAnimLoop();\n\t},\n\n\n\t_finishSwipeMainScrollGesture = function(gestureType, _releaseAnimData) {\n\t\tvar itemChanged;\n\t\tif(!_mainScrollAnimating) {\n\t\t\t_currZoomedItemIndex = _currentItemIndex;\n\t\t}\n\n\n\t\t\n\t\tvar itemsDiff;\n\n\t\tif(gestureType === 'swipe') {\n\t\t\tvar totalShiftDist = _currPoint.x - _startPoint.x,\n\t\t\t\tisFastLastFlick = _releaseAnimData.lastFlickDist.x < 10;\n\n\t\t\t// if container is shifted for more than MIN_SWIPE_DISTANCE, \n\t\t\t// and last flick gesture was in right direction\n\t\t\tif(totalShiftDist > MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x > 20) ) {\n\t\t\t\t// go to prev item\n\t\t\t\titemsDiff = -1;\n\t\t\t} else if(totalShiftDist < -MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x < -20) ) {\n\t\t\t\t// go to next item\n\t\t\t\titemsDiff = 1;\n\t\t\t}\n\t\t}\n\n\t\tvar nextCircle;\n\n\t\tif(itemsDiff) {\n\t\t\t\n\t\t\t_currentItemIndex += itemsDiff;\n\n\t\t\tif(_currentItemIndex < 0) {\n\t\t\t\t_currentItemIndex = _options.loop ? _getNumItems()-1 : 0;\n\t\t\t\tnextCircle = true;\n\t\t\t} else if(_currentItemIndex >= _getNumItems()) {\n\t\t\t\t_currentItemIndex = _options.loop ? 0 : _getNumItems()-1;\n\t\t\t\tnextCircle = true;\n\t\t\t}\n\n\t\t\tif(!nextCircle || _options.loop) {\n\t\t\t\t_indexDiff += itemsDiff;\n\t\t\t\t_currPositionIndex -= itemsDiff;\n\t\t\t\titemChanged = true;\n\t\t\t}\n\t\t\t\n\n\t\t\t\n\t\t}\n\n\t\tvar animateToX = _slideSize.x * _currPositionIndex;\n\t\tvar animateToDist = Math.abs( animateToX - _mainScrollPos.x );\n\t\tvar finishAnimDuration;\n\n\n\t\tif(!itemChanged && animateToX > _mainScrollPos.x !== _releaseAnimData.lastFlickSpeed.x > 0) {\n\t\t\t// \"return to current\" duration, e.g. when dragging from slide 0 to -1\n\t\t\tfinishAnimDuration = 333; \n\t\t} else {\n\t\t\tfinishAnimDuration = Math.abs(_releaseAnimData.lastFlickSpeed.x) > 0 ? \n\t\t\t\t\t\t\t\t\tanimateToDist / Math.abs(_releaseAnimData.lastFlickSpeed.x) : \n\t\t\t\t\t\t\t\t\t333;\n\n\t\t\tfinishAnimDuration = Math.min(finishAnimDuration, 400);\n\t\t\tfinishAnimDuration = Math.max(finishAnimDuration, 250);\n\t\t}\n\n\t\tif(_currZoomedItemIndex === _currentItemIndex) {\n\t\t\titemChanged = false;\n\t\t}\n\t\t\n\t\t_mainScrollAnimating = true;\n\t\t\n\t\t_shout('mainScrollAnimStart');\n\n\t\t_animateProp('mainScroll', _mainScrollPos.x, animateToX, finishAnimDuration, framework.easing.cubic.out, \n\t\t\t_moveMainScroll,\n\t\t\tfunction() {\n\t\t\t\t_stopAllAnimations();\n\t\t\t\t_mainScrollAnimating = false;\n\t\t\t\t_currZoomedItemIndex = -1;\n\t\t\t\t\n\t\t\t\tif(itemChanged || _currZoomedItemIndex !== _currentItemIndex) {\n\t\t\t\t\tself.updateCurrItem();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t_shout('mainScrollAnimComplete');\n\t\t\t}\n\t\t);\n\n\t\tif(itemChanged) {\n\t\t\tself.updateCurrItem(true);\n\t\t}\n\n\t\treturn itemChanged;\n\t},\n\n\t_calculateZoomLevel = function(touchesDistance) {\n\t\treturn  1 / _startPointsDistance * touchesDistance * _startZoomLevel;\n\t},\n\n\t// Resets zoom if it's out of bounds\n\t_completeZoomGesture = function() {\n\t\tvar destZoomLevel = _currZoomLevel,\n\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\tif ( _currZoomLevel < minZoomLevel ) {\n\t\t\tdestZoomLevel = minZoomLevel;\n\t\t} else if ( _currZoomLevel > maxZoomLevel ) {\n\t\t\tdestZoomLevel = maxZoomLevel;\n\t\t}\n\n\t\tvar destOpacity = 1,\n\t\t\tonUpdate,\n\t\t\tinitialOpacity = _bgOpacity;\n\n\t\tif(_opacityChanged && !_isZoomingIn && !_wasOverInitialZoom && _currZoomLevel < minZoomLevel) {\n\t\t\t//_closedByScroll = true;\n\t\t\tself.close();\n\t\t\treturn true;\n\t\t}\n\n\t\tif(_opacityChanged) {\n\t\t\tonUpdate = function(now) {\n\t\t\t\t_applyBgOpacity(  (destOpacity - initialOpacity) * now + initialOpacity );\n\t\t\t};\n\t\t}\n\n\t\tself.zoomTo(destZoomLevel, 0, 200,  framework.easing.cubic.out, onUpdate);\n\t\treturn true;\n\t};\n\n\n_registerModule('Gestures', {\n\tpublicMethods: {\n\n\t\tinitGestures: function() {\n\n\t\t\t// helper function that builds touch/pointer/mouse events\n\t\t\tvar addEventNames = function(pref, down, move, up, cancel) {\n\t\t\t\t_dragStartEvent = pref + down;\n\t\t\t\t_dragMoveEvent = pref + move;\n\t\t\t\t_dragEndEvent = pref + up;\n\t\t\t\tif(cancel) {\n\t\t\t\t\t_dragCancelEvent = pref + cancel;\n\t\t\t\t} else {\n\t\t\t\t\t_dragCancelEvent = '';\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t_pointerEventEnabled = _features.pointerEvent;\n\t\t\tif(_pointerEventEnabled && _features.touch) {\n\t\t\t\t// we don't need touch events, if browser supports pointer events\n\t\t\t\t_features.touch = false;\n\t\t\t}\n\n\t\t\tif(_pointerEventEnabled) {\n\t\t\t\tif(navigator.msPointerEnabled) {\n\t\t\t\t\t// IE10 pointer events are case-sensitive\n\t\t\t\t\taddEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n\t\t\t\t} else {\n\t\t\t\t\taddEventNames('pointer', 'down', 'move', 'up', 'cancel');\n\t\t\t\t}\n\t\t\t} else if(_features.touch) {\n\t\t\t\taddEventNames('touch', 'start', 'move', 'end', 'cancel');\n\t\t\t\t_likelyTouchDevice = true;\n\t\t\t} else {\n\t\t\t\taddEventNames('mouse', 'down', 'move', 'up');\t\n\t\t\t}\n\n\t\t\t_upMoveEvents = _dragMoveEvent + ' ' + _dragEndEvent  + ' ' +  _dragCancelEvent;\n\t\t\t_downEvents = _dragStartEvent;\n\n\t\t\tif(_pointerEventEnabled && !_likelyTouchDevice) {\n\t\t\t\t_likelyTouchDevice = (navigator.maxTouchPoints > 1) || (navigator.msMaxTouchPoints > 1);\n\t\t\t}\n\t\t\t// make variable public\n\t\t\tself.likelyTouchDevice = _likelyTouchDevice; \n\t\t\t\n\t\t\t_globalEventHandlers[_dragStartEvent] = _onDragStart;\n\t\t\t_globalEventHandlers[_dragMoveEvent] = _onDragMove;\n\t\t\t_globalEventHandlers[_dragEndEvent] = _onDragRelease; // the Kraken\n\n\t\t\tif(_dragCancelEvent) {\n\t\t\t\t_globalEventHandlers[_dragCancelEvent] = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\t// Bind mouse events on device with detected hardware touch support, in case it supports multiple types of input.\n\t\t\tif(_features.touch) {\n\t\t\t\t_downEvents += ' mousedown';\n\t\t\t\t_upMoveEvents += ' mousemove mouseup';\n\t\t\t\t_globalEventHandlers.mousedown = _globalEventHandlers[_dragStartEvent];\n\t\t\t\t_globalEventHandlers.mousemove = _globalEventHandlers[_dragMoveEvent];\n\t\t\t\t_globalEventHandlers.mouseup = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\tif(!_likelyTouchDevice) {\n\t\t\t\t// don't allow pan to next slide from zoomed state on Desktop\n\t\t\t\t_options.allowPanToNext = false;\n\t\t\t}\n\t\t}\n\n\t}\n});\n\n\n/*>>gestures*/\n\n/*>>show-hide-transition*/\n/**\n * show-hide-transition.js:\n *\n * Manages initial opening or closing transition.\n *\n * If you're not planning to use transition for gallery at all,\n * you may set options hideAnimationDuration and showAnimationDuration to 0,\n * and just delete startAnimation function.\n * \n */\n\n\nvar _showOrHideTimeout,\n\t_showOrHide = function(item, img, out, completeFn) {\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\n\t\t_initialZoomRunning = true;\n\t\t_initialContentSet = true;\n\t\t\n\t\t// dimensions of small thumbnail {x:,y:,w:}.\n\t\t// Height is optional, as calculated based on large image.\n\t\tvar thumbBounds; \n\t\tif(item.initialLayout) {\n\t\t\tthumbBounds = item.initialLayout;\n\t\t\titem.initialLayout = null;\n\t\t} else {\n\t\t\tthumbBounds = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t}\n\n\t\tvar duration = out ? _options.hideAnimationDuration : _options.showAnimationDuration;\n\n\t\tvar onComplete = function() {\n\t\t\t_stopAnimation('initialZoom');\n\t\t\tif(!out) {\n\t\t\t\t_applyBgOpacity(1);\n\t\t\t\tif(img) {\n\t\t\t\t\timg.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tframework.addClass(template, 'pswp--animated-in');\n\t\t\t\t_shout('initialZoom' + (out ? 'OutEnd' : 'InEnd'));\n\t\t\t} else {\n\t\t\t\tself.template.removeAttribute('style');\n\t\t\t\tself.bg.removeAttribute('style');\n\t\t\t}\n\n\t\t\tif(completeFn) {\n\t\t\t\tcompleteFn();\n\t\t\t}\n\t\t\t_initialZoomRunning = false;\n\t\t};\n\n\t\t// if bounds aren't provided, just open gallery without animation\n\t\tif(!duration || !thumbBounds || thumbBounds.x === undefined) {\n\n\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\n\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t_applyCurrentZoomPan();\n\n\t\t\ttemplate.style.opacity = out ? 0 : 1;\n\t\t\t_applyBgOpacity(1);\n\n\t\t\tif(duration) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tonComplete();\n\t\t\t\t}, duration);\n\t\t\t} else {\n\t\t\t\tonComplete();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar startAnimation = function() {\n\t\t\tvar closeWithRaf = _closedByScroll,\n\t\t\t\tfadeEverything = !self.currItem.src || self.currItem.loadError || _options.showHideOpacity;\n\t\t\t\n\t\t\t// apply hw-acceleration to image\n\t\t\tif(item.miniImg) {\n\t\t\t\titem.miniImg.style.webkitBackfaceVisibility = 'hidden';\n\t\t\t}\n\n\t\t\tif(!out) {\n\t\t\t\t_currZoomLevel = thumbBounds.w / item.w;\n\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t_panOffset.y = thumbBounds.y - _initalWindowScrollY;\n\n\t\t\t\tself[fadeEverything ? 'template' : 'bg'].style.opacity = 0.001;\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t\t_registerStartAnimation('initialZoom');\n\t\t\t\n\t\t\tif(out && !closeWithRaf) {\n\t\t\t\tframework.removeClass(template, 'pswp--animated-in');\n\t\t\t}\n\n\t\t\tif(fadeEverything) {\n\t\t\t\tif(out) {\n\t\t\t\t\tframework[ (closeWithRaf ? 'remove' : 'add') + 'Class' ](template, 'pswp--animate_opacity');\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--animate_opacity');\n\t\t\t\t\t}, 30);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_showOrHideTimeout = setTimeout(function() {\n\n\t\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\t\t\t\t\n\n\t\t\t\tif(!out) {\n\n\t\t\t\t\t// \"in\" animation always uses CSS transitions (instead of rAF).\n\t\t\t\t\t// CSS transition work faster here, \n\t\t\t\t\t// as developer may also want to animate other things, \n\t\t\t\t\t// like ui on top of sliding area, which can be animated just via CSS\n\t\t\t\t\t\n\t\t\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t_applyBgOpacity(1);\n\n\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\ttemplate.style.opacity = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_applyBgOpacity(1);\n\t\t\t\t\t}\n\n\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t} else {\n\n\t\t\t\t\t// \"out\" animation uses rAF only when PhotoSwipe is closed by browser scroll, to recalculate position\n\t\t\t\t\tvar destZoomLevel = thumbBounds.w / item.w,\n\t\t\t\t\t\tinitialPanOffset = {\n\t\t\t\t\t\t\tx: _panOffset.x,\n\t\t\t\t\t\t\ty: _panOffset.y\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinitialZoomLevel = _currZoomLevel,\n\t\t\t\t\t\tinitalBgOpacity = _bgOpacity,\n\t\t\t\t\t\tonUpdate = function(now) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(now === 1) {\n\t\t\t\t\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t\t\t\t\t_panOffset.y = thumbBounds.y  - _currentWindowScrollY;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = (thumbBounds.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t\t\t\t\t_panOffset.y = (thumbBounds.y - _currentWindowScrollY - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\t\t\ttemplate.style.opacity = 1 - now;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_applyBgOpacity( initalBgOpacity - now * initalBgOpacity );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\tif(closeWithRaf) {\n\t\t\t\t\t\t_animateProp('initialZoom', 0, 1, duration, framework.easing.cubic.out, onUpdate, onComplete);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonUpdate(1);\n\t\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t}, out ? 25 : 90); // Main purpose of this delay is to give browser time to paint and\n\t\t\t\t\t// create composite layers of PhotoSwipe UI parts (background, controls, caption, arrows).\n\t\t\t\t\t// Which avoids lag at the beginning of scale transition.\n\t\t};\n\t\tstartAnimation();\n\n\t\t\n\t};\n\n/*>>show-hide-transition*/\n\n/*>>items-controller*/\n/**\n*\n* Controller manages gallery items, their dimensions, and their content.\n* \n*/\n\nvar _items,\n\t_tempPanAreaSize = {},\n\t_imagesToAppendPool = [],\n\t_initialContentSet,\n\t_initialZoomRunning,\n\t_controllerDefaultOptions = {\n\t\tindex: 0,\n\t\terrorMsg: '<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',\n\t\tforceProgressiveLoading: false, // TODO\n\t\tpreload: [1,1],\n\t\tgetNumItemsFn: function() {\n\t\t\treturn _items.length;\n\t\t}\n\t};\n\n\nvar _getItemAt,\n\t_getNumItems,\n\t_initialIsLoop,\n\t_getZeroBounds = function() {\n\t\treturn {\n\t\t\tcenter:{x:0,y:0}, \n\t\t\tmax:{x:0,y:0}, \n\t\t\tmin:{x:0,y:0}\n\t\t};\n\t},\n\t_calculateSingleItemPanBounds = function(item, realPanElementW, realPanElementH ) {\n\t\tvar bounds = item.bounds;\n\n\t\t// position of element when it's centered\n\t\tbounds.center.x = Math.round((_tempPanAreaSize.x - realPanElementW) / 2);\n\t\tbounds.center.y = Math.round((_tempPanAreaSize.y - realPanElementH) / 2) + item.vGap.top;\n\n\t\t// maximum pan position\n\t\tbounds.max.x = (realPanElementW > _tempPanAreaSize.x) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.x - realPanElementW) : \n\t\t\t\t\t\t\tbounds.center.x;\n\t\t\n\t\tbounds.max.y = (realPanElementH > _tempPanAreaSize.y) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.y - realPanElementH) + item.vGap.top : \n\t\t\t\t\t\t\tbounds.center.y;\n\t\t\n\t\t// minimum pan position\n\t\tbounds.min.x = (realPanElementW > _tempPanAreaSize.x) ? 0 : bounds.center.x;\n\t\tbounds.min.y = (realPanElementH > _tempPanAreaSize.y) ? item.vGap.top : bounds.center.y;\n\t},\n\t_calculateItemSize = function(item, viewportSize, zoomLevel) {\n\n\t\tif (item.src && !item.loadError) {\n\t\t\tvar isInitial = !zoomLevel;\n\t\t\t\n\t\t\tif(isInitial) {\n\t\t\t\tif(!item.vGap) {\n\t\t\t\t\titem.vGap = {top:0,bottom:0};\n\t\t\t\t}\n\t\t\t\t// allows overriding vertical margin for individual items\n\t\t\t\t_shout('parseVerticalMargin', item);\n\t\t\t}\n\n\n\t\t\t_tempPanAreaSize.x = viewportSize.x;\n\t\t\t_tempPanAreaSize.y = viewportSize.y - item.vGap.top - item.vGap.bottom;\n\n\t\t\tif (isInitial) {\n\t\t\t\tvar hRatio = _tempPanAreaSize.x / item.w;\n\t\t\t\tvar vRatio = _tempPanAreaSize.y / item.h;\n\n\t\t\t\titem.fitRatio = hRatio < vRatio ? hRatio : vRatio;\n\t\t\t\t//item.fillRatio = hRatio > vRatio ? hRatio : vRatio;\n\n\t\t\t\tvar scaleMode = _options.scaleMode;\n\n\t\t\t\tif (scaleMode === 'orig') {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t} else if (scaleMode === 'fit') {\n\t\t\t\t\tzoomLevel = item.fitRatio;\n\t\t\t\t}\n\n\t\t\t\tif (zoomLevel > 1) {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t}\n\n\t\t\t\titem.initialZoomLevel = zoomLevel;\n\t\t\t\t\n\t\t\t\tif(!item.bounds) {\n\t\t\t\t\t// reuse bounds object\n\t\t\t\t\titem.bounds = _getZeroBounds(); \n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!zoomLevel) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculateSingleItemPanBounds(item, item.w * zoomLevel, item.h * zoomLevel);\n\n\t\t\tif (isInitial && zoomLevel === item.initialZoomLevel) {\n\t\t\t\titem.initialPosition = item.bounds.center;\n\t\t\t}\n\n\t\t\treturn item.bounds;\n\t\t} else {\n\t\t\titem.w = item.h = 0;\n\t\t\titem.initialZoomLevel = item.fitRatio = 1;\n\t\t\titem.bounds = _getZeroBounds();\n\t\t\titem.initialPosition = item.bounds.center;\n\n\t\t\t// if it's not image, we return zero bounds (content is not zoomable)\n\t\t\treturn item.bounds;\n\t\t}\n\t\t\n\t},\n\n\t\n\n\n\t_appendImage = function(index, item, baseDiv, img, preventAnimation, keepPlaceholder) {\n\t\t\n\n\t\tif(item.loadError) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(img) {\n\n\t\t\titem.imageAppended = true;\n\t\t\t_setImageSize(item, img, (item === self.currItem && _renderMaxResolution) );\n\t\t\t\n\t\t\tbaseDiv.appendChild(img);\n\n\t\t\tif(keepPlaceholder) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(item && item.loaded && item.placeholder) {\n\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\t},\n\t\n\n\n\t_preloadImage = function(item) {\n\t\titem.loading = true;\n\t\titem.loaded = false;\n\t\tvar img = item.img = framework.createEl('pswp__img', 'img');\n\t\tvar onComplete = function() {\n\t\t\titem.loading = false;\n\t\t\titem.loaded = true;\n\n\t\t\tif(item.loadComplete) {\n\t\t\t\titem.loadComplete(item);\n\t\t\t} else {\n\t\t\t\titem.img = null; // no need to store image object\n\t\t\t}\n\t\t\timg.onload = img.onerror = null;\n\t\t\timg = null;\n\t\t};\n\t\timg.onload = onComplete;\n\t\timg.onerror = function() {\n\t\t\titem.loadError = true;\n\t\t\tonComplete();\n\t\t};\t\t\n\n\t\timg.src = item.src;// + '?a=' + Math.random();\n\n\t\treturn img;\n\t},\n\t_checkForError = function(item, cleanUp) {\n\t\tif(item.src && item.loadError && item.container) {\n\n\t\t\tif(cleanUp) {\n\t\t\t\titem.container.innerHTML = '';\n\t\t\t}\n\n\t\t\titem.container.innerHTML = _options.errorMsg.replace('%url%',  item.src );\n\t\t\treturn true;\n\t\t\t\n\t\t}\n\t},\n\t_setImageSize = function(item, img, maxRes) {\n\t\tif(!item.src) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(!img) {\n\t\t\timg = item.container.lastChild;\n\t\t}\n\n\t\tvar w = maxRes ? item.w : Math.round(item.w * item.fitRatio),\n\t\t\th = maxRes ? item.h : Math.round(item.h * item.fitRatio);\n\t\t\n\t\tif(item.placeholder && !item.loaded) {\n\t\t\titem.placeholder.style.width = w + 'px';\n\t\t\titem.placeholder.style.height = h + 'px';\n\t\t}\n\n\t\timg.style.width = w + 'px';\n\t\timg.style.height = h + 'px';\n\t},\n\t_appendImagesPool = function() {\n\n\t\tif(_imagesToAppendPool.length) {\n\t\t\tvar poolItem;\n\n\t\t\tfor(var i = 0; i < _imagesToAppendPool.length; i++) {\n\t\t\t\tpoolItem = _imagesToAppendPool[i];\n\t\t\t\tif( poolItem.holder.index === poolItem.index ) {\n\t\t\t\t\t_appendImage(poolItem.index, poolItem.item, poolItem.baseDiv, poolItem.img, false, poolItem.clearPlaceholder);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_imagesToAppendPool = [];\n\t\t}\n\t};\n\t\n\n\n_registerModule('Controller', {\n\n\tpublicMethods: {\n\n\t\tlazyLoadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\t\t\tvar item = _getItemAt(index);\n\n\t\t\tif(!item || ((item.loaded || item.loading) && !_itemsNeedUpdate)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tif (!item.src) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_preloadImage(item);\n\t\t},\n\t\tinitController: function() {\n\t\t\tframework.extend(_options, _controllerDefaultOptions, true);\n\t\t\tself.items = _items = items;\n\t\t\t_getItemAt = self.getItemAt;\n\t\t\t_getNumItems = _options.getNumItemsFn; //self.getNumItems;\n\n\n\n\t\t\t_initialIsLoop = _options.loop;\n\t\t\tif(_getNumItems() < 3) {\n\t\t\t\t_options.loop = false; // disable loop if less then 3 items\n\t\t\t}\n\n\t\t\t_listen('beforeChange', function(diff) {\n\n\t\t\t\tvar p = _options.preload,\n\t\t\t\t\tisNext = diff === null ? true : (diff >= 0),\n\t\t\t\t\tpreloadBefore = Math.min(p[0], _getNumItems() ),\n\t\t\t\t\tpreloadAfter = Math.min(p[1], _getNumItems() ),\n\t\t\t\t\ti;\n\n\n\t\t\t\tfor(i = 1; i <= (isNext ? preloadAfter : preloadBefore); i++) {\n\t\t\t\t\tself.lazyLoadItem(_currentItemIndex+i);\n\t\t\t\t}\n\t\t\t\tfor(i = 1; i <= (isNext ? preloadBefore : preloadAfter); i++) {\n\t\t\t\t\tself.lazyLoadItem(_currentItemIndex-i);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('initialLayout', function() {\n\t\t\t\tself.currItem.initialLayout = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t\t});\n\n\t\t\t_listen('mainScrollAnimComplete', _appendImagesPool);\n\t\t\t_listen('initialZoomInEnd', _appendImagesPool);\n\n\n\n\t\t\t_listen('destroy', function() {\n\t\t\t\tvar item;\n\t\t\t\tfor(var i = 0; i < _items.length; i++) {\n\t\t\t\t\titem = _items[i];\n\t\t\t\t\t// remove reference to DOM elements, for GC\n\t\t\t\t\tif(item.container) {\n\t\t\t\t\t\titem.container = null; \n\t\t\t\t\t}\n\t\t\t\t\tif(item.placeholder) {\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.img) {\n\t\t\t\t\t\titem.img = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.preloader) {\n\t\t\t\t\t\titem.preloader = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.loadError) {\n\t\t\t\t\t\titem.loaded = item.loadError = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_imagesToAppendPool = null;\n\t\t\t});\n\t\t},\n\n\n\t\tgetItemAt: function(index) {\n\t\t\tif (index >= 0) {\n\t\t\t\treturn _items[index] !== undefined ? _items[index] : false;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tallowProgressiveImg: function() {\n\t\t\t// 1. Progressive image loading isn't working on webkit/blink \n\t\t\t//    when hw-acceleration (e.g. translateZ) is applied to IMG element.\n\t\t\t//    That's why in PhotoSwipe parent element gets zoom transform, not image itself.\n\t\t\t//    \n\t\t\t// 2. Progressive image loading sometimes blinks in webkit/blink when applying animation to parent element.\n\t\t\t//    That's why it's disabled on touch devices (mainly because of swipe transition)\n\t\t\t//    \n\t\t\t// 3. Progressive image loading sometimes doesn't work in IE (up to 11).\n\n\t\t\t// Don't allow progressive loading on non-large touch devices\n\t\t\treturn _options.forceProgressiveLoading || !_likelyTouchDevice || _options.mouseUsed || screen.width > 1200; \n\t\t\t// 1200 - to eliminate touch devices with large screen (like Chromebook Pixel)\n\t\t},\n\n\t\tsetContent: function(holder, index) {\n\n\t\t\tif(_options.loop) {\n\t\t\t\tindex = _getLoopedId(index);\n\t\t\t}\n\n\t\t\tvar prevItem = self.getItemAt(holder.index);\n\t\t\tif(prevItem) {\n\t\t\t\tprevItem.container = null;\n\t\t\t}\n\t\n\t\t\tvar item = self.getItemAt(index),\n\t\t\t\timg;\n\t\t\t\n\t\t\tif(!item) {\n\t\t\t\tholder.el.innerHTML = '';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// allow to override data\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tholder.index = index;\n\t\t\tholder.item = item;\n\n\t\t\t// base container DIV is created only once for each of 3 holders\n\t\t\tvar baseDiv = item.container = framework.createEl('pswp__zoom-wrap'); \n\n\t\t\t\n\n\t\t\tif(!item.src && item.html) {\n\t\t\t\tif(item.html.tagName) {\n\t\t\t\t\tbaseDiv.appendChild(item.html);\n\t\t\t\t} else {\n\t\t\t\t\tbaseDiv.innerHTML = item.html;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_checkForError(item);\n\n\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\n\t\t\tif(item.src && !item.loadError && !item.loaded) {\n\n\t\t\t\titem.loadComplete = function(item) {\n\n\t\t\t\t\t// gallery closed before image finished loading\n\t\t\t\t\tif(!_isOpen) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// check if holder hasn't changed while image was loading\n\t\t\t\t\tif(holder && holder.index === index ) {\n\t\t\t\t\t\tif( _checkForError(item, true) ) {\n\t\t\t\t\t\t\titem.loadComplete = item.img = null;\n\t\t\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t\t\t_applyZoomPanToItem(item);\n\n\t\t\t\t\t\t\tif(holder.index === _currentItemIndex) {\n\t\t\t\t\t\t\t\t// recalculate dimensions\n\t\t\t\t\t\t\t\tself.updateCurrZoomItem();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif( !item.imageAppended ) {\n\t\t\t\t\t\t\tif(_features.transform && (_mainScrollAnimating || _initialZoomRunning) ) {\n\t\t\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\t\t\titem:item,\n\t\t\t\t\t\t\t\t\tbaseDiv:baseDiv,\n\t\t\t\t\t\t\t\t\timg:item.img,\n\t\t\t\t\t\t\t\t\tindex:index,\n\t\t\t\t\t\t\t\t\tholder:holder,\n\t\t\t\t\t\t\t\t\tclearPlaceholder:true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, _mainScrollAnimating || _initialZoomRunning, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// remove preloader & mini-img\n\t\t\t\t\t\t\tif(!_initialZoomRunning && item.placeholder) {\n\t\t\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\titem.loadComplete = null;\n\t\t\t\t\titem.img = null; // no need to store image element after it's added\n\n\t\t\t\t\t_shout('imageLoadComplete', index, item);\n\t\t\t\t};\n\n\t\t\t\tif(framework.features.transform) {\n\t\t\t\t\t\n\t\t\t\t\tvar placeholderClassName = 'pswp__img pswp__img--placeholder'; \n\t\t\t\t\tplaceholderClassName += (item.msrc ? '' : ' pswp__img--placeholder--blank');\n\n\t\t\t\t\tvar placeholder = framework.createEl(placeholderClassName, item.msrc ? 'img' : '');\n\t\t\t\t\tif(item.msrc) {\n\t\t\t\t\t\tplaceholder.src = item.msrc;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t_setImageSize(item, placeholder);\n\n\t\t\t\t\tbaseDiv.appendChild(placeholder);\n\t\t\t\t\titem.placeholder = placeholder;\n\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\t\n\n\t\t\t\tif(!item.loading) {\n\t\t\t\t\t_preloadImage(item);\n\t\t\t\t}\n\n\n\t\t\t\tif( self.allowProgressiveImg() ) {\n\t\t\t\t\t// just append image\n\t\t\t\t\tif(!_initialContentSet && _features.transform) {\n\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\titem:item, \n\t\t\t\t\t\t\tbaseDiv:baseDiv, \n\t\t\t\t\t\t\timg:item.img, \n\t\t\t\t\t\t\tindex:index, \n\t\t\t\t\t\t\tholder:holder\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, true, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if(item.src && !item.loadError) {\n\t\t\t\t// image object is created every time, due to bugs of image loading & delay when switching images\n\t\t\t\timg = framework.createEl('pswp__img', 'img');\n\t\t\t\timg.style.opacity = 1;\n\t\t\t\timg.src = item.src;\n\t\t\t\t_setImageSize(item, img);\n\t\t\t\t_appendImage(index, item, baseDiv, img, true);\n\t\t\t}\n\t\t\t\n\n\t\t\tif(!_initialContentSet && index === _currentItemIndex) {\n\t\t\t\t_currZoomElementStyle = baseDiv.style;\n\t\t\t\t_showOrHide(item, (img ||item.img) );\n\t\t\t} else {\n\t\t\t\t_applyZoomPanToItem(item);\n\t\t\t}\n\n\t\t\tholder.el.innerHTML = '';\n\t\t\tholder.el.appendChild(baseDiv);\n\t\t},\n\n\t\tcleanSlide: function( item ) {\n\t\t\tif(item.img ) {\n\t\t\t\titem.img.onload = item.img.onerror = null;\n\t\t\t}\n\t\t\titem.loaded = item.loading = item.img = item.imageAppended = false;\n\t\t}\n\n\t}\n});\n\n/*>>items-controller*/\n\n/*>>tap*/\n/**\n * tap.js:\n *\n * Displatches tap and double-tap events.\n * \n */\n\nvar tapTimer,\n\ttapReleasePoint = {},\n\t_dispatchTapEvent = function(origEvent, releasePoint, pointerType) {\t\t\n\t\tvar e = document.createEvent( 'CustomEvent' ),\n\t\t\teDetail = {\n\t\t\t\torigEvent:origEvent, \n\t\t\t\ttarget:origEvent.target, \n\t\t\t\treleasePoint: releasePoint, \n\t\t\t\tpointerType:pointerType || 'touch'\n\t\t\t};\n\n\t\te.initCustomEvent( 'pswpTap', true, true, eDetail );\n\t\torigEvent.target.dispatchEvent(e);\n\t};\n\n_registerModule('Tap', {\n\tpublicMethods: {\n\t\tinitTap: function() {\n\t\t\t_listen('firstTouchStart', self.onTapStart);\n\t\t\t_listen('touchRelease', self.onTapRelease);\n\t\t\t_listen('destroy', function() {\n\t\t\t\ttapReleasePoint = {};\n\t\t\t\ttapTimer = null;\n\t\t\t});\n\t\t},\n\t\tonTapStart: function(touchList) {\n\t\t\tif(touchList.length > 1) {\n\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\ttapTimer = null;\n\t\t\t}\n\t\t},\n\t\tonTapRelease: function(e, releasePoint) {\n\t\t\tif(!releasePoint) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_moved && !_isMultitouch && !_numAnimations) {\n\t\t\t\tvar p0 = releasePoint;\n\t\t\t\tif(tapTimer) {\n\t\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\t\ttapTimer = null;\n\n\t\t\t\t\t// Check if taped on the same place\n\t\t\t\t\tif ( _isNearbyPoints(p0, tapReleasePoint) ) {\n\t\t\t\t\t\t_shout('doubleTap', p0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(releasePoint.type === 'mouse') {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint, 'mouse');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar clickedTagName = e.target.tagName.toUpperCase();\n\t\t\t\t// avoid double tap delay on buttons and elements that have class pswp__single-tap\n\t\t\t\tif(clickedTagName === 'BUTTON' || framework.hasClass(e.target, 'pswp__single-tap') ) {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_equalizePoints(tapReleasePoint, p0);\n\n\t\t\t\ttapTimer = setTimeout(function() {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\ttapTimer = null;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t}\n\t}\n});\n\n/*>>tap*/\n\n/*>>desktop-zoom*/\n/**\n *\n * desktop-zoom.js:\n *\n * - Binds mousewheel event for paning zoomed image.\n * - Manages \"dragging\", \"zoomed-in\", \"zoom-out\" classes.\n *   (which are used for cursors and zoom icon)\n * - Adds toggleDesktopZoom function.\n * \n */\n\nvar _wheelDelta;\n\t\n_registerModule('DesktopZoom', {\n\n\tpublicMethods: {\n\n\t\tinitDesktopZoom: function() {\n\n\t\t\tif(_oldIE) {\n\t\t\t\t// no zoom for old IE (<=8)\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_likelyTouchDevice) {\n\t\t\t\t// if detected hardware touch support, we wait until mouse is used,\n\t\t\t\t// and only then apply desktop-zoom features\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\tself.setupDesktopZoom();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.setupDesktopZoom(true);\n\t\t\t}\n\n\t\t},\n\n\t\tsetupDesktopZoom: function(onInit) {\n\n\t\t\t_wheelDelta = {};\n\n\t\t\tvar events = 'wheel mousewheel DOMMouseScroll';\n\t\t\t\n\t\t\t_listen('bindEvents', function() {\n\t\t\t\tframework.bind(template, events,  self.handleMouseWheel);\n\t\t\t});\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_wheelDelta) {\n\t\t\t\t\tframework.unbind(template, events, self.handleMouseWheel);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.mouseZoomedIn = false;\n\n\t\t\tvar hasDraggingClass,\n\t\t\t\tupdateZoomable = function() {\n\t\t\t\t\tif(self.mouseZoomedIn) {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--zoomed-in');\n\t\t\t\t\t\tself.mouseZoomedIn = false;\n\t\t\t\t\t}\n\t\t\t\t\tif(_currZoomLevel < 1) {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--zoom-allowed');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--zoom-allowed');\n\t\t\t\t\t}\n\t\t\t\t\tremoveDraggingClass();\n\t\t\t\t},\n\t\t\t\tremoveDraggingClass = function() {\n\t\t\t\t\tif(hasDraggingClass) {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--dragging');\n\t\t\t\t\t\thasDraggingClass = false;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t_listen('resize' , updateZoomable);\n\t\t\t_listen('afterChange' , updateZoomable);\n\t\t\t_listen('pointerDown', function() {\n\t\t\t\tif(self.mouseZoomedIn) {\n\t\t\t\t\thasDraggingClass = true;\n\t\t\t\t\tframework.addClass(template, 'pswp--dragging');\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('pointerUp', removeDraggingClass);\n\n\t\t\tif(!onInit) {\n\t\t\t\tupdateZoomable();\n\t\t\t}\n\t\t\t\n\t\t},\n\n\t\thandleMouseWheel: function(e) {\n\n\t\t\tif(_currZoomLevel <= self.currItem.fitRatio) {\n\t\t\t\tif( _options.modal ) {\n\n\t\t\t\t\tif (!_options.closeOnScroll || _numAnimations || _isDragging) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} else if(_transformKey && Math.abs(e.deltaY) > 2) {\n\t\t\t\t\t\t// close PhotoSwipe\n\t\t\t\t\t\t// if browser supports transforms & scroll changed enough\n\t\t\t\t\t\t_closedByScroll = true;\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// allow just one event to fire\n\t\t\te.stopPropagation();\n\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n\t\t\t_wheelDelta.x = 0;\n\n\t\t\tif('deltaX' in e) {\n\t\t\t\tif(e.deltaMode === 1 /* DOM_DELTA_LINE */) {\n\t\t\t\t\t// 18 - average line height\n\t\t\t\t\t_wheelDelta.x = e.deltaX * 18;\n\t\t\t\t\t_wheelDelta.y = e.deltaY * 18;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.x = e.deltaX;\n\t\t\t\t\t_wheelDelta.y = e.deltaY;\n\t\t\t\t}\n\t\t\t} else if('wheelDelta' in e) {\n\t\t\t\tif(e.wheelDeltaX) {\n\t\t\t\t\t_wheelDelta.x = -0.16 * e.wheelDeltaX;\n\t\t\t\t}\n\t\t\t\tif(e.wheelDeltaY) {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDeltaY;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDelta;\n\t\t\t\t}\n\t\t\t} else if('detail' in e) {\n\t\t\t\t_wheelDelta.y = e.detail;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculatePanBounds(_currZoomLevel, true);\n\n\t\t\tvar newPanX = _panOffset.x - _wheelDelta.x,\n\t\t\t\tnewPanY = _panOffset.y - _wheelDelta.y;\n\n\t\t\t// only prevent scrolling in nonmodal mode when not at edges\n\t\t\tif (_options.modal ||\n\t\t\t\t(\n\t\t\t\tnewPanX <= _currPanBounds.min.x && newPanX >= _currPanBounds.max.x &&\n\t\t\t\tnewPanY <= _currPanBounds.min.y && newPanY >= _currPanBounds.max.y\n\t\t\t\t) ) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\t// TODO: use rAF instead of mousewheel?\n\t\t\tself.panTo(newPanX, newPanY);\n\t\t},\n\n\t\ttoggleDesktopZoom: function(centerPoint) {\n\t\t\tcenterPoint = centerPoint || {x:_viewportSize.x/2 + _offset.x, y:_viewportSize.y/2 + _offset.y };\n\n\t\t\tvar doubleTapZoomLevel = _options.getDoubleTapZoom(true, self.currItem);\n\t\t\tvar zoomOut = _currZoomLevel === doubleTapZoomLevel;\n\t\t\t\n\t\t\tself.mouseZoomedIn = !zoomOut;\n\n\t\t\tself.zoomTo(zoomOut ? self.currItem.initialZoomLevel : doubleTapZoomLevel, centerPoint, 333);\n\t\t\tframework[ (!zoomOut ? 'add' : 'remove') + 'Class'](template, 'pswp--zoomed-in');\n\t\t}\n\n\t}\n});\n\n\n/*>>desktop-zoom*/\n\n/*>>history*/\n/**\n *\n * history.js:\n *\n * - Back button to close gallery.\n * \n * - Unique URL for each slide: example.com/&pid=1&gid=3\n *   (where PID is picture index, and GID and gallery index)\n *   \n * - Switch URL when slides change.\n * \n */\n\n\nvar _historyDefaultOptions = {\n\thistory: true,\n\tgalleryUID: 1\n};\n\nvar _historyUpdateTimeout,\n\t_hashChangeTimeout,\n\t_hashAnimCheckTimeout,\n\t_hashChangedByScript,\n\t_hashChangedByHistory,\n\t_hashReseted,\n\t_initialHash,\n\t_historyChanged,\n\t_closedFromURL,\n\t_urlChangedOnce,\n\t_windowLoc,\n\n\t_supportsPushState,\n\n\t_getHash = function() {\n\t\treturn _windowLoc.hash.substring(1);\n\t},\n\t_cleanHistoryTimeouts = function() {\n\n\t\tif(_historyUpdateTimeout) {\n\t\t\tclearTimeout(_historyUpdateTimeout);\n\t\t}\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\t},\n\n\t// pid - Picture index\n\t// gid - Gallery index\n\t_parseItemIndexFromURL = function() {\n\t\tvar hash = _getHash(),\n\t\t\tparams = {};\n\n\t\tif(hash.length < 5) { // pid=1\n\t\t\treturn params;\n\t\t}\n\n\t\tvar i, vars = hash.split('&');\n\t\tfor (i = 0; i < vars.length; i++) {\n\t\t\tif(!vars[i]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar pair = vars[i].split('=');\t\n\t\t\tif(pair.length < 2) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tparams[pair[0]] = pair[1];\n\t\t}\n\t\tif(_options.galleryPIDs) {\n\t\t\t// detect custom pid in hash and search for it among the items collection\n\t\t\tvar searchfor = params.pid;\n\t\t\tparams.pid = 0; // if custom pid cannot be found, fallback to the first item\n\t\t\tfor(i = 0; i < _items.length; i++) {\n\t\t\t\tif(_items[i].pid === searchfor) {\n\t\t\t\t\tparams.pid = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tparams.pid = parseInt(params.pid,10)-1;\n\t\t}\n\t\tif( params.pid < 0 ) {\n\t\t\tparams.pid = 0;\n\t\t}\n\t\treturn params;\n\t},\n\t_updateHash = function() {\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\n\n\t\tif(_numAnimations || _isDragging) {\n\t\t\t// changing browser URL forces layout/paint in some browsers, which causes noticable lag during animation\n\t\t\t// that's why we update hash only when no animations running\n\t\t\t_hashAnimCheckTimeout = setTimeout(_updateHash, 500);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(_hashChangedByScript) {\n\t\t\tclearTimeout(_hashChangeTimeout);\n\t\t} else {\n\t\t\t_hashChangedByScript = true;\n\t\t}\n\n\n\t\tvar pid = (_currentItemIndex + 1);\n\t\tvar item = _getItemAt( _currentItemIndex );\n\t\tif(item.hasOwnProperty('pid')) {\n\t\t\t// carry forward any custom pid assigned to the item\n\t\t\tpid = item.pid;\n\t\t}\n\t\tvar newHash = _initialHash + '&'  +  'gid=' + _options.galleryUID + '&' + 'pid=' + pid;\n\n\t\tif(!_historyChanged) {\n\t\t\tif(_windowLoc.hash.indexOf(newHash) === -1) {\n\t\t\t\t_urlChangedOnce = true;\n\t\t\t}\n\t\t\t// first time - add new hisory record, then just replace\n\t\t}\n\n\t\tvar newURL = _windowLoc.href.split('#')[0] + '#' +  newHash;\n\n\t\tif( _supportsPushState ) {\n\n\t\t\tif('#' + newHash !== window.location.hash) {\n\t\t\t\thistory[_historyChanged ? 'replaceState' : 'pushState']('', document.title, newURL);\n\t\t\t}\n\n\t\t} else {\n\t\t\tif(_historyChanged) {\n\t\t\t\t_windowLoc.replace( newURL );\n\t\t\t} else {\n\t\t\t\t_windowLoc.hash = newHash;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\n\t\t_historyChanged = true;\n\t\t_hashChangeTimeout = setTimeout(function() {\n\t\t\t_hashChangedByScript = false;\n\t\t}, 60);\n\t};\n\n\n\n\t\n\n_registerModule('History', {\n\n\t\n\n\tpublicMethods: {\n\t\tinitHistory: function() {\n\n\t\t\tframework.extend(_options, _historyDefaultOptions, true);\n\n\t\t\tif( !_options.history ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t_windowLoc = window.location;\n\t\t\t_urlChangedOnce = false;\n\t\t\t_closedFromURL = false;\n\t\t\t_historyChanged = false;\n\t\t\t_initialHash = _getHash();\n\t\t\t_supportsPushState = ('pushState' in history);\n\n\n\t\t\tif(_initialHash.indexOf('gid=') > -1) {\n\t\t\t\t_initialHash = _initialHash.split('&gid=')[0];\n\t\t\t\t_initialHash = _initialHash.split('?gid=')[0];\n\t\t\t}\n\t\t\t\n\n\t\t\t_listen('afterChange', self.updateURL);\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tframework.unbind(window, 'hashchange', self.onHashChange);\n\t\t\t});\n\n\n\t\t\tvar returnToOriginal = function() {\n\t\t\t\t_hashReseted = true;\n\t\t\t\tif(!_closedFromURL) {\n\n\t\t\t\t\tif(_urlChangedOnce) {\n\t\t\t\t\t\thistory.back();\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif(_initialHash) {\n\t\t\t\t\t\t\t_windowLoc.hash = _initialHash;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (_supportsPushState) {\n\n\t\t\t\t\t\t\t\t// remove hash from url without refreshing it or scrolling to top\n\t\t\t\t\t\t\t\thistory.pushState('', document.title,  _windowLoc.pathname + _windowLoc.search );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_windowLoc.hash = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t_cleanHistoryTimeouts();\n\t\t\t};\n\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_closedByScroll) {\n\t\t\t\t\t// if PhotoSwipe is closed by scroll, we go \"back\" before the closing animation starts\n\t\t\t\t\t// this is done to keep the scroll position\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('destroy', function() {\n\t\t\t\tif(!_hashReseted) {\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('firstUpdate', function() {\n\t\t\t\t_currentItemIndex = _parseItemIndexFromURL().pid;\n\t\t\t});\n\n\t\t\t\n\n\t\t\t\n\t\t\tvar index = _initialHash.indexOf('pid=');\n\t\t\tif(index > -1) {\n\t\t\t\t_initialHash = _initialHash.substring(0, index);\n\t\t\t\tif(_initialHash.slice(-1) === '&') {\n\t\t\t\t\t_initialHash = _initialHash.slice(0, -1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tif(_isOpen) { // hasn't destroyed yet\n\t\t\t\t\tframework.bind(window, 'hashchange', self.onHashChange);\n\t\t\t\t}\n\t\t\t}, 40);\n\t\t\t\n\t\t},\n\t\tonHashChange: function() {\n\n\t\t\tif(_getHash() === _initialHash) {\n\n\t\t\t\t_closedFromURL = true;\n\t\t\t\tself.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!_hashChangedByScript) {\n\n\t\t\t\t_hashChangedByHistory = true;\n\t\t\t\tself.goTo( _parseItemIndexFromURL().pid );\n\t\t\t\t_hashChangedByHistory = false;\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tupdateURL: function() {\n\n\t\t\t// Delay the update of URL, to avoid lag during transition, \n\t\t\t// and to not to trigger actions like \"refresh page sound\" or \"blinking favicon\" to often\n\t\t\t\n\t\t\t_cleanHistoryTimeouts();\n\t\t\t\n\n\t\t\tif(_hashChangedByHistory) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_historyChanged) {\n\t\t\t\t_updateHash(); // first time\n\t\t\t} else {\n\t\t\t\t_historyUpdateTimeout = setTimeout(_updateHash, 800);\n\t\t\t}\n\t\t}\n\t\n\t}\n});\n\n\n/*>>history*/\n\tframework.extend(self, publicMethods); };\n"],"sourceRoot":""}